{"version":3,"file":"CreateEdit-a620da41.mjs","sources":["../../../resources/js/pages/Operator/CreateEdit.vue"],"sourcesContent":["<template>\n    <Head :title=\"$t(operator ? 'edit_operator' : 'new_operator')\" />\n\n    <DefaultLayout>\n        <template #header>\n            <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">\n                {{ $t(operator ? \"edit_operator\" : \"new_operator\") }}\n            </h2>\n        </template>\n\n        <div>\n            <v-form @submit.prevent=\"submit\">\n                <v-container>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-text-field\n                                v-if=\"operator\"\n                                :model-value=\"operator.user?.name\"\n                                :label=\"$t('user')\"\n                                readonly\n                            />\n                            <v-autocomplete\n                                v-else\n                                v-model=\"form.user\"\n                                :label=\"$t('user')\"\n                                :items=\"users\"\n                                item-title=\"name\"\n                                item-value=\"id\"\n                                :error-messages=\"errors.user\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-text-field\n                                v-model=\"form.name\"\n                                maxlength=\"255\"\n                                :label=\"$t('display_name')\"\n                                :placeholder=\"name\"\n                                :persistent-placeholder=\"!!name.length\"\n                                :error-messages=\"errors.name\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"6\">\n                            <v-text-field\n                                v-model.number=\"form.ticket_limit\"\n                                type=\"number\"\n                                min=\"1\"\n                                max=\"100\"\n                                :label=\"$t('ticket_limit')\"\n                                placeholder=\"&infin;\"\n                                persistent-placeholder\n                                :error-messages=\"errors.ticket_limit\"\n                            />\n                        </v-col>\n                        <v-col cols=\"12\" md=\"6\">\n                            <v-text-field\n                                v-model.number=\"form.complexity_limit\"\n                                type=\"number\"\n                                min=\"1\"\n                                max=\"1000\"\n                                :label=\"$t('complexity_limit')\"\n                                placeholder=\"&infin;\"\n                                persistent-placeholder\n                                :error-messages=\"errors.complexity_limit\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-autocomplete\n                                v-model=\"form.teams\"\n                                multiple\n                                clearable\n                                chips\n                                closable-chips\n                                :label=\"$t('teams')\"\n                                :items=\"teams\"\n                                item-title=\"name\"\n                                item-value=\"uuid\"\n                                :error-messages=\"errors.teams\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-btn type=\"submit\" color=\"primary\" class=\"mr-3\" :disabled=\"form.processing\">\n                                {{ $t(\"save\") }}\n                            </v-btn>\n                            <Link :href=\"route('ticket-allocator.operators.index')\" class=\"mr-3\">\n                                <v-btn>{{ $t(\"cancel\") }}</v-btn>\n                            </Link>\n                        </v-col>\n                    </v-row>\n                </v-container>\n            </v-form>\n        </div>\n    </DefaultLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport DefaultLayout from \"@/layouts/Default.vue\";\nimport { Head, Link, useForm } from \"@inertiajs/vue3\";\nimport { computed } from \"vue\";\nimport type { User, Operator, OperatorTeam } from \"@/types\";\nimport route from \"ziggy-js\";\n\nconst props = defineProps<{\n    users: User[];\n    operator?: Operator;\n    teams: OperatorTeam[];\n    errors: Record<string, string>;\n}>();\n\nconst form = useForm<{\n    user: number | null;\n    name: string | null;\n    ticket_limit: number | null;\n    complexity_limit: number | null;\n    teams: string[];\n}>({\n    user: null,\n    name: props.operator?.display_name ?? \"\",\n    ticket_limit: props.operator?.ticket_limit ?? null,\n    complexity_limit: props.operator?.complexity_limit ?? null,\n    teams: props.operator?.teams.map((team) => team.uuid) ?? [],\n});\n\nconst name = computed(() => {\n    const name = props.operator?.user?.name;\n    if (name) return name;\n\n    const index = props.users.findIndex((user) => user.id === form.user);\n    return index < 0 ? \"\" : props.users[index].name;\n});\n\nfunction submit() {\n    props.operator\n        ? form.put(route(\"ticket-allocator.operators.update\", props.operator.uuid))\n        : form.post(route(\"ticket-allocator.operators.store\"));\n}\n</script>\n"],"names":["name","_b","_a","route"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAoHA,UAAM,OAAO,QAMV;AAAA,MACC,MAAM;AAAA,MACN,QAAM,WAAM,aAAN,mBAAgB,iBAAgB;AAAA,MACtC,gBAAc,WAAM,aAAN,mBAAgB,iBAAgB;AAAA,MAC9C,oBAAkB,WAAM,aAAN,mBAAgB,qBAAoB;AAAA,MACtD,SAAO,WAAM,aAAN,mBAAgB,MAAM,IAAI,CAAC,SAAS,KAAK,UAAS,CAAC;AAAA,IAAA,CAC7D;AAEK,UAAA,OAAO,SAAS,MAAM;;AAClBA,YAAAA,SAAOC,OAAAC,MAAA,MAAM,aAAN,gBAAAA,IAAgB,SAAhB,gBAAAD,IAAsB;AAC/BD,UAAAA;AAAaA,eAAAA;AAEX,YAAA,QAAQ,MAAM,MAAM,UAAU,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI;AACnE,aAAO,QAAQ,IAAI,KAAK,MAAM,MAAM,KAAK,EAAE;AAAA,IAAA,CAC9C;AAED,aAAS,SAAS;AACd,YAAM,WACA,KAAK,IAAIG,EAAM,qCAAqC,MAAM,SAAS,IAAI,CAAC,IACxE,KAAK,KAAKA,EAAM,kCAAkC,CAAC;AAAA,IAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}