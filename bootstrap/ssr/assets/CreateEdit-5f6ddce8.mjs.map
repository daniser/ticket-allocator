{"version":3,"file":"CreateEdit-5f6ddce8.mjs","sources":["../../../resources/js/pages/Factor/CreateEdit.vue"],"sourcesContent":["<template>\n    <Head :title=\"$t(factor ? 'edit_factor' : 'new_factor')\" />\n\n    <DefaultLayout>\n        <template #header>\n            <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">\n                {{ $t(factor ? \"edit_factor\" : \"new_factor\") }}\n            </h2>\n        </template>\n\n        <div>\n            <v-form @submit.prevent=\"submit\">\n                <v-container>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-checkbox v-model=\"form.active\" :label=\"$t('active')\" />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-text-field :model-value=\"factorTypeName\" :label=\"$t('factor_type')\" readonly />\n                            <input v-model=\"form.type\" type=\"hidden\" />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-text-field\n                                v-model=\"form.name\"\n                                maxlength=\"255\"\n                                :label=\"$t('name')\"\n                                :placeholder=\"factorTypeName\"\n                                :persistent-placeholder=\"!!factorTypeName.length\"\n                                :error-messages=\"errors.name\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-textarea\n                                v-model=\"form.description\"\n                                :label=\"$t('description')\"\n                                :error-messages=\"errors.description\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <component\n                                :is=\"formComponent\"\n                                v-if=\"!!formComponent\"\n                                v-model=\"form.config\"\n                                :entries=\"entries\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-btn type=\"submit\" color=\"primary\" class=\"mr-3\" :disabled=\"form.processing\">\n                                {{ $t(\"save\") }}\n                            </v-btn>\n                            <Link :href=\"route('ticket-allocator.factors.index')\" class=\"mr-3\">\n                                <v-btn>{{ $t(\"cancel\") }}</v-btn>\n                            </Link>\n                        </v-col>\n                    </v-row>\n                </v-container>\n            </v-form>\n        </div>\n    </DefaultLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport DefaultLayout from \"@/layouts/Default.vue\";\nimport { Head, Link, useForm, router } from \"@inertiajs/vue3\";\nimport type { Entry, Factor, FactorType } from \"@/types\";\nimport route from \"ziggy-js\";\nimport { computed, ref, onBeforeMount } from \"vue\";\n\nconst props = defineProps<{\n    factor?: Factor;\n    factorType?: FactorType;\n    entries: Entry[];\n    errors: Record<string, string>;\n}>();\n\nconst form = useForm({\n    active: !props.factor?.deleted_at,\n    type: props.factor?.type.alias ?? props.factorType?.alias ?? \"\",\n    name: props.factor?.display_name ?? \"\",\n    description: props.factor?.description ?? \"\",\n    config: props.factor?.config ?? [],\n});\n\nconst factorTypeName = computed(() => props.factor?.type.name ?? props.factorType?.name ?? \"\");\nconst factorTypeComponent = computed(() => props.factor?.type.component ?? props.factorType?.component ?? null);\n\nconst formComponent = ref();\nonBeforeMount(async () => {\n    const componentName = factorTypeComponent.value;\n    if (componentName !== null) {\n        formComponent.value = await router.resolveComponent(componentName);\n    }\n});\n\nfunction submit() {\n    props.factor\n        ? form.put(route(\"ticket-allocator.factors.update\", props.factor.uuid))\n        : form.post(route(\"ticket-allocator.factors.store\"));\n}\n</script>\n"],"names":["_a","_b","route"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,UAAM,OAAO,QAAQ;AAAA,MACjB,QAAQ,GAAC,WAAM,WAAN,mBAAc;AAAA,MACvB,QAAM,WAAM,WAAN,mBAAc,KAAK,YAAS,WAAM,eAAN,mBAAkB,UAAS;AAAA,MAC7D,QAAM,WAAM,WAAN,mBAAc,iBAAgB;AAAA,MACpC,eAAa,WAAM,WAAN,mBAAc,gBAAe;AAAA,MAC1C,UAAQ,WAAM,WAAN,mBAAc,WAAU,CAAC;AAAA,IAAA,CACpC;AAEK,UAAA,iBAAiB,SAAS,MAAM;;AAAA,eAAAA,MAAA,MAAM,WAAN,gBAAAA,IAAc,KAAK,WAAQC,MAAA,MAAM,eAAN,gBAAAA,IAAkB,SAAQ;AAAA,KAAE;AACvF,UAAA,sBAAsB,SAAS,MAAM;;AAAA,eAAAD,MAAA,MAAM,WAAN,gBAAAA,IAAc,KAAK,gBAAaC,MAAA,MAAM,eAAN,gBAAAA,IAAkB,cAAa;AAAA,KAAI;AAE9G,UAAM,gBAAgB;AACtB,kBAAc,YAAY;AACtB,YAAM,gBAAgB,oBAAoB;AAC1C,UAAI,kBAAkB,MAAM;AACxB,sBAAc,QAAQ,MAAM,OAAO,iBAAiB,aAAa;AAAA,MACrE;AAAA,IAAA,CACH;AAED,aAAS,SAAS;AACd,YAAM,SACA,KAAK,IAAIC,EAAM,mCAAmC,MAAM,OAAO,IAAI,CAAC,IACpE,KAAK,KAAKA,EAAM,gCAAgC,CAAC;AAAA,IAC3D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}