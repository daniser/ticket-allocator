{"version":3,"file":"Index-081d0a82.mjs","sources":["../../../node_modules/vuetify/lib/components/VDialog/VDialog.mjs","../../../resources/js/pages/Factor/Index.vue"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VDialog.css\";\n\n// Components\nimport { VDialogTransition } from \"../transitions/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VOverlay } from \"../VOverlay/index.mjs\"; // Composables\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\";\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\"; // Utilities\nimport { computed, mergeProps, nextTick, ref, watch } from 'vue';\nimport { focusableChildren, genericComponent, IN_BROWSER, useRender } from \"../../util/index.mjs\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\"; // Types\nexport const VDialog = genericComponent()({\n  name: 'VDialog',\n  props: {\n    fullscreen: Boolean,\n    retainFocus: {\n      type: Boolean,\n      default: true\n    },\n    scrollable: Boolean,\n    ...makeVOverlayProps({\n      origin: 'center center',\n      scrollStrategy: 'block',\n      transition: {\n        component: VDialogTransition\n      },\n      zIndex: 2400\n    })\n  },\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      scopeId\n    } = useScopeId();\n    const overlay = ref();\n    function onFocusin(e) {\n      const before = e.relatedTarget;\n      const after = e.target;\n      if (before !== after && overlay.value?.contentEl &&\n      // We're the topmost dialog\n      overlay.value?.globalTop &&\n      // It isn't the document or the dialog body\n      ![document, overlay.value.contentEl].includes(after) &&\n      // It isn't inside the dialog body\n      !overlay.value.contentEl.contains(after)) {\n        const focusable = focusableChildren(overlay.value.contentEl);\n        if (!focusable.length) return;\n        const firstElement = focusable[0];\n        const lastElement = focusable[focusable.length - 1];\n        if (before === firstElement) {\n          lastElement.focus();\n        } else {\n          firstElement.focus();\n        }\n      }\n    }\n    if (IN_BROWSER) {\n      watch(() => isActive.value && props.retainFocus, val => {\n        val ? document.addEventListener('focusin', onFocusin) : document.removeEventListener('focusin', onFocusin);\n      }, {\n        immediate: true\n      });\n    }\n    watch(isActive, async val => {\n      await nextTick();\n      if (val) {\n        overlay.value.contentEl?.focus({\n          preventScroll: true\n        });\n      } else {\n        overlay.value.activatorEl?.focus({\n          preventScroll: true\n        });\n      }\n    });\n    const activatorProps = computed(() => mergeProps({\n      'aria-haspopup': 'dialog',\n      'aria-expanded': String(isActive.value)\n    }, props.activatorProps));\n    useRender(() => {\n      const [overlayProps] = VOverlay.filterProps(props);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-dialog', {\n          'v-dialog--fullscreen': props.fullscreen,\n          'v-dialog--scrollable': props.scrollable\n        }, props.class],\n        \"style\": props.style\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"aria-modal\": \"true\",\n        \"activatorProps\": activatorProps.value,\n        \"role\": \"dialog\"\n      }, scopeId), {\n        activator: slots.activator,\n        default: function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createVNode(VDefaultsProvider, {\n            \"root\": true\n          }, {\n            default: () => [slots.default?.(...args)]\n          });\n        }\n      });\n    });\n    return forwardRefs({}, overlay);\n  }\n});\n//# sourceMappingURL=VDialog.mjs.map","<template>\n    <Head :title=\"$t('factors')\" />\n\n    <DefaultLayout>\n        <template #header>\n            <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">{{ $t(\"factors\") }}</h2>\n        </template>\n\n        <div>\n            <v-data-table :headers=\"headers\" :items=\"factors\">\n                <template #top>\n                    <v-toolbar flat>\n                        <v-toolbar-title>{{ $t(\"factors\") }}</v-toolbar-title>\n                        <v-divider class=\"mx-4\" inset vertical />\n                        <v-spacer />\n                        <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                            <template #activator=\"{ props }\">\n                                <v-btn color=\"primary\" dark v-bind=\"props\">{{ $t(\"new_factor\") }}</v-btn>\n                            </template>\n                            <v-card>\n                                <v-card-title>\n                                    <span class=\"text-h5\">{{ $t(\"choose_factor_type\") }}</span>\n                                </v-card-title>\n                                <v-card-text>\n                                    <v-container>\n                                        <v-row>\n                                            <v-col cols=\"12\" md=\"12\">\n                                                <v-select\n                                                    :label=\"$t('factor_type')\"\n                                                    :items=\"factorDictionary\"\n                                                    item-title=\"name\"\n                                                    item-value=\"alias\"\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                    </v-container>\n                                </v-card-text>\n                                <v-card-actions>\n                                    <v-spacer />\n                                    <v-btn color=\"blue-darken-1\" variant=\"text\" @click=\"close\">\n                                        {{ $t(\"cancel\") }}\n                                    </v-btn>\n                                    <v-btn color=\"blue-darken-1\" variant=\"text\" @click=\"close\">\n                                        {{ $t(\"create\") }}\n                                    </v-btn>\n                                </v-card-actions>\n                            </v-card>\n                        </v-dialog>\n                    </v-toolbar>\n                </template>\n                <template #[`item.active`]=\"{ item }\">\n                    <Link\n                        as=\"span\"\n                        :href=\"route('ticket-allocator.factors.update', item.raw.uuid)\"\n                        method=\"patch\"\n                        :data=\"{ active: !!item.raw.deleted_at }\"\n                    >\n                        <v-checkbox-btn :model-value=\"!item.raw.deleted_at\" />\n                    </Link>\n                </template>\n                <template #[`item.actions`]=\"{ item }\">\n                    <Link :href=\"route('ticket-allocator.factors.edit', item.raw.uuid)\">\n                        <v-btn icon=\"mdi-pencil\" :title=\"$t('edit')\" size=\"small\" variant=\"plain\" />\n                    </Link>\n                    <Link\n                        as=\"span\"\n                        :href=\"route('ticket-allocator.factors.raise-priority', item.raw.uuid)\"\n                        method=\"put\"\n                    >\n                        <v-btn icon=\"mdi-arrow-up-thick\" :title=\"$t('raise_priority')\" size=\"small\" variant=\"plain\" />\n                    </Link>\n                    <Link\n                        as=\"span\"\n                        :href=\"route('ticket-allocator.factors.lower-priority', item.raw.uuid)\"\n                        method=\"put\"\n                    >\n                        <v-btn icon=\"mdi-arrow-down-thick\" :title=\"$t('lower_priority')\" size=\"small\" variant=\"plain\" />\n                    </Link>\n                    <Link as=\"span\" :href=\"route('ticket-allocator.factors.destroy', item.raw.uuid)\" method=\"delete\">\n                        <v-btn icon=\"mdi-delete\" :title=\"$t('remove')\" size=\"small\" variant=\"plain\" />\n                    </Link>\n                </template>\n            </v-data-table>\n        </div>\n    </DefaultLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport DefaultLayout from \"@/layouts/Default.vue\";\nimport { ref } from \"vue\";\nimport { Head, Link } from \"@inertiajs/vue3\";\nimport type { Factor, FactorType } from \"@/types\";\nimport { wTrans } from \"laravel-vue-i18n\";\nimport route from \"ziggy-js\";\n\ndefineProps<{\n    factors: Factor[];\n    factorDictionary: FactorType[];\n}>();\n\nconst headers = [\n    { title: wTrans(\"active\"), key: \"active\", sortable: false },\n    { title: wTrans(\"name\"), key: \"name\", sortable: false },\n    { title: wTrans(\"description\"), key: \"description\", sortable: false },\n    { title: wTrans(\"actions\"), key: \"actions\", sortable: false },\n];\n\nconst dialog = ref();\n\nfunction close() {\n    dialog.value = null;\n}\n</script>\n"],"names":["_createVNode","_mergeProps"],"mappings":"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","x_google_ignoreList":[0]}