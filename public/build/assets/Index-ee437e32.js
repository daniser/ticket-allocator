import{a as x,A as p}from"./Default.vue_vue_type_script_setup_true_lang-8d8f63e1.js";import{p as z,aU as F,aV as I,t as N,Q as R,aW as A,r as _,K as U,w as D,n as O,c as B,z as C,x as L,am as E,y as e,aX as M,aY as W,N as Z,aa as q,ae as V,aZ as K,af as Q,ag as X,u as c,ah as l,ao as Y,aM as j,ak as y,al as u,an as h,a_ as G,V as m,a$ as H,b0 as J,b1 as aa,aq as T}from"./app-8270aed4.js";import{V as ea,a as ta,b as P}from"./VToolbar-4467adc5.js";import{V as la,b as oa,a as ra,c as sa}from"./VCard-791955c4.js";import{V as ia}from"./VContainer-3890cbf8.js";import{V as na,a as ca}from"./VRow-f7bee5c9.js";const ua=z({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...F({origin:"center center",scrollStrategy:"block",transition:{component:I},zIndex:2400})},"VDialog"),da=N()({name:"VDialog",props:ua(),emits:{"update:modelValue":o=>!0},setup(o,w){let{slots:n}=w;const r=R(o,"modelValue"),{scopeId:g}=A(),t=_();function d(a){var f,v;const s=a.relatedTarget,i=a.target;if(s!==i&&((f=t.value)!=null&&f.contentEl)&&((v=t.value)!=null&&v.globalTop)&&![document,t.value.contentEl].includes(i)&&!t.value.contentEl.contains(i)){const b=Z(t.value.contentEl);if(!b.length)return;const $=b[0],S=b[b.length-1];s===$?S.focus():$.focus()}}U&&D(()=>r.value&&o.retainFocus,a=>{a?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),D(r,async a=>{var s,i;await O(),a?(s=t.value.contentEl)==null||s.focus({preventScroll:!0}):(i=t.value.activatorEl)==null||i.focus({preventScroll:!0})});const k=B(()=>C({"aria-haspopup":"dialog","aria-expanded":String(r.value)},o.activatorProps));return L(()=>{const[a]=E.filterProps(o);return e(E,C({ref:t,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},a,{modelValue:r.value,"onUpdate:modelValue":s=>r.value=s,"aria-modal":"true",activatorProps:k.value,role:"dialog"},g),{activator:n.activator,default:function(){for(var s=arguments.length,i=new Array(s),f=0;f<s;f++)i[f]=arguments[f];return e(M,{root:"VDialog"},{default:()=>{var v;return[(v=n.default)==null?void 0:v.call(n,...i)]}})}})}),W({},t)}}),fa={class:"font-semibold text-xl text-gray-800 leading-tight"},ma={class:"text-h5"},ha=q({__name:"Index",props:{factors:{},factorDictionary:{}},setup(o){const w=B(()=>[{title:V("active"),key:"active",sortable:!1},{title:V("type"),key:"type.name",sortable:!1},{title:V("name"),key:"name",sortable:!1},{title:V("description"),key:"description",sortable:!1},{title:V("actions"),key:"actions",sortable:!1}]),n=_(),r=_();function g(){n.value=null}return(t,d)=>{const k=K("v-data-table");return Q(),X(Y,null,[e(c(j),{title:t.$t("factors")},null,8,["title"]),e(x,null,{header:l(()=>[y("h2",fa,u(t.$t("factors")),1)]),default:l(()=>[y("div",null,[e(k,{headers:w.value,items:t.factors},{top:l(()=>[e(ea,{flat:""},{default:l(()=>[e(ta,null,{default:l(()=>[h(u(t.$t("factors")),1)]),_:1}),e(G,{class:"mx-4",inset:"",vertical:""}),e(P),e(da,{modelValue:n.value,"onUpdate:modelValue":d[1]||(d[1]=a=>n.value=a),"max-width":"500px"},{activator:l(({props:a})=>[e(m,C({color:"primary",dark:""},a),{default:l(()=>[h(u(t.$t("new_factor")),1)]),_:2},1040)]),default:l(()=>[e(la,null,{default:l(()=>[e(oa,null,{default:l(()=>[y("span",ma,u(t.$t("choose_factor_type")),1)]),_:1}),e(ra,null,{default:l(()=>[e(ia,null,{default:l(()=>[e(na,null,{default:l(()=>[e(ca,{cols:"12",md:"12"},{default:l(()=>[e(H,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=a=>r.value=a),label:t.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(sa,null,{default:l(()=>[e(P),e(m,{color:"primary",dark:"",onClick:g},{default:l(()=>[h(u(t.$t("cancel")),1)]),_:1}),e(m,{to:c(p)("ticket-allocator.factors.create",{type:r.value}),disabled:!r.value,color:"primary",dark:"",onClick:g},{default:l(()=>[h(u(t.$t("create")),1)]),_:1},8,["to","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),["item.active"]:l(({item:a})=>[e(c(J),{as:"span",href:c(p)("ticket-allocator.factors.update",a.raw.uuid),method:"patch",data:{active:!!a.raw.deleted_at}},{default:l(()=>[e(aa,{"model-value":!a.raw.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),["item.type.name"]:l(({item:a})=>[y("span",{class:T({italic:a.raw.type.excluded})},u(a.raw.type.name),3)]),["item.name"]:l(({item:a})=>[y("span",{class:T({italic:a.raw.type.excluded&&!a.raw.display_name})},u(a.raw.name),3)]),["item.actions"]:l(({item:a})=>[e(m,{to:c(p)("ticket-allocator.factors.edit",a.raw.uuid),icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),e(m,{to:c(p)("ticket-allocator.factors.raise-priority",a.raw.uuid),method:"put",icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(m,{to:c(p)("ticket-allocator.factors.lower-priority",a.raw.uuid),method:"put",icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(m,{to:c(p)("ticket-allocator.factors.destroy",a.raw.uuid),method:"delete",icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{ha as default};
//# sourceMappingURL=Index-ee437e32.js.map
