import{h as J,ap as ue,aQ as fe,as as se,at as pe,d as A,j as Q,au as ie,av as re,aR as ge,k as a,aS as ce,ay as _,aA as de,aT as be,aU as he,aV as Ve,aW as xe,aX as ke,aY as ye,aZ as Ce,r as y,ar as X,a_ as Fe,a$ as we,b0 as Pe,b1 as Ie,w as M,n as Z,b2 as Se,a8 as G,b3 as Ae,b4 as _e,b5 as te,V as De,b6 as Be,ak as q,b7 as ve,b8 as ee,b9 as Re,ba as Te,bb as Ue,bc as Ne,b as $e,bd as Ee,be as He,bf as Me,T as ae,U as ze,bg as Le,bh as Oe,bi as Ge,aK as Ke,bj as je,Z as Xe,bk as Ze,a1 as Qe,u as V,a2 as O,a0 as We,aB as Ye,a4 as le,a5 as qe,ai as Je,ab as ne,aP as et}from"./app-c961d766.js";import{a as tt,P as Y}from"./index.m-3523eb90.js";const at=J({name:"VCheckbox",inheritAttrs:!1,props:{...ue(),...fe()},emits:{"update:focused":e=>!0},setup(e,r){let{attrs:t,slots:C}=r;const{isFocused:c,focus:n,blur:d}=se(e),m=pe(),f=A(()=>e.id||`checkbox-${m}`);return Q(()=>{const[p,s]=ie(t),[o,g]=re(e),[b,N]=ge(e);return a(de,_({class:"v-checkbox"},p,o,{id:f.value,focused:c.value}),{...C,default:D=>{let{id:F,messagesId:$,isDisabled:B,isReadonly:E}=D;return a(ce,_(b,{id:F.value,"aria-describedby":$.value,disabled:B.value,readonly:E.value},s,{onFocus:n,onBlur:d}),C)}})}),{}}});function lt(e,r,t){if(r==null)return e;if(Array.isArray(r))throw new Error("Multiple matches is not implemented");return typeof r=="number"&&~r?a(G,null,[a("span",{class:"v-autocomplete__unmask"},[e.substr(0,r)]),a("span",{class:"v-autocomplete__mask"},[e.substr(r,t)]),a("span",{class:"v-autocomplete__unmask"},[e.substr(r+t)])]):e}const oe=be()({name:"VAutocomplete",props:{search:String,...he({filterKeys:["title"]}),...Ve(),...xe(ke({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...ye({transition:!1})},emits:{"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:t}=r;const{t:C}=Ce(),c=y(),n=y(!1),d=y(!0),m=X(e,"menu"),{items:f,transformIn:p,transformOut:s}=Fe(e),o=X(e,"search",""),g=X(e,"modelValue",[],l=>p(we(l)),l=>{const i=s(l);return e.multiple?i:i[0]??null}),b=Pe(),{filteredItems:N,getMatches:D}=Ie(e,f,A(()=>d.value?void 0:o.value)),F=A(()=>g.value.map(l=>f.value.find(i=>e.valueComparator(i.value,l.value))||l)),$=A(()=>e.hideSelected?N.value.filter(l=>!F.value.some(i=>i.value===l.value)):N.value),B=A(()=>F.value.map(l=>l.props.value)),E=y();function W(l){g.value=[],e.openOnClear&&(m.value=!0),o.value=""}function j(){e.hideNoData&&!f.value.length||e.readonly||b!=null&&b.isReadonly.value||(m.value=!0)}function R(l){if(!(e.readonly||b!=null&&b.isReadonly.value)){if(["Enter","ArrowDown","ArrowUp"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(m.value=!0),["Escape"].includes(l.key)&&(m.value=!1),["Enter","Escape","Tab"].includes(l.key)&&(d.value=!0),l.key==="ArrowDown"){var i;(i=E.value)==null||i.focus("next")}else if(l.key==="ArrowUp"){var x;(x=E.value)==null||x.focus("prev")}}}function T(l){o.value=l.target.value}function z(){n.value&&(d.value=!0)}function u(l){n.value=!0}function w(l){if(l.relatedTarget==null){var i;(i=c.value)==null||i.focus()}}const h=y(!1);function k(l){if(e.multiple){const i=B.value.findIndex(x=>e.valueComparator(x,l.value));if(i===-1)g.value=[...g.value,l],o.value="";else{const x=[...g.value];x.splice(i,1),g.value=x}}else g.value=[l],h.value=!0,t.selection||(o.value=l.title),m.value=!1,d.value=!0,Z(()=>h.value=!1)}return M(n,l=>{if(l){var i;h.value=!0,o.value=e.multiple||t.selection?"":String(((i=F.value.at(-1))==null?void 0:i.props.title)??""),d.value=!0,Z(()=>h.value=!1)}else m.value=!1,o.value=""}),M(o,l=>{!n.value||h.value||(l&&(m.value=!0),d.value=!l)}),Q(()=>{const l=!!(e.chips||t.chip),i=!!(!e.hideNoData||$.value.length||t.prepend||t.append||t["no-data"]),[x]=Se(e);return a(ve,_({ref:c},x,{modelValue:o.value,"onUpdate:modelValue":P=>{P==null&&(g.value=[])},validationValue:g.externalValue,dirty:g.value.length>0,onInput:T,class:["v-autocomplete",{"v-autocomplete--active-menu":m.value,"v-autocomplete--chips":!!e.chips,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!t.selection}],appendInnerIcon:e.menuIcon,readonly:e.readonly,"onClick:clear":W,"onClick:control":j,"onClick:input":j,onFocus:()=>n.value=!0,onBlur:()=>n.value=!1,onKeydown:R}),{...t,default:()=>{var P,H,K;return a(G,null,[a(Ae,_({modelValue:m.value,"onUpdate:modelValue":v=>m.value=v,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:z},e.menuProps),{default:()=>[i&&a(_e,{ref:E,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:v=>v.preventDefault(),onFocusin:u,onFocusout:w},{default:()=>[!$.value.length&&!e.hideNoData&&(((P=t["no-data"])==null?void 0:P.call(t))??a(te,{title:C(e.noDataText)},null)),(H=t["prepend-item"])==null?void 0:H.call(t),$.value.map((v,U)=>{var L;return((L=t.item)==null?void 0:L.call(t,{item:v,index:U,props:_(v.props,{onClick:()=>k(v)})}))??a(te,_({key:U},v.props,{onClick:()=>k(v)}),{prepend:I=>{let{isSelected:S}=I;return e.multiple&&!e.hideSelected?a(ce,{modelValue:S,ripple:!1},null):void 0},title:()=>{var I,S;return d.value?v.title:lt(v.title,(I=D(v))==null?void 0:I.title,((S=o.value)==null?void 0:S.length)??0)}})}),(K=t["append-item"])==null?void 0:K.call(t)]})]}),F.value.map((v,U)=>{function L(S){S.stopPropagation(),S.preventDefault(),k(v)}const I={"onClick:close":L,modelValue:!0,"onUpdate:modelValue":void 0};return a("div",{key:v.value,class:"v-autocomplete__selection"},[l?a(De,{defaults:{VChip:{closable:e.closableChips,size:"small",text:v.title}}},{default:()=>[t.chip?t.chip({item:v,index:U,props:I}):a(Be,I,null)]}):t.selection?t.selection({item:v,index:U}):a("span",{class:"v-autocomplete__selection-text"},[v.title,e.multiple&&U<F.value.length-1&&a("span",{class:"v-autocomplete__selection-comma"},[q(",")])])])})])}})}),ee({isFocused:n,isPristine:d,menu:m,search:o,filteredItems:N,select:k},c)}}),nt=J({name:"VForm",props:{...Re()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,r){let{slots:t,emit:C}=r;const c=Te(e),n=y();function d(f){f.preventDefault(),c.reset()}function m(f){const p=f,s=c.validate();p.then=s.then.bind(s),p.catch=s.catch.bind(s),p.finally=s.finally.bind(s),C("submit",p),p.defaultPrevented||s.then(o=>{let{valid:g}=o;if(g){var b;(b=n.value)==null||b.submit()}}),p.preventDefault()}return Q(()=>{var f;return a("form",{ref:n,class:"v-form",novalidate:!0,onReset:d,onSubmit:m},[(f=t.default)==null?void 0:f.call(t,c)])}),ee(c,n)}});const ot=J({name:"VTextarea",directives:{Intersect:Ue},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...ue(),...Ne()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,r){let{attrs:t,emit:C,slots:c}=r;const n=X(e,"modelValue"),{isFocused:d,focus:m,blur:f}=se(e),p=A(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),s=A(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function o(u,w){var h,k;!e.autofocus||!u||(h=w[0].target)==null||(k=h.focus)==null||k.call(h)}const g=y(),b=y(),N=y(""),D=y(),F=A(()=>d.value||e.persistentPlaceholder),$=A(()=>e.messages.length?e.messages:F.value||e.persistentHint?e.hint:"");function B(){if(D.value!==document.activeElement){var u;(u=D.value)==null||u.focus()}d.value||m()}function E(u){B(),C("click:control",u)}function W(u){u.stopPropagation(),B(),Z(()=>{n.value="",Ge(e["onClick:clear"],u)})}function j(u){n.value=u.target.value}const R=y();function T(){e.autoGrow&&Z(()=>{if(!R.value||!b.value)return;const u=getComputedStyle(R.value),w=getComputedStyle(b.value.$el),h=parseFloat(u.getPropertyValue("--v-field-padding-top"))+parseFloat(u.getPropertyValue("--v-input-padding-top"))+parseFloat(u.getPropertyValue("--v-field-padding-bottom")),k=R.value.scrollHeight,l=parseFloat(u.lineHeight),i=Math.max(parseFloat(e.rows)*l+h,parseFloat(w.getPropertyValue("--v-input-control-height"))),x=parseFloat(e.maxRows)*l+h||1/0;N.value=Ke(je(k??0,i,x))})}$e(T),M(n,T),M(()=>e.rows,T),M(()=>e.maxRows,T),M(()=>e.density,T);let z;return M(R,u=>{if(u)z=new ResizeObserver(T),z.observe(R.value);else{var w;(w=z)==null||w.disconnect()}}),Ee(()=>{var u;(u=z)==null||u.disconnect()}),Q(()=>{const u=!!(c.counter||e.counter||e.counterValue),w=!!(u||c.details),[h,k]=ie(t),[{modelValue:l,...i}]=re(e),[x]=He(e);return a(de,_({ref:g,modelValue:n.value,"onUpdate:modelValue":P=>n.value=P,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},h,i,{focused:d.value,messages:$.value}),{...c,default:P=>{let{isDisabled:H,isDirty:K,isReadonly:v,isValid:U}=P;return a(Me,_({ref:b,style:{"--v-textarea-control-height":N.value},"onClick:control":E,"onClick:clear":W,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},x,{active:F.value||K.value,dirty:K.value||e.dirty,focused:d.value,error:U.value===!1}),{...c,default:L=>{let{props:{class:I,...S}}=L;return a(G,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[e.prefix]),ae(a("textarea",_({ref:D,class:I,value:n.value,onInput:j,autofocus:e.autofocus,readonly:v.value,disabled:H.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:B,onBlur:f},S,k),null),[[ze("intersect"),{handler:o},null,{once:!0}]]),e.autoGrow&&ae(a("textarea",{class:[I,"v-textarea__sizer"],"onUpdate:modelValue":me=>n.value=me,ref:R,readonly:!0,"aria-hidden":"true"},null),[[Le,n.value]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:w?P=>{var H;return a(G,null,[(H=c.details)==null?void 0:H.call(c,P),u&&a(G,null,[a("span",null,null),a(Oe,{active:e.persistentCounter||d.value,value:p.value,max:s.value},c.counter)])])}:void 0})}),ee({},g,b,D)}}),ut={class:"font-semibold text-xl text-gray-800 leading-tight"},rt=Xe({__name:"CreateEdit",props:{team:null,operators:null,ticketCategories:null,errors:null},setup(e){var c,n,d,m,f;const r=e,t=Ze({active:!((c=r.team)!=null&&c.deleted_at),name:((n=r.team)==null?void 0:n.name)??"",description:((d=r.team)==null?void 0:d.description)??"",operators:((m=r.team)==null?void 0:m.operators.map(p=>p.uuid))??[],ticket_categories:((f=r.team)==null?void 0:f.ticket_categories.map(p=>p.uuid))??[]});function C(){r.team?t.put(Y("ticket-allocator.teams.update",r.team.uuid)):t.post(Y("ticket-allocator.teams.store"))}return(p,s)=>(We(),Qe(G,null,[a(V(Ye),{title:e.team?"Edit team":"New team"},null,8,["title"]),a(tt,null,{header:O(()=>[le("h2",ut,qe(e.team?"Edit team":"New team"),1)]),default:O(()=>[le("div",null,[a(nt,{onSubmit:Je(C,["prevent"])},{default:O(()=>[a(at,{modelValue:V(t).active,"onUpdate:modelValue":s[0]||(s[0]=o=>V(t).active=o),label:"Active"},null,8,["modelValue"]),a(ve,{modelValue:V(t).name,"onUpdate:modelValue":s[1]||(s[1]=o=>V(t).name=o),label:"Name","error-messages":e.errors.name,class:"mb-4"},null,8,["modelValue","error-messages"]),a(ot,{modelValue:V(t).description,"onUpdate:modelValue":s[2]||(s[2]=o=>V(t).description=o),label:"Description","error-messages":e.errors.description,class:"mb-4"},null,8,["modelValue","error-messages"]),a(oe,{modelValue:V(t).operators,"onUpdate:modelValue":s[3]||(s[3]=o=>V(t).operators=o),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Operators",items:e.operators,"item-title":"name","item-value":"uuid","error-messages":e.errors.operators,class:"mb-4"},null,8,["modelValue","items","error-messages"]),a(oe,{modelValue:V(t).ticket_categories,"onUpdate:modelValue":s[4]||(s[4]=o=>V(t).ticket_categories=o),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Ticket categories",items:e.ticketCategories,"item-title":"name","item-value":"uuid","error-messages":e.errors.ticket_categories,class:"mb-4"},null,8,["modelValue","items","error-messages"]),a(ne,{type:"submit",color:"primary",class:"mr-3",disabled:V(t).processing},{default:O(()=>[q("Save")]),_:1},8,["disabled"]),a(V(et),{href:V(Y)("ticket-allocator.teams.index"),class:"mr-3"},{default:O(()=>[a(ne,null,{default:O(()=>[q("Cancel")]),_:1})]),_:1},8,["href"])]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{rt as default};
//# sourceMappingURL=CreateEdit-413b12d5.js.map
