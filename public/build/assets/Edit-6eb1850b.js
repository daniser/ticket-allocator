import{aQ as re,aR as ie,aS as ce,aT as de,aU as ve,aV as fe,aW as me,r as k,ar as Z,aX as pe,aY as ge,aZ as he,a_ as Ve,d as A,w as B,n as j,j as Y,a$ as be,k as l,a8 as L,b0 as xe,ay as U,b1 as ke,b2 as J,b3 as ye,V as Ce,b4 as Fe,ak as W,b5 as ne,b6 as q,h as oe,b7 as we,b8 as Pe,b9 as Ie,ap as _e,ba as Se,as as De,b as Ae,bb as Re,au as Te,av as Be,bc as Ue,bd as Ne,T as ee,U as $e,be as Ee,bf as He,aA as Me,bg as ze,aK as Le,bh as Oe,Z as Ge,bi as Ke,a1 as Xe,u as V,a2 as z,a0 as Ze,aB as je,a4 as ue,ai as Qe,ab as te,aP as We}from"./app-e580a63e.js";import{a as Ye}from"./Default.vue_vue_type_script_setup_true_lang-08d99cdd.js";import{P as ae}from"./index.m-3c027150.js";function qe(e,c,t){if(c==null)return e;if(Array.isArray(c))throw new Error("Multiple matches is not implemented");return typeof c=="number"&&~c?l(L,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,c)]),l("span",{class:"v-autocomplete__mask"},[e.substr(c,t)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(c+t)])]):e}const le=re()({name:"VAutocomplete",props:{search:String,...ie({filterKeys:["title"]}),...ce(),...de(ve({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...fe({transition:!1})},emits:{"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:t}=c;const{t:R}=me(),r=k(),n=k(!1),u=k(!0),d=Z(e,"menu"),{items:g,transformIn:y,transformOut:b}=pe(e),v=Z(e,"search",""),f=Z(e,"modelValue",[],a=>y(ge(a)),a=>{const s=b(a);return e.multiple?s:s[0]??null}),h=he(),{filteredItems:N,getMatches:$}=Ve(e,g,A(()=>u.value?void 0:v.value)),I=A(()=>f.value.map(a=>g.value.find(s=>e.valueComparator(s.value,a.value))||a)),O=A(()=>e.hideSelected?N.value.filter(a=>!I.value.some(s=>s.value===a.value)):N.value),E=A(()=>I.value.map(a=>a.props.value)),G=k();function Q(a){f.value=[],e.openOnClear&&(d.value=!0),v.value=""}function X(){e.hideNoData&&!g.value.length||e.readonly||h!=null&&h.isReadonly.value||(d.value=!0)}function _(a){if(!(e.readonly||h!=null&&h.isReadonly.value)){if(["Enter","ArrowDown","ArrowUp"].includes(a.key)&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(d.value=!0),["Escape"].includes(a.key)&&(d.value=!1),["Enter","Escape","Tab"].includes(a.key)&&(u.value=!0),a.key==="ArrowDown"){var s;(s=G.value)==null||s.focus("next")}else if(a.key==="ArrowUp"){var p;(p=G.value)==null||p.focus("prev")}}}function S(a){v.value=a.target.value}function H(){n.value&&(u.value=!0)}function o(a){n.value=!0}function C(a){if(a.relatedTarget==null){var s;(s=r.value)==null||s.focus()}}const m=k(!1);function x(a){if(e.multiple){const s=E.value.findIndex(p=>e.valueComparator(p,a.value));if(s===-1)f.value=[...f.value,a],v.value="";else{const p=[...f.value];p.splice(s,1),f.value=p}}else f.value=[a],m.value=!0,t.selection||(v.value=a.title),d.value=!1,u.value=!0,j(()=>m.value=!1)}return B(n,a=>{if(a){var s;m.value=!0,v.value=e.multiple||t.selection?"":String(((s=I.value.at(-1))==null?void 0:s.props.title)??""),u.value=!0,j(()=>m.value=!1)}else d.value=!1,v.value=""}),B(v,a=>{!n.value||m.value||(a&&(d.value=!0),u.value=!a)}),Y(()=>{const a=!!(e.chips||t.chip),s=!!(!e.hideNoData||O.value.length||t.prepend||t.append||t["no-data"]),[p]=be(e);return l(ne,U({ref:r},p,{modelValue:v.value,"onUpdate:modelValue":F=>{F==null&&(f.value=[])},validationValue:f.externalValue,dirty:f.value.length>0,onInput:S,class:["v-autocomplete",{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!t.selection}],appendInnerIcon:e.menuIcon,readonly:e.readonly,"onClick:clear":Q,"onClick:control":X,"onClick:input":X,onFocus:()=>n.value=!0,onBlur:()=>n.value=!1,onKeydown:_}),{...t,default:()=>{var F,T,K;return l(L,null,[l(xe,U({modelValue:d.value,"onUpdate:modelValue":i=>d.value=i,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:H},e.menuProps),{default:()=>[s&&l(ke,{ref:G,selected:E.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onFocusin:o,onFocusout:C},{default:()=>[!O.value.length&&!e.hideNoData&&(((F=t["no-data"])==null?void 0:F.call(t))??l(J,{title:R(e.noDataText)},null)),(T=t["prepend-item"])==null?void 0:T.call(t),O.value.map((i,D)=>{var M;return((M=t.item)==null?void 0:M.call(t,{item:i,index:D,props:U(i.props,{onClick:()=>x(i)})}))??l(J,U({key:D},i.props,{onClick:()=>x(i)}),{prepend:w=>{let{isSelected:P}=w;return e.multiple&&!e.hideSelected?l(ye,{modelValue:P,ripple:!1},null):void 0},title:()=>{var w,P;return u.value?i.title:qe(i.title,(w=$(i))==null?void 0:w.title,((P=v.value)==null?void 0:P.length)??0)}})}),(K=t["append-item"])==null?void 0:K.call(t)]})]}),I.value.map((i,D)=>{function M(P){P.stopPropagation(),P.preventDefault(),x(i)}const w={"onClick:close":M,modelValue:!0,"onUpdate:modelValue":void 0};return l("div",{key:i.value,class:"v-autocomplete__selection"},[a?l(Ce,{defaults:{VChip:{closable:e.closableChips,size:"small",text:i.title}}},{default:()=>[t.chip?t.chip({item:i,index:D,props:w}):l(Fe,w,null)]}):t.selection?t.selection({item:i,index:D}):l("span",{class:"v-autocomplete__selection-text"},[i.title,e.multiple&&D<I.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[W(",")])])])})])}})}),q({isFocused:n,isPristine:u,menu:d,search:v,filteredItems:N,select:x},r)}}),Je=oe({name:"VForm",props:{...we()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,c){let{slots:t,emit:R}=c;const r=Pe(e),n=k();function u(g){g.preventDefault(),r.reset()}function d(g){const y=g,b=r.validate();y.then=b.then.bind(b),y.catch=b.catch.bind(b),y.finally=b.finally.bind(b),R("submit",y),y.defaultPrevented||b.then(v=>{let{valid:f}=v;if(f){var h;(h=n.value)==null||h.submit()}}),y.preventDefault()}return Y(()=>{var g;return l("form",{ref:n,class:"v-form",novalidate:!0,onReset:u,onSubmit:d},[(g=t.default)==null?void 0:g.call(t,r)])}),q(r,n)}});const et=oe({name:"VTextarea",directives:{Intersect:Ie},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,..._e(),...Se()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:t,emit:R,slots:r}=c;const n=Z(e,"modelValue"),{isFocused:u,focus:d,blur:g}=De(e),y=A(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),b=A(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function v(o,C){var m,x;!e.autofocus||!o||(m=C[0].target)==null||(x=m.focus)==null||x.call(m)}const f=k(),h=k(),N=k(""),$=k(),I=A(()=>u.value||e.persistentPlaceholder),O=A(()=>e.messages.length?e.messages:I.value||e.persistentHint?e.hint:"");function E(){if($.value!==document.activeElement){var o;(o=$.value)==null||o.focus()}u.value||d()}function G(o){E(),R("click:control",o)}function Q(o){o.stopPropagation(),E(),j(()=>{n.value="",ze(e["onClick:clear"],o)})}function X(o){n.value=o.target.value}const _=k();function S(){e.autoGrow&&j(()=>{if(!_.value||!h.value)return;const o=getComputedStyle(_.value),C=getComputedStyle(h.value.$el),m=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),x=_.value.scrollHeight,a=parseFloat(o.lineHeight),s=Math.max(parseFloat(e.rows)*a+m,parseFloat(C.getPropertyValue("--v-input-control-height"))),p=parseFloat(e.maxRows)*a+m||1/0;N.value=Le(Oe(x??0,s,p))})}Ae(S),B(n,S),B(()=>e.rows,S),B(()=>e.maxRows,S),B(()=>e.density,S);let H;return B(_,o=>{if(o)H=new ResizeObserver(S),H.observe(_.value);else{var C;(C=H)==null||C.disconnect()}}),Re(()=>{var o;(o=H)==null||o.disconnect()}),Y(()=>{const o=!!(r.counter||e.counter||e.counterValue),C=!!(o||r.details),[m,x]=Te(t),[{modelValue:a,...s}]=Be(e),[p]=Ue(e);return l(Me,U({ref:f,modelValue:n.value,"onUpdate:modelValue":F=>n.value=F,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},m,s,{focused:u.value,messages:O.value}),{...r,default:F=>{let{isDisabled:T,isDirty:K,isReadonly:i,isValid:D}=F;return l(Ne,U({ref:h,style:{"--v-textarea-control-height":N.value},"onClick:control":G,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},p,{active:I.value||K.value,dirty:K.value||e.dirty,focused:u.value,error:D.value===!1}),{...r,default:M=>{let{props:{class:w,...P}}=M;return l(L,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),ee(l("textarea",U({ref:$,class:w,value:n.value,onInput:X,autofocus:e.autofocus,readonly:i.value,disabled:T.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:E,onBlur:g},P,x),null),[[$e("intersect"),{handler:v},null,{once:!0}]]),e.autoGrow&&ee(l("textarea",{class:[w,"v-textarea__sizer"],"onUpdate:modelValue":se=>n.value=se,ref:_,readonly:!0,"aria-hidden":"true"},null),[[Ee,n.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:C?F=>{var T;return l(L,null,[(T=r.details)==null?void 0:T.call(r,F),o&&l(L,null,[l("span",null,null),l(He,{active:e.persistentCounter||u.value,value:y.value,max:b.value},r.counter)])])}:void 0})}),q({},f,h,$)}}),tt=ue("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit team",-1),ot=Ge({__name:"Edit",props:{team:null,operators:null,ticketCategories:null,errors:null},setup(e){const c=e,t=Ke({name:c.team.name,description:c.team.description,operators:c.team.operators.map(r=>r.uuid),ticket_categories:c.team.ticket_categories.map(r=>r.uuid)});function R(){t.put(ae("ticket-allocator.teams.update",c.team.uuid))}return(r,n)=>(Ze(),Xe(L,null,[l(V(je),{title:"Edit team"}),l(Ye,null,{header:z(()=>[tt]),default:z(()=>[ue("div",null,[l(Je,{onSubmit:Qe(R,["prevent"])},{default:z(()=>[l(ne,{modelValue:V(t).name,"onUpdate:modelValue":n[0]||(n[0]=u=>V(t).name=u),label:"Name","error-messages":e.errors.name},null,8,["modelValue","error-messages"]),l(et,{modelValue:V(t).description,"onUpdate:modelValue":n[1]||(n[1]=u=>V(t).description=u),label:"Description","error-messages":e.errors.description},null,8,["modelValue","error-messages"]),l(le,{modelValue:V(t).operators,"onUpdate:modelValue":n[2]||(n[2]=u=>V(t).operators=u),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Operators",items:e.operators,"item-title":"name","item-value":"uuid","error-messages":e.errors.operators},null,8,["modelValue","items","error-messages"]),l(le,{modelValue:V(t).ticket_categories,"onUpdate:modelValue":n[3]||(n[3]=u=>V(t).ticket_categories=u),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Ticket categories",items:e.ticketCategories,"item-title":"name","item-value":"uuid","error-messages":e.errors.ticket_categories},null,8,["modelValue","items","error-messages"]),l(te,{type:"submit",color:"primary",class:"mr-3",disabled:V(t).processing},{default:z(()=>[W("Save")]),_:1},8,["disabled"]),l(V(We),{href:V(ae)("ticket-allocator.teams.index"),class:"mr-3"},{default:z(()=>[l(te,null,{default:z(()=>[W("Cancel")]),_:1})]),_:1},8,["href"])]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{ot as default};
//# sourceMappingURL=Edit-6eb1850b.js.map
