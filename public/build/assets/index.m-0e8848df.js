var Xe=Object.defineProperty;var Ye=(e,r,t)=>r in e?Xe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var R=(e,r,t)=>(Ye(e,typeof r!="symbol"?r+"":r,t),t);import{r as N,a1 as q,aJ as Ge,aK as et,aL as tt,W as Ce,aM as rt,a2 as nt,aN as ke,aa as Le,aO as ot,E as oe,aA as it,aP as ee}from"./app-e94774c2.js";var ge;const J=typeof window<"u",Be=e=>typeof e=="function",at=e=>typeof e=="string",be=()=>+Date.now(),ue=()=>{};J&&((ge=window==null?void 0:window.navigator)!=null&&ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function T(e){return typeof e=="function"?e():Ce(e)}function Me(e,r){function t(...n){return new Promise((a,o)=>{Promise.resolve(e(()=>r.apply(this,n),{fn:r,thisArg:this,args:n})).then(a).catch(o)})}return t}const He=e=>e();function ut(e,r=!0,t=!0,n=!1){let a=0,o,i=!0,s=ue,l;const u=()=>{o&&(clearTimeout(o),o=void 0,s(),s=ue)};return c=>{const p=T(e),y=Date.now()-a,d=()=>l=c();if(u(),p<=0)return a=Date.now(),d();if(y>p&&(t||!i))a=Date.now(),d();else if(r)return new Promise((m,v)=>{s=n?v:m,o=setTimeout(()=>{a=Date.now(),i=!0,m(d()),u()},p-y)});return!t&&!o&&(o=setTimeout(()=>i=!0,p)),i=!1,l}}function lt(e=He){const r=N(!0);function t(){r.value=!1}function n(){r.value=!0}return{isActive:r,pause:t,resume:n,eventFilter:(...o)=>{r.value&&e(...o)}}}function we(e,r=!1,t="Timeout"){return new Promise((n,a)=>{setTimeout(r?()=>a(t):n,e)})}function st(e){return e}function Z(e){return et()?(tt(e),!0):!1}function te(e){let r=0,t,n;const a=()=>{r-=1,n&&r<=0&&(n.stop(),t=void 0,n=void 0)};return(...o)=>(r+=1,t||(n=Ge(!0),t=n.run(()=>e(...o))),Z(a),t)}function ct(e,r=200,t=!1,n=!0,a=!1){return Me(ut(r,t,n,a),e)}function gr(e,r=200,t=!0,n=!0){if(r<=0)return e;const a=N(e.value),o=ct(()=>{a.value=e.value},r,t,n);return q(e,()=>o()),a}function ft(e,r=!0){rt()?nt(e):r?e():ke(e)}function le(e,r=!1){function t(c,{flush:p="sync",deep:y=!1,timeout:d,throwOnTimeout:m}={}){let v=null;const h=[new Promise(w=>{v=q(e,O=>{c(O)!==r&&(v==null||v(),w(O))},{flush:p,deep:y,immediate:!0})})];return d!=null&&h.push(we(d,m).then(()=>T(e)).finally(()=>v==null?void 0:v())),Promise.race(h)}function n(c,p){if(!Le(c))return t(O=>O===c,p);const{flush:y="sync",deep:d=!1,timeout:m,throwOnTimeout:v}=p??{};let g=null;const w=[new Promise(O=>{g=q([e,c],([E,D])=>{r!==(E===D)&&(g==null||g(),O(E))},{flush:y,deep:d,immediate:!0})})];return m!=null&&w.push(we(m,v).then(()=>T(e)).finally(()=>(g==null||g(),T(e)))),Promise.race(w)}function a(c){return t(p=>Boolean(p),c)}function o(c){return n(null,c)}function i(c){return n(void 0,c)}function s(c){return t(Number.isNaN,c)}function l(c,p){return t(y=>{const d=Array.from(y);return d.includes(c)||d.includes(T(c))},p)}function u(c){return f(1,c)}function f(c=1,p){let y=-1;return t(()=>(y+=1,y>=c),p)}return Array.isArray(T(e))?{toMatch:t,toContains:l,changed:u,changedTimes:f,get not(){return le(e,!r)}}:{toMatch:t,toBe:n,toBeTruthy:a,toBeNull:o,toBeNaN:s,toBeUndefined:i,changed:u,changedTimes:f,get not(){return le(e,!r)}}}function Oe(e){return le(e)}function pt(e,r=1e3,t={}){const{immediate:n=!0,immediateCallback:a=!1}=t;let o=null;const i=N(!1);function s(){o&&(clearInterval(o),o=null)}function l(){i.value=!1,s()}function u(){Ce(r)<=0||(i.value=!0,a&&e(),s(),o=setInterval(e,T(r)))}if(n&&J&&u(),Le(r)||Be(r)){const f=q(r,()=>{i.value&&J&&u()});Z(f)}return Z(l),{isActive:i,pause:l,resume:u}}var _e=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,yt=(e,r)=>{var t={};for(var n in e)dt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&_e)for(var n of _e(e))r.indexOf(n)<0&&mt.call(e,n)&&(t[n]=e[n]);return t};function ht(e,r,t={}){const n=t,{eventFilter:a=He}=n,o=yt(n,["eventFilter"]);return q(e,Me(a,r),o)}var vt=Object.defineProperty,gt=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,Pe=(e,r,t)=>r in e?vt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,wt=(e,r)=>{for(var t in r||(r={}))Qe.call(r,t)&&Pe(e,t,r[t]);if(G)for(var t of G(r))Ve.call(r,t)&&Pe(e,t,r[t]);return e},Ot=(e,r)=>gt(e,bt(r)),_t=(e,r)=>{var t={};for(var n in e)Qe.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&G)for(var n of G(e))r.indexOf(n)<0&&Ve.call(e,n)&&(t[n]=e[n]);return t};function Pt(e,r,t={}){const n=t,{eventFilter:a}=n,o=_t(n,["eventFilter"]),{eventFilter:i,pause:s,resume:l,isActive:u}=lt(a);return{stop:ht(e,r,Ot(wt({},o),{eventFilter:i})),pause:s,resume:l,isActive:u}}function se(e){var r;const t=T(e);return(r=t==null?void 0:t.$el)!=null?r:t}const U=J?window:void 0,jt=J?window.document:void 0;function L(...e){let r,t,n,a;if(at(e[0])||Array.isArray(e[0])?([t,n,a]=e,r=U):[r,t,n,a]=e,!r)return ue;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const o=[],i=()=>{o.forEach(f=>f()),o.length=0},s=(f,c,p)=>(f.addEventListener(c,p,a),()=>f.removeEventListener(c,p,a)),l=q(()=>se(r),f=>{i(),f&&o.push(...t.flatMap(c=>n.map(p=>s(f,c,p))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return Z(u),u}function St(e,r=!1){const t=N(),n=()=>t.value=Boolean(e());return n(),ft(n,r),t}const ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe="__vueuse_ssr_handlers__";ce[fe]=ce[fe]||{};const Et=ce[fe];function xt(e,r){return Et[e]||r}function Nt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var $t=Object.defineProperty,je=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,Se=(e,r,t)=>r in e?$t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ee=(e,r)=>{for(var t in r||(r={}))At.call(r,t)&&Se(e,t,r[t]);if(je)for(var t of je(r))Dt.call(r,t)&&Se(e,t,r[t]);return e};const Ft={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function It(e,r,t,n={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:f,window:c=U,eventFilter:p,onError:y=b=>{console.error(b)}}=n,d=(f?ot:N)(r);if(!t)try{t=xt("getDefaultStorage",()=>{var b;return(b=U)==null?void 0:b.localStorage})()}catch(b){y(b)}if(!t)return d;const m=T(r),v=Nt(m),g=(a=n.serializer)!=null?a:Ft[v],{pause:h,resume:w}=Pt(d,()=>O(d.value),{flush:o,deep:i,eventFilter:p});return c&&s&&L(c,"storage",D),D(),d;function O(b){try{if(b==null)t.removeItem(e);else{const _=g.write(b),S=t.getItem(e);S!==_&&(t.setItem(e,_),c&&(c==null||c.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:S,newValue:_,storageArea:t}))))}}catch(_){y(_)}}function E(b){const _=b?b.newValue:t.getItem(e);if(_==null)return l&&m!==null&&t.setItem(e,g.write(m)),m;if(!b&&u){const S=g.read(_);return Be(u)?u(S,m):v==="object"&&!Array.isArray(S)?Ee(Ee({},m),S):S}else return typeof _!="string"?_:g.read(_)}function D(b){if(!(b&&b.storageArea!==t)){if(b&&b.key==null){d.value=m;return}if(!(b&&b.key!==e)){h();try{d.value=E(b)}catch(_){y(_)}finally{b?ke(w):w()}}}}}function Rt(e,r={}){const{immediate:t=!0,window:n=U}=r,a=N(!1);let o=0,i=null;function s(f){if(!a.value||!n)return;const c=f-o;e({delta:c,timestamp:f}),o=f,i=n.requestAnimationFrame(s)}function l(){!a.value&&n&&(a.value=!0,i=n.requestAnimationFrame(s))}function u(){a.value=!1,i!=null&&n&&(n.cancelAnimationFrame(i),i=null)}return t&&l(),Z(u),{isActive:a,pause:u,resume:l}}function he(e,r,t={}){const{window:n=U}=t;return It(e,r,n==null?void 0:n.localStorage,t)}function br(e={}){const{type:r="page",touch:t=!0,resetOnTouchEnds:n=!1,initialValue:a={x:0,y:0},window:o=U,eventFilter:i}=e,s=N(a.x),l=N(a.y),u=N(null),f=m=>{r==="page"?(s.value=m.pageX,l.value=m.pageY):r==="client"?(s.value=m.clientX,l.value=m.clientY):r==="movement"&&(s.value=m.movementX,l.value=m.movementY),u.value="mouse"},c=()=>{s.value=a.x,l.value=a.y},p=m=>{if(m.touches.length>0){const v=m.touches[0];r==="page"?(s.value=v.pageX,l.value=v.pageY):r==="client"&&(s.value=v.clientX,l.value=v.clientY),u.value="touch"}},y=m=>i===void 0?f(m):i(()=>f(m),{}),d=m=>i===void 0?p(m):i(()=>p(m),{});return o&&(L(o,"mousemove",y,{passive:!0}),L(o,"dragover",y,{passive:!0}),t&&r!=="movement"&&(L(o,"touchstart",d,{passive:!0}),L(o,"touchmove",d,{passive:!0}),n&&L(o,"touchend",c,{passive:!0}))),{x:s,y:l,sourceType:u}}function wr(e,r={}){const{document:t=jt,pointerLockOptions:n}=r,a=St(()=>t&&"pointerLockElement"in t),o=N(),i=N();let s;a.value&&(L(t,"pointerlockchange",()=>{var f;const c=(f=t.pointerLockElement)!=null?f:o.value;s&&c===s&&(o.value=t.pointerLockElement,o.value||(s=i.value=null))}),L(t,"pointerlockerror",()=>{var f;const c=(f=t.pointerLockElement)!=null?f:o.value;if(s&&c===s){const p=t.pointerLockElement?"release":"acquire";throw new Error(`Failed to ${p} pointer lock.`)}}));async function l(f,c){var p;if(!a.value)throw new Error("Pointer Lock API is not supported by your browser.");if(i.value=f instanceof Event?f.currentTarget:null,s=f instanceof Event?(p=se(e))!=null?p:i.value:se(f),!s)throw new Error("Target element undefined.");return s.requestPointerLock(c??n),await Oe(o).toBe(s)}async function u(){return o.value?(t.exitPointerLock(),await Oe(o).toBeNull(),!0):!1}return{isSupported:a,element:o,triggerElement:i,lock:l,unlock:u}}var xe;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(xe||(xe={}));var Tt=Object.defineProperty,Ne=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,$e=(e,r,t)=>r in e?Tt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Lt=(e,r)=>{for(var t in r||(r={}))Ct.call(r,t)&&$e(e,t,r[t]);if(Ne)for(var t of Ne(r))kt.call(r,t)&&$e(e,t,r[t]);return e};function Bt(e={}){const{controls:r=!1,offset:t=0,immediate:n=!0,interval:a="requestAnimationFrame",callback:o}=e,i=N(be()+t),s=()=>i.value=be()+t,l=o?()=>{s(),o(i.value)}:s,u=a==="requestAnimationFrame"?Rt(l,{immediate:n}):pt(l,a,{immediate:n});return r?Lt({timestamp:i},u):i}var Mt=Object.defineProperty,Ae=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,De=(e,r,t)=>r in e?Mt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Vt=(e,r)=>{for(var t in r||(r={}))Ht.call(r,t)&&De(e,t,r[t]);if(Ae)for(var t of Ae(r))Qt.call(r,t)&&De(e,t,r[t]);return e};const qt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Vt({linear:st},qt);const Or=te(()=>{const e=he("ticket-allocator.options",[]),r=oe(()=>e.value.includes("hide-empty")),t=oe(()=>e.value.includes("alt-info")),n=oe(()=>e.value.includes("unlocked"));return it({all:e,hideEmpty:r,altInfo:t,unlocked:n})}),_r=te(()=>he("ticket-allocator.display-mode","weight")),Pr=te(()=>he("ticket-allocator.operator-sorting","asc")),Ut=te(()=>Bt({interval:1e3}));function re(e){return(r,t)=>{const n=r.$self();n.setRegistry(t,()=>n.attr(e))}}function X(e,r={}){return(t,n)=>{const a=t.$self();a.setRegistry(n,()=>{const o=a.string(e);return r.notNullable&&o.notNullable(),o})}}function z(e,r={}){return(t,n)=>{const a=t.$self();a.setRegistry(n,()=>{const o=a.number(e);return r.notNullable&&o.notNullable(),o})}}function qe(e,r={}){return(t,n)=>{const a=t.$self();a.setRegistry(n,()=>{const o=a.boolean(e);return r.notNullable&&o.notNullable(),o})}}function Y(){return(e,r)=>{const t=e.$self();t.setRegistry(r,()=>t.uid())}}function Wt(e,r,t){return(n,a)=>{const o=n.$self();o.setRegistry(a,()=>o.belongsTo(e(),r,t))}}function Ue(e,r,t,n,a,o){return(i,s)=>{const l=i.$self();l.setRegistry(s,()=>l.belongsToMany(e(),r(),t,n,a,o))}}function zt(e,r,t){return(n,a)=>{const o=n.$self();o.setRegistry(a,()=>o.hasMany(e(),r,t))}}function Jt(e){return(r,t)=>{r.$self().setFieldDeleteMode(t,e)}}var Zt=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,We=(e,r,t,n)=>{for(var a=n>1?void 0:n?Kt(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&Zt(r,t,a),a};class W extends ee{}R(W,"entity","teamOperator"),R(W,"primaryKey",["team_uuid","operator_uuid"]);We([Y()],W.prototype,"team_uuid",2);We([Y()],W.prototype,"operator_uuid",2);var Xt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Q=(e,r,t,n)=>{for(var a=n>1?void 0:n?Yt(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&Xt(r,t,a),a};class I extends ee{}R(I,"entity","operatorTeams"),R(I,"primaryKey","uuid");Q([Y()],I.prototype,"uuid",2);Q([X("")],I.prototype,"name",2);Q([X("")],I.prototype,"description",2);Q([re()],I.prototype,"created_at",2);Q([re()],I.prototype,"updated_at",2);Q([re()],I.prototype,"deleted_at",2);Q([Ue(()=>$,()=>W,"team_uuid","operator_uuid")],I.prototype,"operators",2);var Gt=Object.defineProperty,er=Object.getOwnPropertyDescriptor,B=(e,r,t,n)=>{for(var a=n>1?void 0:n?er(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&Gt(r,t,a),a};class $ extends ee{get ticket_count(){return this.tickets.length}get free_slots(){return this.ticket_limit!==null?Math.max(0,this.ticket_limit-this.ticket_count):null}get total_complexity(){return this.tickets.reduce((r,{complexity:t})=>r+t,0)}get free_complexity(){return this.complexity_limit!==null?Math.max(0,this.complexity_limit-this.total_complexity):null}}R($,"entity","operators"),R($,"primaryKey","uuid");B([Y()],$.prototype,"uuid",2);B([X("")],$.prototype,"name",2);B([qe(!1)],$.prototype,"online",2);B([qe(!1)],$.prototype,"ready",2);B([z(null)],$.prototype,"ticket_limit",2);B([z(null)],$.prototype,"complexity_limit",2);B([Ue(()=>I,()=>W,"operator_uuid","team_uuid")],$.prototype,"teams",2);B([zt(()=>A,"handler_uuid"),Jt("set null")],$.prototype,"tickets",2);var tr=Object.defineProperty,rr=Object.getOwnPropertyDescriptor,k=(e,r,t,n)=>{for(var a=n>1?void 0:n?rr(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&tr(r,t,a),a};class A extends ee{get duration(){return Math.round((Ut().value-new Date(this.created_at).getTime())/1e3)}get weight(){return this.initial_weight+this.weight_increment*this.duration}}R(A,"entity","tickets"),R(A,"primaryKey","uuid");k([Y()],A.prototype,"uuid",2);k([X("")],A.prototype,"category_uuid",2);k([X(null)],A.prototype,"handler_uuid",2);k([z(0)],A.prototype,"initial_weight",2);k([z(0)],A.prototype,"weight_increment",2);k([z(0)],A.prototype,"complexity",2);k([z(0)],A.prototype,"delay",2);k([re()],A.prototype,"created_at",2);k([Wt(()=>$,"handler_uuid")],A.prototype,"handler",2);function Fe(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ze(e,r,t){return r&&Fe(e.prototype,r),t&&Fe(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},x.apply(this,arguments)}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pe(e)}function K(e,r){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},K(e,r)}function nr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function de(e,r,t){return de=nr()?Reflect.construct.bind():function(n,a,o){var i=[null];i.push.apply(i,a);var s=new(Function.bind.apply(n,i));return o&&K(s,o.prototype),s},de.apply(null,arguments)}function me(e){var r=typeof Map=="function"?new Map:void 0;return me=function(t){if(t===null||Function.toString.call(t).indexOf("[native code]")===-1)return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return de(t,arguments,pe(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),K(n,t)},me(e)}var or=String.prototype.replace,ir=/%20/g,V={default:"RFC3986",formatters:{RFC1738:function(e){return or.call(e,ir,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"},ie=Object.prototype.hasOwnProperty,M=Array.isArray,F=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),Ie=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)e[n]!==void 0&&(t[n]=e[n]);return t},C={arrayToObject:Ie,assign:function(e,r){return Object.keys(r).reduce(function(t,n){return t[n]=r[n],t},e)},combine:function(e,r){return[].concat(e,r)},compact:function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],n=0;n<r.length;++n)for(var a=r[n],o=a.obj[a.prop],i=Object.keys(o),s=0;s<i.length;++s){var l=i[s],u=o[l];typeof u=="object"&&u!==null&&t.indexOf(u)===-1&&(r.push({obj:o,prop:l}),t.push(u))}return function(f){for(;f.length>1;){var c=f.pop(),p=c.obj[c.prop];if(M(p)){for(var y=[],d=0;d<p.length;++d)p[d]!==void 0&&y.push(p[d]);c.obj[c.prop]=y}}}(r),e},decode:function(e,r,t){var n=e.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},encode:function(e,r,t,n,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var i="",s=0;s<o.length;++s){var l=o.charCodeAt(s);l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===V.RFC1738&&(l===40||l===41)?i+=o.charAt(s):l<128?i+=F[l]:l<2048?i+=F[192|l>>6]+F[128|63&l]:l<55296||l>=57344?i+=F[224|l>>12]+F[128|l>>6&63]+F[128|63&l]:(l=65536+((1023&l)<<10|1023&o.charCodeAt(s+=1)),i+=F[240|l>>18]+F[128|l>>12&63]+F[128|l>>6&63]+F[128|63&l])}return i},isBuffer:function(e){return!(!e||typeof e!="object"||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},maybeMap:function(e,r){if(M(e)){for(var t=[],n=0;n<e.length;n+=1)t.push(r(e[n]));return t}return r(e)},merge:function e(r,t,n){if(!t)return r;if(typeof t!="object"){if(M(r))r.push(t);else{if(!r||typeof r!="object")return[r,t];(n&&(n.plainObjects||n.allowPrototypes)||!ie.call(Object.prototype,t))&&(r[t]=!0)}return r}if(!r||typeof r!="object")return[r].concat(t);var a=r;return M(r)&&!M(t)&&(a=Ie(r,n)),M(r)&&M(t)?(t.forEach(function(o,i){if(ie.call(r,i)){var s=r[i];s&&typeof s=="object"&&o&&typeof o=="object"?r[i]=e(s,o,n):r.push(o)}else r[i]=o}),r):Object.keys(t).reduce(function(o,i){var s=t[i];return o[i]=ie.call(o,i)?e(o[i],s,n):s,o},a)}},ar=Object.prototype.hasOwnProperty,Re={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},H=Array.isArray,ur=String.prototype.split,lr=Array.prototype.push,Je=function(e,r){lr.apply(e,H(r)?r:[r])},sr=Date.prototype.toISOString,Te=V.default,j={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:C.encode,encodeValuesOnly:!1,format:Te,formatter:V.formatters[Te],indices:!1,serializeDate:function(e){return sr.call(e)},skipNulls:!1,strictNullHandling:!1},cr=function e(r,t,n,a,o,i,s,l,u,f,c,p,y,d){var m,v=r;if(typeof s=="function"?v=s(t,v):v instanceof Date?v=f(v):n==="comma"&&H(v)&&(v=C.maybeMap(v,function(ne){return ne instanceof Date?f(ne):ne})),v===null){if(a)return i&&!y?i(t,j.encoder,d,"key",c):t;v=""}if(typeof(m=v)=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"||C.isBuffer(v)){if(i){var g=y?t:i(t,j.encoder,d,"key",c);if(n==="comma"&&y){for(var h=ur.call(String(v),","),w="",O=0;O<h.length;++O)w+=(O===0?"":",")+p(i(h[O],j.encoder,d,"value",c));return[p(g)+"="+w]}return[p(g)+"="+p(i(v,j.encoder,d,"value",c))]}return[p(t)+"="+p(String(v))]}var E,D=[];if(v===void 0)return D;if(n==="comma"&&H(v))E=[{value:v.length>0?v.join(",")||null:void 0}];else if(H(s))E=s;else{var b=Object.keys(v);E=l?b.sort(l):b}for(var _=0;_<E.length;++_){var S=E[_],ve=typeof S=="object"&&S.value!==void 0?S.value:v[S];if(!o||ve!==null){var Ke=H(v)?typeof n=="function"?n(t,S):t:t+(u?"."+S:"["+S+"]");Je(D,e(ve,Ke,n,a,o,i,s,l,u,f,c,p,y,d))}}return D},ye=Object.prototype.hasOwnProperty,fr=Array.isArray,P={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:C.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},pr=function(e){return e.replace(/&#(\d+);/g,function(r,t){return String.fromCharCode(parseInt(t,10))})},Ze=function(e,r){return e&&typeof e=="string"&&r.comma&&e.indexOf(",")>-1?e.split(","):e},dr=function(e,r,t,n){if(e){var a=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=t.depth>0&&/(\[[^[\]]*])/.exec(a),s=i?a.slice(0,i.index):a,l=[];if(s){if(!t.plainObjects&&ye.call(Object.prototype,s)&&!t.allowPrototypes)return;l.push(s)}for(var u=0;t.depth>0&&(i=o.exec(a))!==null&&u<t.depth;){if(u+=1,!t.plainObjects&&ye.call(Object.prototype,i[1].slice(1,-1))&&!t.allowPrototypes)return;l.push(i[1])}return i&&l.push("["+a.slice(i.index)+"]"),function(f,c,p,y){for(var d=y?c:Ze(c,p),m=f.length-1;m>=0;--m){var v,g=f[m];if(g==="[]"&&p.parseArrays)v=[].concat(d);else{v=p.plainObjects?Object.create(null):{};var h=g.charAt(0)==="["&&g.charAt(g.length-1)==="]"?g.slice(1,-1):g,w=parseInt(h,10);p.parseArrays||h!==""?!isNaN(w)&&g!==h&&String(w)===h&&w>=0&&p.parseArrays&&w<=p.arrayLimit?(v=[])[w]=d:h!=="__proto__"&&(v[h]=d):v={0:d}}d=v}return d}(l,r,t,n)}},mr=function(e,r){var t=function(u){if(!u)return P;if(u.decoder!=null&&typeof u.decoder!="function")throw new TypeError("Decoder has to be a function.");if(u.charset!==void 0&&u.charset!=="utf-8"&&u.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:u.allowDots===void 0?P.allowDots:!!u.allowDots,allowPrototypes:typeof u.allowPrototypes=="boolean"?u.allowPrototypes:P.allowPrototypes,arrayLimit:typeof u.arrayLimit=="number"?u.arrayLimit:P.arrayLimit,charset:u.charset===void 0?P.charset:u.charset,charsetSentinel:typeof u.charsetSentinel=="boolean"?u.charsetSentinel:P.charsetSentinel,comma:typeof u.comma=="boolean"?u.comma:P.comma,decoder:typeof u.decoder=="function"?u.decoder:P.decoder,delimiter:typeof u.delimiter=="string"||C.isRegExp(u.delimiter)?u.delimiter:P.delimiter,depth:typeof u.depth=="number"||u.depth===!1?+u.depth:P.depth,ignoreQueryPrefix:u.ignoreQueryPrefix===!0,interpretNumericEntities:typeof u.interpretNumericEntities=="boolean"?u.interpretNumericEntities:P.interpretNumericEntities,parameterLimit:typeof u.parameterLimit=="number"?u.parameterLimit:P.parameterLimit,parseArrays:u.parseArrays!==!1,plainObjects:typeof u.plainObjects=="boolean"?u.plainObjects:P.plainObjects,strictNullHandling:typeof u.strictNullHandling=="boolean"?u.strictNullHandling:P.strictNullHandling}}(r);if(e===""||e==null)return t.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?function(u,f){var c,p={},y=(f.ignoreQueryPrefix?u.replace(/^\?/,""):u).split(f.delimiter,f.parameterLimit===1/0?void 0:f.parameterLimit),d=-1,m=f.charset;if(f.charsetSentinel)for(c=0;c<y.length;++c)y[c].indexOf("utf8=")===0&&(y[c]==="utf8=%E2%9C%93"?m="utf-8":y[c]==="utf8=%26%2310003%3B"&&(m="iso-8859-1"),d=c,c=y.length);for(c=0;c<y.length;++c)if(c!==d){var v,g,h=y[c],w=h.indexOf("]="),O=w===-1?h.indexOf("="):w+1;O===-1?(v=f.decoder(h,P.decoder,m,"key"),g=f.strictNullHandling?null:""):(v=f.decoder(h.slice(0,O),P.decoder,m,"key"),g=C.maybeMap(Ze(h.slice(O+1),f),function(E){return f.decoder(E,P.decoder,m,"value")})),g&&f.interpretNumericEntities&&m==="iso-8859-1"&&(g=pr(g)),h.indexOf("[]=")>-1&&(g=fr(g)?[g]:g),p[v]=ye.call(p,v)?C.combine(p[v],g):g}return p}(e,t):e,a=t.plainObjects?Object.create(null):{},o=Object.keys(n),i=0;i<o.length;++i){var s=o[i],l=dr(s,n[s],t,typeof e=="string");a=C.merge(a,l,t)}return C.compact(a)},ae=function(){function e(t,n,a){var o,i;this.name=t,this.definition=n,this.bindings=(o=n.bindings)!=null?o:{},this.wheres=(i=n.wheres)!=null?i:{},this.config=a}var r=e.prototype;return r.matchesUrl=function(t){var n=this;if(!this.definition.methods.includes("GET"))return!1;var a=this.template.replace(/(\/?){([^}?]*)(\??)}/g,function(u,f,c,p){var y,d="(?<"+c+">"+(((y=n.wheres[c])==null?void 0:y.replace(/(^\^)|(\$$)/g,""))||"[^/?]+")+")";return p?"("+f+d+")?":""+f+d}).replace(/^\w+:\/\//,""),o=t.replace(/^\w+:\/\//,"").split("?"),i=o[0],s=o[1],l=new RegExp("^"+a+"/?$").exec(i);return!!l&&{params:l.groups,query:mr(s)}},r.compile=function(t){var n=this,a=this.parameterSegments;return a.length?this.template.replace(/{([^}?]+)(\??)}/g,function(o,i,s){var l,u,f;if(!s&&[null,void 0].includes(t[i]))throw new Error("Ziggy error: '"+i+"' parameter is required for route '"+n.name+"'.");if(a[a.length-1].name===i&&n.wheres[i]===".*")return encodeURIComponent((f=t[i])!=null?f:"").replace(/%2F/g,"/");if(n.wheres[i]&&!new RegExp("^"+(s?"("+n.wheres[i]+")?":n.wheres[i])+"$").test((l=t[i])!=null?l:""))throw new Error("Ziggy error: '"+i+"' parameter does not match required format '"+n.wheres[i]+"' for route '"+n.name+"'.");return encodeURIComponent((u=t[i])!=null?u:"")}).replace(/\/+$/,""):this.template},ze(e,[{key:"template",get:function(){return((this.config.absolute?this.definition.domain?""+this.config.url.match(/^\w+:\/\//)[0]+this.definition.domain+(this.config.port?":"+this.config.port:""):this.config.url:"")+"/"+this.definition.uri).replace(/\/+$/,"")}},{key:"parameterSegments",get:function(){var t,n;return(t=(n=this.template.match(/{[^}?]+\??}/g))==null?void 0:n.map(function(a){return{name:a.replace(/{|\??}/g,""),required:!/\?}$/.test(a)}}))!=null?t:[]}}]),e}(),yr=function(e){var r,t;function n(o,i,s,l){var u;if(s===void 0&&(s=!0),(u=e.call(this)||this).t=l??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),u.t=x({},u.t,{absolute:s}),o){if(!u.t.routes[o])throw new Error("Ziggy error: route '"+o+"' is not in the route list.");u.i=new ae(o,u.t.routes[o],u.t),u.u=u.l(i)}return u}t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,K(r,t);var a=n.prototype;return a.toString=function(){var o=this,i=Object.keys(this.u).filter(function(s){return!o.i.parameterSegments.some(function(l){return l.name===s})}).filter(function(s){return s!=="_query"}).reduce(function(s,l){var u;return x({},s,((u={})[l]=o.u[l],u))},{});return this.i.compile(this.u)+function(s,l){var u,f=s,c=function(h){if(!h)return j;if(h.encoder!=null&&typeof h.encoder!="function")throw new TypeError("Encoder has to be a function.");var w=h.charset||j.charset;if(h.charset!==void 0&&h.charset!=="utf-8"&&h.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=V.default;if(h.format!==void 0){if(!ar.call(V.formatters,h.format))throw new TypeError("Unknown format option provided.");O=h.format}var E=V.formatters[O],D=j.filter;return(typeof h.filter=="function"||H(h.filter))&&(D=h.filter),{addQueryPrefix:typeof h.addQueryPrefix=="boolean"?h.addQueryPrefix:j.addQueryPrefix,allowDots:h.allowDots===void 0?j.allowDots:!!h.allowDots,charset:w,charsetSentinel:typeof h.charsetSentinel=="boolean"?h.charsetSentinel:j.charsetSentinel,delimiter:h.delimiter===void 0?j.delimiter:h.delimiter,encode:typeof h.encode=="boolean"?h.encode:j.encode,encoder:typeof h.encoder=="function"?h.encoder:j.encoder,encodeValuesOnly:typeof h.encodeValuesOnly=="boolean"?h.encodeValuesOnly:j.encodeValuesOnly,filter:D,format:O,formatter:E,serializeDate:typeof h.serializeDate=="function"?h.serializeDate:j.serializeDate,skipNulls:typeof h.skipNulls=="boolean"?h.skipNulls:j.skipNulls,sort:typeof h.sort=="function"?h.sort:null,strictNullHandling:typeof h.strictNullHandling=="boolean"?h.strictNullHandling:j.strictNullHandling}}(l);typeof c.filter=="function"?f=(0,c.filter)("",f):H(c.filter)&&(u=c.filter);var p=[];if(typeof f!="object"||f===null)return"";var y=Re[l&&l.arrayFormat in Re?l.arrayFormat:l&&"indices"in l?l.indices?"indices":"repeat":"indices"];u||(u=Object.keys(f)),c.sort&&u.sort(c.sort);for(var d=0;d<u.length;++d){var m=u[d];c.skipNulls&&f[m]===null||Je(p,cr(f[m],m,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset))}var v=p.join(c.delimiter),g=c.addQueryPrefix===!0?"?":"";return c.charsetSentinel&&(g+=c.charset==="iso-8859-1"?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),v.length>0?g+v:""}(x({},i,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:function(s,l){return typeof s=="boolean"?Number(s):l(s)}})},a.v=function(o){var i=this;o?this.t.absolute&&o.startsWith("/")&&(o=this.p().host+o):o=this.h();var s={},l=Object.entries(this.t.routes).find(function(u){return s=new ae(u[0],u[1],i.t).matchesUrl(o)})||[void 0,void 0];return x({name:l[0]},s,{route:l[1]})},a.h=function(){var o=this.p(),i=o.pathname,s=o.search;return(this.t.absolute?o.host+i:i.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+s},a.current=function(o,i){var s=this.v(),l=s.name,u=s.params,f=s.query,c=s.route;if(!o)return l;var p=new RegExp("^"+o.replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(l);if([null,void 0].includes(i)||!p)return p;var y=new ae(l,c,this.t);i=this.l(i,y);var d=x({},u,f);return!(!Object.values(i).every(function(m){return!m})||Object.values(d).some(function(m){return m!==void 0}))||Object.entries(i).every(function(m){return d[m[0]]==m[1]})},a.p=function(){var o,i,s,l,u,f,c=typeof window<"u"?window.location:{},p=c.host,y=c.pathname,d=c.search;return{host:(o=(i=this.t.location)==null?void 0:i.host)!=null?o:p===void 0?"":p,pathname:(s=(l=this.t.location)==null?void 0:l.pathname)!=null?s:y===void 0?"":y,search:(u=(f=this.t.location)==null?void 0:f.search)!=null?u:d===void 0?"":d}},a.has=function(o){return Object.keys(this.t.routes).includes(o)},a.l=function(o,i){var s=this;o===void 0&&(o={}),i===void 0&&(i=this.i),o!=null||(o={}),o=["string","number"].includes(typeof o)?[o]:o;var l=i.parameterSegments.filter(function(f){return!s.t.defaults[f.name]});if(Array.isArray(o))o=o.reduce(function(f,c,p){var y,d;return x({},f,l[p]?((y={})[l[p].name]=c,y):typeof c=="object"?c:((d={})[c]="",d))},{});else if(l.length===1&&!o[l[0].name]&&(o.hasOwnProperty(Object.values(i.bindings)[0])||o.hasOwnProperty("id"))){var u;(u={})[l[0].name]=o,o=u}return x({},this.m(i),this.g(o,i))},a.m=function(o){var i=this;return o.parameterSegments.filter(function(s){return i.t.defaults[s.name]}).reduce(function(s,l,u){var f,c=l.name;return x({},s,((f={})[c]=i.t.defaults[c],f))},{})},a.g=function(o,i){var s=i.bindings,l=i.parameterSegments;return Object.entries(o).reduce(function(u,f){var c,p,y=f[0],d=f[1];if(!d||typeof d!="object"||Array.isArray(d)||!l.some(function(m){return m.name===y}))return x({},u,((p={})[y]=d,p));if(!d.hasOwnProperty(s[y])){if(!d.hasOwnProperty("id"))throw new Error("Ziggy error: object passed as '"+y+"' parameter is missing route model binding key '"+s[y]+"'.");s[y]="id"}return x({},u,((c={})[y]=d[s[y]],c))},{})},a.valueOf=function(){return this.toString()},a.check=function(o){return this.has(o)},ze(n,[{key:"params",get:function(){var o=this.v();return x({},o.params,o.query)}}]),n}(me(String));function jr(e,r,t,n){var a=new yr(e,r,t,n);return e?a.toString():a}export{$ as O,jr as P,A as T,_r as a,wr as b,br as c,Or as d,Pr as e,I as f,J as i,gr as r,L as u};
