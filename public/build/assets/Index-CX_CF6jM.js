import{_ as A,s as v}from"./Default.vue_vue_type_script_setup_true_lang-BKp2hNwQ.js";import{p as L,g as z,D as F,r as P,ai as I,w as D,y as R,j as N,C as w,i as e,aj as O,ak as U,L as j,N as Z,f as M,al as W,R as X,_ as c,ac as Y,S as l,F as q,P as T,X as h,Y as u,Z as E,V as C,T as G,am as H,a0 as $}from"./app-DaJ_cfdd.js";import{V as J,a as K,b as Q,c as B}from"./VSpacer-D0jso4-I.js";import{a as ee,V as te}from"./scopeId-BuDty5jt.js";import{c as ae,d as le,b as S,e as oe}from"./filter-DyG2_b7-.js";import{f as re}from"./VTextField-uEFlQ1aJ.js";import{V as ne,b as se,a as ie,c as ce}from"./VCard-CNCu9TLG.js";import{V as ue}from"./VContainer-Bjdcbp0d.js";import{V as de,a as fe}from"./VRow-CA1HKYvL.js";import{V as me}from"./VCheckboxBtn-D0Z_Xh4O.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VGrid-bYGcSM3d.js";import"./VTable-DRhRX01Y.js";import"./VInput-DGZNHAd-.js";import"./VSelectionControl-BJSAz6oY.js";const pe=L({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ae({origin:"center center",scrollStrategy:"block",transition:{component:le},zIndex:2400})},"VDialog"),ve=z()({name:"VDialog",props:pe(),emits:{"update:modelValue":o=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(o,d){let{emit:k,slots:i}=d;const n=F(o,"modelValue"),{scopeId:_}=ee(),t=P();function f(r){var p,g;const m=r.relatedTarget,y=r.target;if(m!==y&&((p=t.value)!=null&&p.contentEl)&&((g=t.value)!=null&&g.globalTop)&&![document,t.value.contentEl].includes(y)&&!t.value.contentEl.contains(y)){const s=U(t.value.contentEl);if(!s.length)return;const b=s[0],x=s[s.length-1];m===b?x.focus():b.focus()}}I&&D(()=>n.value&&o.retainFocus,r=>{r?document.addEventListener("focusin",f):document.removeEventListener("focusin",f)},{immediate:!0});function V(){var r;k("afterEnter"),(r=t.value)!=null&&r.contentEl&&!t.value.contentEl.contains(document.activeElement)&&t.value.contentEl.focus({preventScroll:!0})}function a(){k("afterLeave")}return D(n,async r=>{var m;r||(await R(),(m=t.value.activatorEl)==null||m.focus({preventScroll:!0}))}),N(()=>{const r=S.filterProps(o),m=w({"aria-haspopup":"dialog"},o.activatorProps),y=w({tabindex:-1},o.contentProps);return e(S,w({ref:t,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},r,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,"aria-modal":"true",activatorProps:m,contentProps:y,role:"dialog",onAfterEnter:V,onAfterLeave:a},_),{activator:i.activator,default:function(){for(var p=arguments.length,g=new Array(p),s=0;s<p;s++)g[s]=arguments[s];return e(O,{root:"VDialog"},{default:()=>{var b;return[(b=i.default)==null?void 0:b.call(i,...g)]}})}})}),re({},t)}}),Ve={class:"font-semibold text-xl text-gray-800 leading-tight"},ye={class:"text-h5"},Ae=j({__name:"Index",props:{factors:{},factorDictionary:{}},setup(o){const{t:d}=Z(),k=M(()=>[{title:d("active"),key:"active",sortable:!1},{title:d("type"),key:"type.name",sortable:!1},{title:d("name"),key:"name",sortable:!1},{title:d("description"),key:"description",sortable:!1},{title:d("actions"),key:"actions",sortable:!1}]),i=P(),n=P();function _(){i.value=null}return(t,f)=>{const V=W("v-btn-ex");return T(),X(q,null,[e(c(Y),{title:t.$t("factors")},null,8,["title"]),e(A,null,{header:l(()=>[h("h2",Ve,u(t.$t("factors")),1)]),default:l(()=>[h("div",null,[e(J,{headers:k.value,items:t.factors},{top:l(()=>[e(K,{flat:""},{default:l(()=>[e(Q,null,{default:l(()=>[E(u(t.$t("factors")),1)]),_:1}),e(te,{class:"mx-4",inset:"",vertical:""}),e(B),e(ve,{modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=a=>i.value=a),"max-width":"500px"},{activator:l(({props:a})=>[e(C,w({color:"primary",dark:""},a),{default:l(()=>[E(u(t.$t("new_factor")),1)]),_:2},1040)]),default:l(()=>[e(ne,null,{default:l(()=>[e(se,null,{default:l(()=>[h("span",ye,u(t.$t("choose_factor_type")),1)]),_:1}),e(ie,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(de,null,{default:l(()=>[e(fe,{cols:"12",md:"12"},{default:l(()=>[e(oe,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=a=>n.value=a),label:t.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(ce,null,{default:l(()=>[e(B),e(C,{color:"primary",dark:"",onClick:_},{default:l(()=>[E(u(t.$t("cancel")),1)]),_:1}),(T(),G(C,{key:n.value,to:c(v)("ticket-allocator.factors.create",{type:n.value}),disabled:!n.value,color:"primary",dark:"",onClick:_},{default:l(()=>[E(u(t.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":l(({item:a})=>[e(c(H),{as:"span",href:c(v)("ticket-allocator.factors.update",a.uuid),method:"patch",data:{active:!!a.deleted_at}},{default:l(()=>[e(me,{"model-value":!a.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":l(({item:a})=>[h("span",{class:$({italic:a.type.excluded})},u(a.type.name),3)]),"item.name":l(({item:a})=>[h("span",{class:$({italic:a.type.excluded&&!a.display_name})},u(a.name),3)]),"item.actions":l(({item:a})=>[e(C,{to:c(v)("ticket-allocator.factors.edit",a.uuid),icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),e(V,{to:c(v)("ticket-allocator.factors.raise-priority",a.uuid),method:"put",icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(V,{to:c(v)("ticket-allocator.factors.lower-priority",a.uuid),method:"put",icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(V,{to:c(v)("ticket-allocator.factors.destroy",a.uuid),method:"delete",icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{Ae as default};
//# sourceMappingURL=Index-CX_CF6jM.js.map
