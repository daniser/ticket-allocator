import{a as I,A as p}from"./Default.vue_vue_type_script_setup_true_lang-3eee8dee.js";import{p as N,aV as R,aW as A,t as U,Q as O,aX as L,r as C,K as M,w as T,n as W,c as x,z as D,x as Z,am as B,y as a,aY as q,aZ as K,N as Q,aa as X,ae as y,a_ as Y,af as $,ag as j,u as o,ah as t,ao as G,aM as H,ak as h,al as c,an as g,a$ as J,V as d,b0 as aa,ai as P,aU as v,b1 as ea,aq as S}from"./app-b3614b8a.js";import{V as ta,a as la,b as z}from"./VToolbar-3f4c6583.js";import{V as oa,b as ra,a as sa,c as na}from"./VCard-02cf2c2d.js";import{V as ia}from"./VContainer-e5bb388d.js";import{V as ca,a as ua}from"./VRow-dada0487.js";const da=N({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...R({origin:"center center",scrollStrategy:"block",transition:{component:A},zIndex:2400})},"VDialog"),fa=U()({name:"VDialog",props:da(),emits:{"update:modelValue":r=>!0},setup(r,b){let{slots:u}=b;const s=O(r,"modelValue"),{scopeId:_}=L(),l=C();function f(e){var m,V;const n=e.relatedTarget,i=e.target;if(n!==i&&((m=l.value)!=null&&m.contentEl)&&((V=l.value)!=null&&V.globalTop)&&![document,l.value.contentEl].includes(i)&&!l.value.contentEl.contains(i)){const k=Q(l.value.contentEl);if(!k.length)return;const E=k[0],F=k[k.length-1];n===E?F.focus():E.focus()}}M&&T(()=>s.value&&r.retainFocus,e=>{e?document.addEventListener("focusin",f):document.removeEventListener("focusin",f)},{immediate:!0}),T(s,async e=>{var n,i;await W(),e?(n=l.value.contentEl)==null||n.focus({preventScroll:!0}):(i=l.value.activatorEl)==null||i.focus({preventScroll:!0})});const w=x(()=>D({"aria-haspopup":"dialog","aria-expanded":String(s.value)},r.activatorProps));return Z(()=>{const[e]=B.filterProps(r);return a(B,D({ref:l,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},e,{modelValue:s.value,"onUpdate:modelValue":n=>s.value=n,"aria-modal":"true",activatorProps:w.value,role:"dialog"},_),{activator:u.activator,default:function(){for(var n=arguments.length,i=new Array(n),m=0;m<n;m++)i[m]=arguments[m];return a(q,{root:"VDialog"},{default:()=>{var V;return[(V=u.default)==null?void 0:V.call(u,...i)]}})}})}),K({},l)}}),ma={class:"font-semibold text-xl text-gray-800 leading-tight"},pa={class:"text-h5"},ka=X({__name:"Index",props:{factors:{},factorDictionary:{}},setup(r){const b=x(()=>[{title:y("active"),key:"active",sortable:!1},{title:y("type"),key:"type.name",sortable:!1},{title:y("name"),key:"name",sortable:!1},{title:y("description"),key:"description",sortable:!1},{title:y("actions"),key:"actions",sortable:!1}]),u=C(),s=C();function _(){u.value=null}return(l,f)=>{const w=Y("v-data-table");return $(),j(G,null,[a(o(H),{title:l.$t("factors")},null,8,["title"]),a(I,null,{header:t(()=>[h("h2",ma,c(l.$t("factors")),1)]),default:t(()=>[h("div",null,[a(w,{headers:b.value,items:l.factors},{top:t(()=>[a(ta,{flat:""},{default:t(()=>[a(la,null,{default:t(()=>[g(c(l.$t("factors")),1)]),_:1}),a(J,{class:"mx-4",inset:"",vertical:""}),a(z),a(fa,{modelValue:u.value,"onUpdate:modelValue":f[1]||(f[1]=e=>u.value=e),"max-width":"500px"},{activator:t(({props:e})=>[a(d,D({color:"primary",dark:""},e),{default:t(()=>[g(c(l.$t("new_factor")),1)]),_:2},1040)]),default:t(()=>[a(oa,null,{default:t(()=>[a(ra,null,{default:t(()=>[h("span",pa,c(l.$t("choose_factor_type")),1)]),_:1}),a(sa,null,{default:t(()=>[a(ia,null,{default:t(()=>[a(ca,null,{default:t(()=>[a(ua,{cols:"12",md:"12"},{default:t(()=>[a(aa,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=e=>s.value=e),label:l.$t("factor_type"),items:l.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(na,null,{default:t(()=>[a(z),a(d,{color:"primary",dark:"",onClick:_},{default:t(()=>[g(c(l.$t("cancel")),1)]),_:1}),s.value?($(),P(o(v),{key:0,href:o(p)("ticket-allocator.factors.create",{type:s.value})},{default:t(()=>[a(d,{color:"primary",dark:"",onClick:_},{default:t(()=>[g(c(l.$t("create")),1)]),_:1})]),_:1},8,["href"])):($(),P(d,{key:1,color:"primary",dark:"",disabled:""},{default:t(()=>[g(c(l.$t("create")),1)]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),["item.active"]:t(({item:e})=>[a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.update",e.raw.uuid),method:"patch",data:{active:!!e.raw.deleted_at}},{default:t(()=>[a(ea,{"model-value":!e.raw.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),["item.type.name"]:t(({item:e})=>[h("span",{class:S({italic:e.raw.type.excluded})},c(e.raw.type.name),3)]),["item.name"]:t(({item:e})=>[h("span",{class:S({italic:e.raw.type.excluded&&!e.raw.display_name})},c(e.raw.name),3)]),["item.actions"]:t(({item:e})=>[a(o(v),{href:o(p)("ticket-allocator.factors.edit",e.raw.uuid)},{default:t(()=>[a(d,{icon:"mdi-pencil",title:l.$t("edit"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.raise-priority",e.raw.uuid),method:"put"},{default:t(()=>[a(d,{icon:"mdi-arrow-up-thick",title:l.$t("raise_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.lower-priority",e.raw.uuid),method:"put"},{default:t(()=>[a(d,{icon:"mdi-arrow-down-thick",title:l.$t("lower_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.destroy",e.raw.uuid),method:"delete"},{default:t(()=>[a(d,{icon:"mdi-delete",title:l.$t("remove"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{ka as default};
//# sourceMappingURL=Index-89dd1038.js.map
