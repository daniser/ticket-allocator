{"version":3,"file":"Index-aab6e68a.js","sources":["../../../resources/js/api/useOperatorTeamApi.ts","../../../resources/js/Pages/OperatorTeam/Index.vue"],"sourcesContent":["import route from \"ziggy-js\";\n\nexport function useOperatorTeamApi() {\n    async function destroy(teamUuid: string) {\n        return await window.axios.delete(route(\"ticket-allocator.teams.destroy\", teamUuid));\n    }\n\n    return { destroy };\n}\n","<template>\n    <Head title=\"Operator teams\" />\n\n    <DefaultLayout>\n        <template #header>\n            <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">Operator teams</h2>\n        </template>\n\n        <div>\n            <v-data-table :headers=\"headers\" :items=\"teams\">\n                <template #[`item.actions`]=\"{ item }\">\n                    <Link :href=\"route('ticket-allocator.teams.edit', item.raw.uuid)\">\n                        <v-btn icon=\"mdi-pencil\" size=\"small\" variant=\"plain\" />\n                    </Link>\n                    <v-btn icon=\"mdi-delete\" size=\"small\" variant=\"plain\" @click=\"deleteTeam(item.raw)\" />\n                </template>\n            </v-data-table>\n        </div>\n    </DefaultLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport DefaultLayout from \"@/Layouts/Default.vue\";\nimport { Head, Link } from \"@inertiajs/vue3\";\nimport { computed, onMounted } from \"vue\";\nimport { useOperatorTeamApi } from \"@/api\";\nimport type { OperatorTeam } from \"@/types\";\nimport route from \"ziggy-js\";\n\nimport { useRepo } from \"pinia-orm\";\nimport OperatorTeamModel from \"@/models/OperatorTeam\";\n\nconst props = defineProps<{\n    teams: OperatorTeam[];\n}>();\n\nconst teamRepo = computed(() => useRepo(OperatorTeamModel));\n\nconst teams = computed(() => teamRepo.value.all());\n\nconst headers = [\n    { title: \"Name\", key: \"name\" },\n    { title: \"Description\", key: \"description\" },\n    { title: \"Actions\", key: \"actions\", sortable: false },\n];\n\nconst api = useOperatorTeamApi();\n\nasync function deleteTeam(team: OperatorTeam) {\n    await api.destroy(team.uuid);\n    teamRepo.value.destroy(team.uuid);\n}\n\nonMounted(() => {\n    teamRepo.value.fresh(props.teams);\n});\n</script>\n"],"names":["useOperatorTeamApi","destroy","teamUuid","route","teamRepo","computed","useRepo","OperatorTeamModel","teams","headers","api","deleteTeam","team","onMounted","props"],"mappings":"wQAEO,SAASA,GAAqB,CACjC,eAAeC,EAAQC,EAAkB,CACrC,OAAO,MAAM,OAAO,MAAM,OAAOC,EAAM,iCAAkCD,CAAQ,CAAC,CACtF,CAEA,MAAO,CAAE,QAAAD,CAAQ,CACrB,2JC4BMG,EAAWC,EAAS,IAAMC,EAAQC,CAAiB,CAAC,EAEpDC,EAAQH,EAAS,IAAMD,EAAS,MAAM,KAAK,EAE3CK,EAAU,CACZ,CAAE,MAAO,OAAQ,IAAK,MAAO,EAC7B,CAAE,MAAO,cAAe,IAAK,aAAc,EAC3C,CAAE,MAAO,UAAW,IAAK,UAAW,SAAU,EAAM,CAAA,EAGlDC,EAAMV,IAEZ,eAAeW,EAAWC,EAAoB,CACpC,MAAAF,EAAI,QAAQE,EAAK,IAAI,EAClBR,EAAA,MAAM,QAAQQ,EAAK,IAAI,CACpC,CAEA,OAAAC,EAAU,IAAM,CACHT,EAAA,MAAM,MAAMU,EAAM,KAAK,CAAA,CACnC"}