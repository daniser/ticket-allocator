import{_ as F,A as m}from"./Default.vue_vue_type_script_setup_true_lang-32cde344.js";import{p as R,aY as A,aZ as I,g as N,O,a_ as U,r as C,F as L,w as D,B as W,f as S,W as $,j as Z,az as E,i as a,a$ as j,b0 as J,J as M,an as X,ar as V,b1 as B,at as Y,ad as c,au as l,X as q,as as T,aR as G,ax as y,ay as u,aA as _,b2 as H,V as h,b3 as K,av as Q,b4 as ee,b5 as ae,aC as P}from"./app-8a3a5396.js";import{V as te,a as le,b as x}from"./VSpacer-76556144.js";import{V as oe,b as se,a as re,c as ne}from"./VCard-ceadf90e.js";import{V as ie}from"./VContainer-9cc3bdff.js";import{V as ce,a as ue}from"./VRow-b4c4bfbd.js";import"./_plugin-vue_export-helper-c27b6911.js";const de=R({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...A({origin:"center center",scrollStrategy:"block",transition:{component:I},zIndex:2400})},"VDialog"),fe=N()({name:"VDialog",props:de(),emits:{"update:modelValue":s=>!0},setup(s,k){let{slots:i}=k;const o=O(s,"modelValue"),{scopeId:b}=U(),t=C();function d(r){var f,v;const e=r.relatedTarget,n=r.target;if(e!==n&&((f=t.value)!=null&&f.contentEl)&&((v=t.value)!=null&&v.globalTop)&&![document,t.value.contentEl].includes(n)&&!t.value.contentEl.contains(n)){const g=M(t.value.contentEl);if(!g.length)return;const w=g[0],z=g[g.length-1];e===w?z.focus():w.focus()}}L&&D(()=>o.value&&s.retainFocus,r=>{r?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),D(o,async r=>{var e,n;await W(),r?(e=t.value.contentEl)==null||e.focus({preventScroll:!0}):(n=t.value.activatorEl)==null||n.focus({preventScroll:!0})});const p=S(()=>$({"aria-haspopup":"dialog","aria-expanded":String(o.value)},s.activatorProps));return Z(()=>{const[r]=E.filterProps(s);return a(E,$({ref:t,class:["v-dialog",{"v-dialog--fullscreen":s.fullscreen,"v-dialog--scrollable":s.scrollable},s.class],style:s.style},r,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,"aria-modal":"true",activatorProps:p.value,role:"dialog"},b),{activator:i.activator,default:function(){for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];return a(j,{root:"VDialog"},{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,...n)]}})}})}),J({},t)}}),me={class:"font-semibold text-xl text-gray-800 leading-tight"},pe={class:"text-h5"},ke=X({__name:"Index",props:{factors:{},factorDictionary:{}},setup(s){const k=S(()=>[{title:V("active"),key:"active",sortable:!1},{title:V("type"),key:"type.name",sortable:!1},{title:V("name"),key:"name",sortable:!1},{title:V("description"),key:"description",sortable:!1},{title:V("actions"),key:"actions",sortable:!1}]),i=C(),o=C();function b(){i.value=null}return(t,d)=>{const p=B("v-btn-ex"),r=B("v-data-table");return T(),Y(q,null,[a(c(G),{title:t.$t("factors")},null,8,["title"]),a(F,null,{header:l(()=>[y("h2",me,u(t.$t("factors")),1)]),default:l(()=>[y("div",null,[a(r,{headers:k.value,items:t.factors},{top:l(()=>[a(te,{flat:""},{default:l(()=>[a(le,null,{default:l(()=>[_(u(t.$t("factors")),1)]),_:1}),a(H,{class:"mx-4",inset:"",vertical:""}),a(x),a(fe,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=e=>i.value=e),"max-width":"500px"},{activator:l(({props:e})=>[a(h,$({color:"primary",dark:""},e),{default:l(()=>[_(u(t.$t("new_factor")),1)]),_:2},1040)]),default:l(()=>[a(oe,null,{default:l(()=>[a(se,null,{default:l(()=>[y("span",pe,u(t.$t("choose_factor_type")),1)]),_:1}),a(re,null,{default:l(()=>[a(ie,null,{default:l(()=>[a(ce,null,{default:l(()=>[a(ue,{cols:"12",md:"12"},{default:l(()=>[a(K,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=e=>o.value=e),label:t.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ne,null,{default:l(()=>[a(x),a(h,{color:"primary",dark:"",onClick:b},{default:l(()=>[_(u(t.$t("cancel")),1)]),_:1}),(T(),Q(h,{key:o.value,to:c(m)("ticket-allocator.factors.create",{type:o.value}),disabled:!o.value,color:"primary",dark:"",onClick:b},{default:l(()=>[_(u(t.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":l(({item:e})=>[a(c(ee),{as:"span",href:c(m)("ticket-allocator.factors.update",e.uuid),method:"patch",data:{active:!!e.deleted_at}},{default:l(()=>[a(ae,{"model-value":!e.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":l(({item:e})=>[y("span",{class:P({italic:e.type.excluded})},u(e.type.name),3)]),"item.name":l(({item:e})=>[y("span",{class:P({italic:e.type.excluded&&!e.display_name})},u(e.name),3)]),"item.actions":l(({item:e})=>[a(h,{to:c(m)("ticket-allocator.factors.edit",e.uuid),icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),a(p,{to:c(m)("ticket-allocator.factors.raise-priority",e.uuid),method:"put",icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(p,{to:c(m)("ticket-allocator.factors.lower-priority",e.uuid),method:"put",icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(p,{to:c(m)("ticket-allocator.factors.destroy",e.uuid),method:"delete",icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{ke as default};
//# sourceMappingURL=Index-a9cce5a7.js.map
