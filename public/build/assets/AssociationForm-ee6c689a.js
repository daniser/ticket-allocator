import{an as w,f as c,ar as o,b1 as x,av as k,au as l,as as U,i as a,aA as p,ay as V,b2 as C,V as v,aW as u}from"./app-abb9eb9f.js";import{V as M,a as T}from"./VRow-2ee9dfb1.js";import{V as $,a as A,b as B}from"./VSpacer-605d011e.js";import{V as E}from"./VAutocomplete-474c3556.js";const z=w({__name:"AssociationForm",props:{entries:{},modelValue:{}},emits:["update:modelValue"],setup(y,{emit:h}){const s=y,_=h,n=c({get(){return s.modelValue},set(t){_("update:modelValue",t)}}),f=c(()=>[{title:o("value"),key:"value"},{title:o("initial_weight"),key:"initial_weight"},{title:o("weight_increment"),key:"weight_increment"},{title:o("complexity"),key:"complexity"},{title:o("delay_sec"),key:"delay"},{title:o("reservation_sec"),key:"reservation"},{title:o("actions"),key:"actions",sortable:!1}]);function m(t){return s.entries.filter(d=>d.uuid===t||!n.value.map(r=>r.value).includes(d.uuid))}function b(){var t;n.value.push({value:((t=m()[0])==null?void 0:t.uuid)??"",initial_weight:null,weight_increment:null,complexity:null,delay:null,reservation:null})}function g(t){n.value=n.value.filter(d=>d.value!==t)}return(t,d)=>{const r=x("v-data-table");return U(),k(M,null,{default:l(()=>[a(T,{cols:"12",md:"12"},{default:l(()=>[a(r,{headers:f.value,items:n.value,density:"compact"},{top:l(()=>[a($,{flat:""},{default:l(()=>[a(A,null,{default:l(()=>[p(V(t.$t("entries")),1)]),_:1}),a(C,{class:"mx-4",inset:"",vertical:""}),a(B),a(v,{color:"primary",dark:"",disabled:m().length===0,onClick:b},{default:l(()=>[p(V(t.$t("new_entry")),1)]),_:1},8,["disabled"])]),_:1})]),"item.value":l(({item:e})=>[a(E,{modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,items:m(e.value),"item-title":"name","item-value":"uuid",variant:"plain",density:"compact","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue","items"])]),"item.initial_weight":l(({item:e})=>[a(u,{modelValue:e.initial_weight,"onUpdate:modelValue":i=>e.initial_weight=i,modelModifiers:{number:!0},type:"number",min:"0",max:"9999999",placeholder:"0",variant:"plain",density:"compact","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue"])]),"item.weight_increment":l(({item:e})=>[a(u,{modelValue:e.weight_increment,"onUpdate:modelValue":i=>e.weight_increment=i,modelModifiers:{number:!0},type:"number",min:"0",max:"99999",placeholder:"0",variant:"plain",density:"compact","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue"])]),"item.complexity":l(({item:e})=>[a(u,{modelValue:e.complexity,"onUpdate:modelValue":i=>e.complexity=i,modelModifiers:{number:!0},type:"number",min:"0",max:"9999",placeholder:"0",variant:"plain",density:"compact","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue"])]),"item.delay":l(({item:e})=>[a(u,{modelValue:e.delay,"onUpdate:modelValue":i=>e.delay=i,modelModifiers:{number:!0},type:"number",min:"0",max:"99999",placeholder:"0",variant:"plain",density:"compact","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue"])]),"item.reservation":l(({item:e})=>[a(u,{modelValue:e.reservation,"onUpdate:modelValue":i=>e.reservation=i,modelModifiers:{number:!0},type:"number",min:"0",max:"99999",placeholder:"0",variant:"plain",density:"compact","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue"])]),"item.actions":l(({item:e})=>[a(v,{icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain",onClick:i=>g(e.value)},null,8,["title","onClick"])]),_:2},1032,["headers","items"])]),_:1})]),_:1})}}});export{z as default};
//# sourceMappingURL=AssociationForm-ee6c689a.js.map
