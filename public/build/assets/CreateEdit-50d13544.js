import{a8 as M,aL as F,c as N,ab as p,ac as S,B as l,u as t,ad as a,ak as T,aG as A,ag as _,ah as f,au as E,ae as h,aM as n,J as $,aj as v,aP as j}from"./app-985e8e1f.js";import{a as D,A as V}from"./Default.vue_vue_type_script_setup_true_lang-856b8aa9.js";import{V as G}from"./VForm-01e8fb2d.js";import{V as I}from"./VContainer-0aa74afa.js";import{V as u,a as i}from"./VRow-c854fc64.js";import{V as B}from"./VAutocomplete-ebc6ce40.js";const J={class:"font-semibold text-xl text-gray-800 leading-tight"},H=M({__name:"CreateEdit",props:{users:{},operator:{},teams:{},errors:{}},setup(w){var b,g,y,k;const m=w,r=F({user:null,name:((b=m.operator)==null?void 0:b.display_name)??"",ticket_limit:((g=m.operator)==null?void 0:g.ticket_limit)??null,complexity_limit:((y=m.operator)==null?void 0:y.complexity_limit)??null,teams:((k=m.operator)==null?void 0:k.teams.map(e=>e.uuid))??[]}),c=N(()=>{var s,d;const e=(d=(s=m.operator)==null?void 0:s.user)==null?void 0:d.name;if(e)return e;const o=m.users.findIndex(U=>U.id===r.user);return o<0?"":m.users[o].name});function C(){m.operator?r.put(V("ticket-allocator.operators.update",m.operator.uuid)):r.post(V("ticket-allocator.operators.store"))}return(e,o)=>(p(),S(T,null,[l(t(A),{title:e.$t(e.operator?"edit_operator":"new_operator")},null,8,["title"]),l(D,null,{header:a(()=>[_("h2",J,f(e.$t(e.operator?"edit_operator":"new_operator")),1)]),default:a(()=>[_("div",null,[l(G,{onSubmit:E(C,["prevent"])},{default:a(()=>[l(I,null,{default:a(()=>[l(u,null,{default:a(()=>[l(i,{cols:"12",md:"12"},{default:a(()=>{var s;return[e.operator?(p(),h(n,{key:0,"model-value":(s=e.operator.user)==null?void 0:s.name,label:e.$t("user"),readonly:""},null,8,["model-value","label"])):(p(),h(B,{key:1,modelValue:t(r).user,"onUpdate:modelValue":o[0]||(o[0]=d=>t(r).user=d),label:e.$t("user"),items:e.users,"item-title":"name","item-value":"id","error-messages":e.errors.user},null,8,["modelValue","label","items","error-messages"]))]}),_:1})]),_:1}),l(u,null,{default:a(()=>[l(i,{cols:"12",md:"12"},{default:a(()=>[l(n,{modelValue:t(r).name,"onUpdate:modelValue":o[1]||(o[1]=s=>t(r).name=s),maxlength:"255",label:e.$t("display_name"),placeholder:c.value,"persistent-placeholder":!!c.value.length,"error-messages":e.errors.name},null,8,["modelValue","label","placeholder","persistent-placeholder","error-messages"])]),_:1})]),_:1}),l(u,null,{default:a(()=>[l(i,{cols:"12",md:"6"},{default:a(()=>[l(n,{modelValue:t(r).ticket_limit,"onUpdate:modelValue":o[2]||(o[2]=s=>t(r).ticket_limit=s),modelModifiers:{number:!0},type:"number",min:"1",max:"100",label:e.$t("ticket_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":e.errors.ticket_limit},null,8,["modelValue","label","error-messages"])]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[l(n,{modelValue:t(r).complexity_limit,"onUpdate:modelValue":o[3]||(o[3]=s=>t(r).complexity_limit=s),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",label:e.$t("complexity_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":e.errors.complexity_limit},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1}),l(u,null,{default:a(()=>[l(i,{cols:"12",md:"12"},{default:a(()=>[l(B,{modelValue:t(r).teams,"onUpdate:modelValue":o[4]||(o[4]=s=>t(r).teams=s),multiple:"",clearable:"",chips:"","closable-chips":"",label:e.$t("teams"),items:e.teams,"item-title":"name","item-value":"uuid","error-messages":e.errors.teams},null,8,["modelValue","label","items","error-messages"])]),_:1})]),_:1}),l(u,null,{default:a(()=>[l(i,{cols:"12",md:"12"},{default:a(()=>[l($,{type:"submit",color:"primary",class:"mr-3",disabled:t(r).processing},{default:a(()=>[v(f(e.$t("save")),1)]),_:1},8,["disabled"]),l(t(j),{href:t(V)("ticket-allocator.operators.index"),class:"mr-3"},{default:a(()=>[l($,null,{default:a(()=>[v(f(e.$t("cancel")),1)]),_:1})]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{H as default};
//# sourceMappingURL=CreateEdit-50d13544.js.map
