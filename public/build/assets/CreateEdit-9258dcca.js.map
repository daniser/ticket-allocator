{"version":3,"file":"CreateEdit-9258dcca.js","sources":["../../../resources/js/Pages/Operator/CreateEdit.vue"],"sourcesContent":["<template>\r\n    <Head :title=\"trans(operator ? 'edit_operator' : 'new_operator')\" />\r\n\r\n    <DefaultLayout>\r\n        <template #header>\r\n            <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">\r\n                {{ trans(operator ? \"edit_operator\" : \"new_operator\") }}\r\n            </h2>\r\n        </template>\r\n\r\n        <div>\r\n            <v-form @submit.prevent=\"submit\">\r\n                <v-container>\r\n                    <v-row>\r\n                        <v-col cols=\"12\" md=\"12\">\r\n                            <v-text-field\r\n                                v-if=\"operator\"\r\n                                :model-value=\"operator.user?.name\"\r\n                                :label=\"trans('user')\"\r\n                                readonly\r\n                            />\r\n                            <v-autocomplete\r\n                                v-else\r\n                                v-model=\"form.user\"\r\n                                :label=\"trans('user')\"\r\n                                :items=\"users\"\r\n                                item-title=\"name\"\r\n                                item-value=\"id\"\r\n                                :error-messages=\"errors.user\"\r\n                            />\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-col cols=\"12\" md=\"12\">\r\n                            <v-text-field\r\n                                v-model=\"form.name\"\r\n                                maxlength=\"255\"\r\n                                :label=\"trans('display_name')\"\r\n                                :placeholder=\"name\"\r\n                                :persistent-placeholder=\"!!name.length\"\r\n                                :error-messages=\"errors.name\"\r\n                            />\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-col cols=\"12\" md=\"6\">\r\n                            <v-text-field\r\n                                v-model.number=\"form.ticket_limit\"\r\n                                type=\"number\"\r\n                                min=\"1\"\r\n                                max=\"100\"\r\n                                :label=\"trans('ticket_limit')\"\r\n                                placeholder=\"&infin;\"\r\n                                persistent-placeholder\r\n                                :error-messages=\"errors.ticket_limit\"\r\n                            />\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"6\">\r\n                            <v-text-field\r\n                                v-model.number=\"form.complexity_limit\"\r\n                                type=\"number\"\r\n                                min=\"1\"\r\n                                max=\"1000\"\r\n                                :label=\"trans('complexity_limit')\"\r\n                                placeholder=\"&infin;\"\r\n                                persistent-placeholder\r\n                                :error-messages=\"errors.complexity_limit\"\r\n                            />\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-col cols=\"12\" md=\"12\">\r\n                            <v-autocomplete\r\n                                v-model=\"form.teams\"\r\n                                multiple\r\n                                clearable\r\n                                chips\r\n                                closable-chips\r\n                                :label=\"trans('teams')\"\r\n                                :items=\"teams\"\r\n                                item-title=\"name\"\r\n                                item-value=\"uuid\"\r\n                                :error-messages=\"errors.teams\"\r\n                            />\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-col cols=\"12\" md=\"12\">\r\n                            <v-btn type=\"submit\" color=\"primary\" class=\"mr-3\" :disabled=\"form.processing\">\r\n                                {{ trans(\"save\") }}\r\n                            </v-btn>\r\n                            <Link :href=\"route('ticket-allocator.operators.index')\" class=\"mr-3\">\r\n                                <v-btn>{{ trans(\"cancel\") }}</v-btn>\r\n                            </Link>\r\n                        </v-col>\r\n                    </v-row>\r\n                </v-container>\r\n            </v-form>\r\n        </div>\r\n    </DefaultLayout>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport DefaultLayout from \"@/Layouts/Default.vue\";\r\nimport { Head, Link, useForm } from \"@inertiajs/vue3\";\r\nimport { computed } from \"vue\";\r\nimport type { User, Operator, OperatorTeam } from \"@/types\";\r\nimport { trans } from \"laravel-vue-i18n\";\r\nimport route from \"ziggy-js\";\r\n\r\nconst props = defineProps<{\r\n    users: User[];\r\n    operator?: Operator;\r\n    teams: OperatorTeam[];\r\n    errors: Record<string, string>;\r\n}>();\r\n\r\nconst form = useForm<{\r\n    user: number | null;\r\n    name: string | null;\r\n    ticket_limit: number | null;\r\n    complexity_limit: number | null;\r\n    teams: string[];\r\n}>({\r\n    user: null,\r\n    name: props.operator?.display_name ?? \"\",\r\n    ticket_limit: props.operator?.ticket_limit ?? null,\r\n    complexity_limit: props.operator?.complexity_limit ?? null,\r\n    teams: props.operator?.teams.map((team) => team.uuid) ?? [],\r\n});\r\n\r\nconst name = computed(() => {\r\n    const name = props.operator?.user?.name;\r\n    if (name) return name;\r\n\r\n    const index = props.users.findIndex((user) => user.id === form.user);\r\n    return index < 0 ? \"\" : props.users[index].name;\r\n});\r\n\r\nfunction submit() {\r\n    props.operator\r\n        ? form.put(route(\"ticket-allocator.operators.update\", props.operator.uuid))\r\n        : form.post(route(\"ticket-allocator.operators.store\"));\r\n}\r\n</script>\r\n"],"names":["form","useForm","_a","props","_b","_c","_d","team","name","computed","index","user","submit","route"],"mappings":"ykBAqHMA,EAAOC,EAMV,CACC,KAAM,KACN,OAAMC,EAAAC,EAAM,WAAN,YAAAD,EAAgB,eAAgB,GACtC,eAAcE,EAAAD,EAAM,WAAN,YAAAC,EAAgB,eAAgB,KAC9C,mBAAkBC,EAAAF,EAAM,WAAN,YAAAE,EAAgB,mBAAoB,KACtD,QAAOC,EAAAH,EAAM,WAAN,YAAAG,EAAgB,MAAM,IAAKC,GAASA,EAAK,QAAS,CAAC,CAAA,CAC7D,EAEKC,EAAOC,EAAS,IAAM,SAClBD,MAAAA,GAAOJ,GAAAF,EAAAC,EAAM,WAAN,YAAAD,EAAgB,OAAhB,YAAAE,EAAsB,KAC/BI,GAAAA,EAAaA,OAAAA,EAEX,MAAAE,EAAQP,EAAM,MAAM,UAAWQ,GAASA,EAAK,KAAOX,EAAK,IAAI,EACnE,OAAOU,EAAQ,EAAI,GAAKP,EAAM,MAAMO,CAAK,EAAE,IAAA,CAC9C,EAED,SAASE,GAAS,CACdT,EAAM,SACAH,EAAK,IAAIa,EAAM,oCAAqCV,EAAM,SAAS,IAAI,CAAC,EACxEH,EAAK,KAAKa,EAAM,kCAAkC,CAAC,CAC7D"}