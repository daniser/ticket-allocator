import{aQ as se,aR as re,aS as ce,aT as de,aU as ve,aV as fe,aW as me,r as k,ai as W,aX as pe,aY as ge,aZ as he,a_ as Ve,E as A,a4 as B,aN as X,u as Y,a$ as be,c as l,Z as O,b0 as xe,ap as N,b1 as ke,b2 as J,b3 as ye,V as Ce,b4 as Fe,aa as j,b5 as ne,b6 as q,d as ue,b7 as we,b8 as Pe,b9 as _e,ag as Ie,ba as Se,aj as De,a5 as Ae,bb as Re,al as Te,am as Be,bc as Ne,bd as Ue,F as ee,G as Ee,be as $e,bf as He,ar as Me,bg as ze,aC as Oe,bh as Ge,K as Le,bi as Ke,P as Qe,W as V,Q as z,O as We,as as Xe,T as oe,a8 as Ze,a0 as te,aI as je}from"./app-349a86b1.js";import{a as Ye}from"./Default.vue_vue_type_script_setup_true_lang-20ec6c6c.js";import{P as ae}from"./index.m-3c027150.js";function qe(e,c,t){if(c==null)return e;if(Array.isArray(c))throw new Error("Multiple matches is not implemented");return typeof c=="number"&&~c?l(O,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,c)]),l("span",{class:"v-autocomplete__mask"},[e.substr(c,t)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(c+t)])]):e}const le=se()({name:"VAutocomplete",props:{search:String,...re({filterKeys:["title"]}),...ce(),...de(ve({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...fe({transition:!1})},emits:{"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:t}=c;const{t:R}=me(),s=k(),n=k(!1),o=k(!0),d=W(e,"menu"),{items:g,transformIn:y,transformOut:b}=pe(e),v=W(e,"search",""),f=W(e,"modelValue",[],a=>y(ge(a)),a=>{const i=b(a);return e.multiple?i:i[0]??null}),h=he(),{filteredItems:U,getMatches:E}=Ve(e,g,A(()=>o.value?void 0:v.value)),_=A(()=>f.value.map(a=>g.value.find(i=>e.valueComparator(i.value,a.value))||a)),G=A(()=>e.hideSelected?U.value.filter(a=>!_.value.some(i=>i.value===a.value)):U.value),$=A(()=>_.value.map(a=>a.props.value)),L=k();function Z(a){f.value=[],e.openOnClear&&(d.value=!0),v.value=""}function Q(){e.hideNoData&&!g.value.length||e.readonly||h!=null&&h.isReadonly.value||(d.value=!0)}function I(a){if(!(e.readonly||h!=null&&h.isReadonly.value)){if(["Enter","ArrowDown","ArrowUp"].includes(a.key)&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(d.value=!0),["Escape"].includes(a.key)&&(d.value=!1),["Enter","Escape","Tab"].includes(a.key)&&(o.value=!0),a.key==="ArrowDown"){var i;(i=L.value)==null||i.focus("next")}else if(a.key==="ArrowUp"){var p;(p=L.value)==null||p.focus("prev")}}}function S(a){v.value=a.target.value}function H(){n.value&&(o.value=!0)}function u(a){n.value=!0}function C(a){if(a.relatedTarget==null){var i;(i=s.value)==null||i.focus()}}const m=k(!1);function x(a){if(e.multiple){const i=$.value.findIndex(p=>e.valueComparator(p,a.value));if(i===-1)f.value=[...f.value,a],v.value="";else{const p=[...f.value];p.splice(i,1),f.value=p}}else f.value=[a],m.value=!0,t.selection||(v.value=a.title),d.value=!1,o.value=!0,X(()=>m.value=!1)}return B(n,a=>{if(a){var i;m.value=!0,v.value=e.multiple||t.selection?"":String(((i=_.value.at(-1))==null?void 0:i.props.title)??""),o.value=!0,X(()=>m.value=!1)}else d.value=!1,v.value=""}),B(v,a=>{!n.value||m.value||(a&&(d.value=!0),o.value=!a)}),Y(()=>{const a=!!(e.chips||t.chip),i=!!(!e.hideNoData||G.value.length||t.prepend||t.append||t["no-data"]),[p]=be(e);return l(ne,N({ref:s},p,{modelValue:v.value,"onUpdate:modelValue":F=>{F==null&&(f.value=[])},validationValue:f.externalValue,dirty:f.value.length>0,onInput:S,class:["v-autocomplete",{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!t.selection}],appendInnerIcon:e.menuIcon,readonly:e.readonly,"onClick:clear":Z,"onClick:control":Q,"onClick:input":Q,onFocus:()=>n.value=!0,onBlur:()=>n.value=!1,onKeydown:I}),{...t,default:()=>{var F,T,K;return l(O,null,[l(xe,N({modelValue:d.value,"onUpdate:modelValue":r=>d.value=r,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:H},e.menuProps),{default:()=>[i&&l(ke,{ref:L,selected:$.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:r=>r.preventDefault(),onFocusin:u,onFocusout:C},{default:()=>[!G.value.length&&!e.hideNoData&&(((F=t["no-data"])==null?void 0:F.call(t))??l(J,{title:R(e.noDataText)},null)),(T=t["prepend-item"])==null?void 0:T.call(t),G.value.map((r,D)=>{var M;return((M=t.item)==null?void 0:M.call(t,{item:r,index:D,props:N(r.props,{onClick:()=>x(r)})}))??l(J,N({key:D},r.props,{onClick:()=>x(r)}),{prepend:w=>{let{isSelected:P}=w;return e.multiple&&!e.hideSelected?l(ye,{modelValue:P,ripple:!1},null):void 0},title:()=>{var w,P;return o.value?r.title:qe(r.title,(w=E(r))==null?void 0:w.title,((P=v.value)==null?void 0:P.length)??0)}})}),(K=t["append-item"])==null?void 0:K.call(t)]})]}),_.value.map((r,D)=>{function M(P){P.stopPropagation(),P.preventDefault(),x(r)}const w={"onClick:close":M,modelValue:!0,"onUpdate:modelValue":void 0};return l("div",{key:r.value,class:"v-autocomplete__selection"},[a?l(Ce,{defaults:{VChip:{closable:e.closableChips,size:"small",text:r.title}}},{default:()=>[t.chip?t.chip({item:r,index:D,props:w}):l(Fe,w,null)]}):t.selection?t.selection({item:r,index:D}):l("span",{class:"v-autocomplete__selection-text"},[r.title,e.multiple&&D<_.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[j(",")])])])})])}})}),q({isFocused:n,isPristine:o,menu:d,search:v,filteredItems:U,select:x},s)}}),Je=ue({name:"VForm",props:{...we()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,c){let{slots:t,emit:R}=c;const s=Pe(e),n=k();function o(g){g.preventDefault(),s.reset()}function d(g){const y=g,b=s.validate();y.then=b.then.bind(b),y.catch=b.catch.bind(b),y.finally=b.finally.bind(b),R("submit",y),y.defaultPrevented||b.then(v=>{let{valid:f}=v;if(f){var h;(h=n.value)==null||h.submit()}}),y.preventDefault()}return Y(()=>{var g;return l("form",{ref:n,class:"v-form",novalidate:!0,onReset:o,onSubmit:d},[(g=t.default)==null?void 0:g.call(t,s)])}),q(s,n)}});const et=ue({name:"VTextarea",directives:{Intersect:_e},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...Ie(),...Se()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:t,emit:R,slots:s}=c;const n=W(e,"modelValue"),{isFocused:o,focus:d,blur:g}=De(e),y=A(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),b=A(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function v(u,C){var m,x;!e.autofocus||!u||(m=C[0].target)==null||(x=m.focus)==null||x.call(m)}const f=k(),h=k(),U=k(""),E=k(),_=A(()=>o.value||e.persistentPlaceholder),G=A(()=>e.messages.length?e.messages:_.value||e.persistentHint?e.hint:"");function $(){if(E.value!==document.activeElement){var u;(u=E.value)==null||u.focus()}o.value||d()}function L(u){$(),R("click:control",u)}function Z(u){u.stopPropagation(),$(),X(()=>{n.value="",ze(e["onClick:clear"],u)})}function Q(u){n.value=u.target.value}const I=k();function S(){e.autoGrow&&X(()=>{if(!I.value||!h.value)return;const u=getComputedStyle(I.value),C=getComputedStyle(h.value.$el),m=parseFloat(u.getPropertyValue("--v-field-padding-top"))+parseFloat(u.getPropertyValue("--v-input-padding-top"))+parseFloat(u.getPropertyValue("--v-field-padding-bottom")),x=I.value.scrollHeight,a=parseFloat(u.lineHeight),i=Math.max(parseFloat(e.rows)*a+m,parseFloat(C.getPropertyValue("--v-input-control-height"))),p=parseFloat(e.maxRows)*a+m||1/0;U.value=Oe(Ge(x??0,i,p))})}Ae(S),B(n,S),B(()=>e.rows,S),B(()=>e.maxRows,S),B(()=>e.density,S);let H;return B(I,u=>{if(u)H=new ResizeObserver(S),H.observe(I.value);else{var C;(C=H)==null||C.disconnect()}}),Re(()=>{var u;(u=H)==null||u.disconnect()}),Y(()=>{const u=!!(s.counter||e.counter||e.counterValue),C=!!(u||s.details),[m,x]=Te(t),[{modelValue:a,...i}]=Be(e),[p]=Ne(e);return l(Me,N({ref:f,modelValue:n.value,"onUpdate:modelValue":F=>n.value=F,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},m,i,{focused:o.value,messages:G.value}),{...s,default:F=>{let{isDisabled:T,isDirty:K,isReadonly:r,isValid:D}=F;return l(Ue,N({ref:h,style:{"--v-textarea-control-height":U.value},"onClick:control":L,"onClick:clear":Z,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},p,{active:_.value||K.value,dirty:K.value||e.dirty,focused:o.value,error:D.value===!1}),{...s,default:M=>{let{props:{class:w,...P}}=M;return l(O,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),ee(l("textarea",N({ref:E,class:w,value:n.value,onInput:Q,autofocus:e.autofocus,readonly:r.value,disabled:T.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:$,onBlur:g},P,x),null),[[Ee("intersect"),{handler:v},null,{once:!0}]]),e.autoGrow&&ee(l("textarea",{class:[w,"v-textarea__sizer"],"onUpdate:modelValue":ie=>n.value=ie,ref:I,readonly:!0,"aria-hidden":"true"},null),[[$e,n.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:C?F=>{var T;return l(O,null,[(T=s.details)==null?void 0:T.call(s,F),u&&l(O,null,[l("span",null,null),l(He,{active:e.persistentCounter||o.value,value:y.value,max:b.value},s.counter)])])}:void 0})}),q({},f,h,E)}}),tt=oe("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit team",-1),ut=Le({__name:"Edit",props:{team:null,operators:null,ticketCategories:null},setup(e){const c=e,t=Ke({name:c.team.name,description:c.team.description,operators:c.team.operators.map(s=>s.uuid),ticket_categories:c.team.ticket_categories.map(s=>s.uuid)});function R(){t.put(ae("ticket-allocator.teams.update",c.team.uuid))}return(s,n)=>(We(),Qe(O,null,[l(V(Xe),{title:"Edit team"}),l(Ye,null,{header:z(()=>[tt]),default:z(()=>[oe("div",null,[l(Je,{onSubmit:Ze(R,["prevent"])},{default:z(()=>[l(ne,{modelValue:V(t).name,"onUpdate:modelValue":n[0]||(n[0]=o=>V(t).name=o),label:"Name"},null,8,["modelValue"]),l(et,{modelValue:V(t).description,"onUpdate:modelValue":n[1]||(n[1]=o=>V(t).description=o),label:"Description"},null,8,["modelValue"]),l(le,{modelValue:V(t).operators,"onUpdate:modelValue":n[2]||(n[2]=o=>V(t).operators=o),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Operators",items:e.operators,"item-title":"name","item-value":"uuid"},null,8,["modelValue","items"]),l(le,{modelValue:V(t).ticket_categories,"onUpdate:modelValue":n[3]||(n[3]=o=>V(t).ticket_categories=o),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Ticket categories",items:e.ticketCategories,"item-title":"name","item-value":"uuid"},null,8,["modelValue","items"]),l(te,{type:"submit",color:"primary",class:"mr-3",disabled:V(t).processing},{default:z(()=>[j("Save")]),_:1},8,["disabled"]),l(V(je),{href:V(ae)("ticket-allocator.teams.index")},{default:z(()=>[l(te,{class:"mr-3"},{default:z(()=>[j("Cancel")]),_:1})]),_:1},8,["href"])]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{ut as default};
//# sourceMappingURL=Edit-19a3b5ec.js.map
