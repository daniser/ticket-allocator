import{_ as x,A as V}from"./Default.vue_vue_type_script_setup_true_lang-0RbY99yk.js";import{p as I,g as z,H as F,r as _,D as N,w as D,y as R,f as P,M as C,j as A,i as a,aI as O,F as U,aa as L,ac as M,ag as j,a1 as c,ah as t,N as H,aJ as J,af as $,aD as K,ak as g,al as u,am as h,V as k,ai as W,aK as Z,ao as E}from"./app-5SwHAk2W.js";import{V as q,a as G,b as Q,c as T}from"./VSpacer-rrJVfcDD.js";import{a as X,V as Y}from"./scopeId-q9kH4Qrg.js";import{a as ee,b as ae,V as B,c as te}from"./filter-Mx1o3tsd.js";import{f as le}from"./VTextField-R4fAuayT.js";import{V as oe,b as re,a as se,c as ie}from"./VCard-lX_nJhSH.js";import{V as ne}from"./VContainer-AdSWZDWF.js";import{V as ce,a as ue}from"./VRow-qrpnHcwX.js";import{a as de}from"./VCheckboxBtn-CmJ9ey-m.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./VGrid-5GAULJbo.js";import"./VTable-w5Qr5CT9.js";const me=I({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ee({origin:"center center",scrollStrategy:"block",transition:{component:ae},zIndex:2400})},"VDialog"),fe=z()({name:"VDialog",props:me(),emits:{"update:modelValue":s=>!0},setup(s,d){let{slots:p}=d;const i=F(s,"modelValue"),{scopeId:m}=X(),o=_();function l(r){var f,y;const e=r.relatedTarget,n=r.target;if(e!==n&&((f=o.value)!=null&&f.contentEl)&&((y=o.value)!=null&&y.globalTop)&&![document,o.value.contentEl].includes(n)&&!o.value.contentEl.contains(n)){const b=U(o.value.contentEl);if(!b.length)return;const w=b[0],S=b[b.length-1];e===w?S.focus():w.focus()}}N&&D(()=>i.value&&s.retainFocus,r=>{r?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0}),D(i,async r=>{var e,n;await R(),r?(e=o.value.contentEl)==null||e.focus({preventScroll:!0}):(n=o.value.activatorEl)==null||n.focus({preventScroll:!0})});const v=P(()=>C({"aria-haspopup":"dialog","aria-expanded":String(i.value)},s.activatorProps));return A(()=>{const r=B.filterProps(s);return a(B,C({ref:o,class:["v-dialog",{"v-dialog--fullscreen":s.fullscreen,"v-dialog--scrollable":s.scrollable},s.class],style:s.style},r,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,"aria-modal":"true",activatorProps:v.value,role:"dialog"},m),{activator:p.activator,default:function(){for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];return a(O,{root:"VDialog"},{default:()=>{var y;return[(y=p.default)==null?void 0:y.call(p,...n)]}})}})}),le({},o)}}),pe={class:"font-semibold text-xl text-gray-800 leading-tight"},ve={class:"text-h5"},Be=L({__name:"Index",props:{factors:{},factorDictionary:{}},setup(s){const{t:d}=M(),p=P(()=>[{title:d("active"),key:"active",sortable:!1},{title:d("type"),key:"type.name",sortable:!1},{title:d("name"),key:"name",sortable:!1},{title:d("description"),key:"description",sortable:!1},{title:d("actions"),key:"actions",sortable:!1}]),i=_(),m=_();function o(){i.value=null}return(l,v)=>{const r=J("v-btn-ex");return $(),j(H,null,[a(c(K),{title:l.$t("factors")},null,8,["title"]),a(x,null,{header:t(()=>[g("h2",pe,u(l.$t("factors")),1)]),default:t(()=>[g("div",null,[a(q,{headers:p.value,items:l.factors},{top:t(()=>[a(G,{flat:""},{default:t(()=>[a(Q,null,{default:t(()=>[h(u(l.$t("factors")),1)]),_:1}),a(Y,{class:"mx-4",inset:"",vertical:""}),a(T),a(fe,{modelValue:i.value,"onUpdate:modelValue":v[1]||(v[1]=e=>i.value=e),"max-width":"500px"},{activator:t(({props:e})=>[a(k,C({color:"primary",dark:""},e),{default:t(()=>[h(u(l.$t("new_factor")),1)]),_:2},1040)]),default:t(()=>[a(oe,null,{default:t(()=>[a(re,null,{default:t(()=>[g("span",ve,u(l.$t("choose_factor_type")),1)]),_:1}),a(se,null,{default:t(()=>[a(ne,null,{default:t(()=>[a(ce,null,{default:t(()=>[a(ue,{cols:"12",md:"12"},{default:t(()=>[a(te,{modelValue:m.value,"onUpdate:modelValue":v[0]||(v[0]=e=>m.value=e),label:l.$t("factor_type"),items:l.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ie,null,{default:t(()=>[a(T),a(k,{color:"primary",dark:"",onClick:o},{default:t(()=>[h(u(l.$t("cancel")),1)]),_:1}),($(),W(k,{key:m.value,to:c(V)("ticket-allocator.factors.create",{type:m.value}),disabled:!m.value,color:"primary",dark:"",onClick:o},{default:t(()=>[h(u(l.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":t(({item:e})=>[a(c(Z),{as:"span",href:c(V)("ticket-allocator.factors.update",e.uuid),method:"patch",data:{active:!!e.deleted_at}},{default:t(()=>[a(de,{"model-value":!e.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":t(({item:e})=>[g("span",{class:E({italic:e.type.excluded})},u(e.type.name),3)]),"item.name":t(({item:e})=>[g("span",{class:E({italic:e.type.excluded&&!e.display_name})},u(e.name),3)]),"item.actions":t(({item:e})=>[a(k,{to:c(V)("ticket-allocator.factors.edit",e.uuid),icon:"mdi-pencil",title:l.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),a(r,{to:c(V)("ticket-allocator.factors.raise-priority",e.uuid),method:"put",icon:"mdi-arrow-up-thick",title:l.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(r,{to:c(V)("ticket-allocator.factors.lower-priority",e.uuid),method:"put",icon:"mdi-arrow-down-thick",title:l.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(r,{to:c(V)("ticket-allocator.factors.destroy",e.uuid),method:"delete",icon:"mdi-delete",title:l.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{Be as default};
//# sourceMappingURL=Index-KX-YZcAi.js.map
