import{m as ee,ap as te,aK as ge,aL as xe,as as ae,at as Ve,d as U,j as le,au as ne,av as oe,aM as K,k as t,ax as N,az as se,aN as be,aO as he,ar as ke,r as I,b as pe,w as R,aP as Ce,aQ as ye,aR as we,ab as H,U as L,W as Fe,aS as Pe,aT as _e,aU as Be,n as O,aV as Se,aW as Ie,aX as Re,_ as Ue,aE as Ne,a2 as Ae,u as l,a3 as o,a1 as He,aA as v,aB as Te,a7 as Q,a8 as W,ak as Me,aF as ze,ae as J,am as Y,aG as De}from"./app-dac65134.js";import{a as Ee,P as X}from"./Default.vue_vue_type_script_setup_true_lang-75e07407.js";import{V as Ge}from"./VForm-c0af214e.js";import{V as $e,a as F,b as P}from"./VRow-2352ad91.js";import{V as Z}from"./VAutocomplete-6839a52c.js";const Oe=ee()({name:"VCheckbox",inheritAttrs:!1,props:{...te(),...ge(xe(),["inline"])},emits:{"update:focused":e=>!0},setup(e,d){let{attrs:n,slots:V}=d;const{isFocused:u,focus:s,blur:f}=ae(e),b=Ve(),h=U(()=>e.id||`checkbox-${b}`);return le(()=>{const[g,r]=ne(n),[i,T]=oe(e),[k,M]=K.filterProps(e);return t(se,N({class:"v-checkbox"},g,i,{id:h.value,focused:u.value}),{...V,default:p=>{let{id:A,messagesId:z,isDisabled:_,isReadonly:D}=p;return t(K,N(k,{id:A.value,"aria-describedby":z.value,disabled:_.value,readonly:D.value},r,{onFocus:s,onBlur:f}),V)}})}),{}}});const We=ee()({name:"VTextarea",directives:{Intersect:be},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...te(),...he()},emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:n,emit:V,slots:u}=d;const s=ke(e,"modelValue"),{isFocused:f,focus:b,blur:h}=ae(e),g=U(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),r=U(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function i(a,m){var c,w;!e.autofocus||!a||(w=(c=m[0].target)==null?void 0:c.focus)==null||w.call(c)}const T=I(),k=I(),M=I(""),p=I(),A=U(()=>f.value||e.persistentPlaceholder),z=U(()=>e.messages.length?e.messages:A.value||e.persistentHint?e.hint:"");function _(){var a;p.value!==document.activeElement&&((a=p.value)==null||a.focus()),f.value||b()}function D(a){_(),V("click:control",a)}function re(a){V("mousedown:control",a)}function ue(a){a.stopPropagation(),_(),O(()=>{s.value="",Se(e["onClick:clear"],a)})}function ie(a){const m=a.target,c=[m.selectionStart,m.selectionEnd];s.value=m.value,O(()=>{m.selectionStart=c[0],m.selectionEnd=c[1]})}const C=I();function y(){e.autoGrow&&O(()=>{if(!C.value||!k.value)return;const a=getComputedStyle(C.value),m=getComputedStyle(k.value.$el),c=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),w=C.value.scrollHeight,E=parseFloat(a.lineHeight),G=Math.max(parseFloat(e.rows)*E+c,parseFloat(m.getPropertyValue("--v-input-control-height"))),$=parseFloat(e.maxRows)*E+c||1/0;M.value=Ie(Re(w??0,G,$))})}pe(y),R(s,y),R(()=>e.rows,y),R(()=>e.maxRows,y),R(()=>e.density,y);let x;return R(C,a=>{a?(x=new ResizeObserver(y),x.observe(C.value)):x==null||x.disconnect()}),Ce(()=>{x==null||x.disconnect()}),le(()=>{const a=!!(u.counter||e.counter||e.counterValue),m=!!(a||u.details),[c,w]=ne(n),[{modelValue:E,...G}]=oe(e),[$]=ye(e);return t(se,N({ref:T,modelValue:s.value,"onUpdate:modelValue":B=>s.value=B,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},c,G,{focused:f.value,messages:z.value}),{...u,default:B=>{let{isDisabled:S,isDirty:j,isReadonly:ce,isValid:de}=B;return t(we,N({ref:k,style:{"--v-textarea-control-height":M.value},onClick:D,onMousedown:re,"onClick:clear":ue,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},$,{active:A.value||j.value,dirty:j.value||e.dirty,disabled:S.value,focused:f.value,error:de.value===!1}),{...u,default:me=>{let{props:{class:q,...fe}}=me;return t(H,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),L(t("textarea",N({ref:p,class:q,value:s.value,onInput:ie,autofocus:e.autofocus,readonly:ce.value,disabled:S.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:_,onBlur:h},fe,w),null),[[Fe("intersect"),{handler:i},null,{once:!0}]]),e.autoGrow&&L(t("textarea",{class:[q,"v-textarea__sizer"],"onUpdate:modelValue":ve=>s.value=ve,ref:C,readonly:!0,"aria-hidden":"true"},null),[[Pe,s.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:m?B=>{var S;return t(H,null,[(S=u.details)==null?void 0:S.call(u,B),a&&t(H,null,[t("span",null,null),t(_e,{active:e.persistentCounter||f.value,value:g.value,max:r.value},u.counter)])])}:void 0})}),Be({},T,k,p)}}),Xe={class:"font-semibold text-xl text-gray-800 leading-tight"},Je=Ue({__name:"CreateEdit",props:{team:null,operators:null,ticketCategories:null,errors:null},setup(e){var u,s,f,b,h;const d=e,n=Ne({active:!((u=d.team)!=null&&u.deleted_at),name:((s=d.team)==null?void 0:s.name)??"",description:((f=d.team)==null?void 0:f.description)??"",operators:((b=d.team)==null?void 0:b.operators.map(g=>g.uuid))??[],ticket_categories:((h=d.team)==null?void 0:h.ticket_categories.map(g=>g.uuid))??[]});function V(){d.team?n.put(X("ticket-allocator.teams.update",d.team.uuid)):n.post(X("ticket-allocator.teams.store"))}return(g,r)=>(He(),Ae(H,null,[t(l(Te),{title:l(v)(e.team?"edit_team":"new_team")},null,8,["title"]),t(Ee,null,{header:o(()=>[Q("h2",Xe,W(l(v)(e.team?"edit_team":"new_team")),1)]),default:o(()=>[Q("div",null,[t(Ge,{onSubmit:Me(V,["prevent"])},{default:o(()=>[t($e,null,{default:o(()=>[t(F,null,{default:o(()=>[t(P,{cols:"12",md:"12"},{default:o(()=>[t(Oe,{modelValue:l(n).active,"onUpdate:modelValue":r[0]||(r[0]=i=>l(n).active=i),label:l(v)("active")},null,8,["modelValue","label"])]),_:1})]),_:1}),t(F,null,{default:o(()=>[t(P,{cols:"12",md:"12"},{default:o(()=>[t(ze,{modelValue:l(n).name,"onUpdate:modelValue":r[1]||(r[1]=i=>l(n).name=i),required:"",maxlength:"255",label:l(v)("name"),"error-messages":e.errors.name},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1}),t(F,null,{default:o(()=>[t(P,{cols:"12",md:"12"},{default:o(()=>[t(We,{modelValue:l(n).description,"onUpdate:modelValue":r[2]||(r[2]=i=>l(n).description=i),label:l(v)("description"),"error-messages":e.errors.description},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1}),t(F,null,{default:o(()=>[t(P,{cols:"12",md:"12"},{default:o(()=>[t(Z,{modelValue:l(n).operators,"onUpdate:modelValue":r[3]||(r[3]=i=>l(n).operators=i),multiple:"",clearable:"",chips:"","closable-chips":"",label:l(v)("operators"),items:e.operators,"item-title":"name","item-value":"uuid","error-messages":e.errors.operators},null,8,["modelValue","label","items","error-messages"])]),_:1})]),_:1}),t(F,null,{default:o(()=>[t(P,{cols:"12",md:"12"},{default:o(()=>[t(Z,{modelValue:l(n).ticket_categories,"onUpdate:modelValue":r[4]||(r[4]=i=>l(n).ticket_categories=i),multiple:"",clearable:"",chips:"","closable-chips":"",label:l(v)("ticket_categories"),items:e.ticketCategories,"item-title":"name","item-value":"uuid","error-messages":e.errors.ticket_categories},null,8,["modelValue","label","items","error-messages"])]),_:1})]),_:1}),t(F,null,{default:o(()=>[t(P,{cols:"12",md:"12"},{default:o(()=>[t(J,{type:"submit",color:"primary",class:"mr-3",disabled:l(n).processing},{default:o(()=>[Y(W(l(v)("save")),1)]),_:1},8,["disabled"]),t(l(De),{href:l(X)("ticket-allocator.teams.index"),class:"mr-3"},{default:o(()=>[t(J,null,{default:o(()=>[Y(W(l(v)("cancel")),1)]),_:1})]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{Je as default};
//# sourceMappingURL=CreateEdit-7b11bffd.js.map
