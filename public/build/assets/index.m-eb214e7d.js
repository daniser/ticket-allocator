var Xe=Object.defineProperty;var Ye=(e,r,t)=>r in e?Xe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var R=(e,r,t)=>(Ye(e,typeof r!="symbol"?r+"":r,t),t);import{r as N,a1 as q,aJ as Ge,aK as et,aL as tt,W as rt,aM as nt,a2 as ot,aN as Ce,aa as ke,aH as Le,aO as it,E as oe,aA as at,aP as ee}from"./app-c0f266a9.js";var ge;const J=typeof window<"u",Be=e=>typeof e=="function",ut=e=>typeof e=="string",be=()=>+Date.now(),ue=()=>{};J&&((ge=window==null?void 0:window.navigator)!=null&&ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function T(e){return typeof e=="function"?e():rt(e)}function Me(e,r){function t(...n){return new Promise((a,o)=>{Promise.resolve(e(()=>r.apply(this,n),{fn:r,thisArg:this,args:n})).then(a).catch(o)})}return t}const He=e=>e();function st(e,r=!0,t=!0,n=!1){let a=0,o,i=!0,l=ue,s;const u=()=>{o&&(clearTimeout(o),o=void 0,l(),l=ue)};return c=>{const p=T(e),y=Date.now()-a,d=()=>s=c();if(u(),p<=0)return a=Date.now(),d();if(y>p&&(t||!i))a=Date.now(),d();else if(r)return new Promise((m,v)=>{l=n?v:m,o=setTimeout(()=>{a=Date.now(),i=!0,m(d()),u()},p-y)});return!t&&!o&&(o=setTimeout(()=>i=!0,p)),i=!1,s}}function lt(e=He){const r=N(!0);function t(){r.value=!1}function n(){r.value=!0}const a=(...o)=>{r.value&&e(...o)};return{isActive:Le(r),pause:t,resume:n,eventFilter:a}}function we(e,r=!1,t="Timeout"){return new Promise((n,a)=>{setTimeout(r?()=>a(t):n,e)})}function ct(e){return e}function Z(e){return et()?(tt(e),!0):!1}function te(e){let r=0,t,n;const a=()=>{r-=1,n&&r<=0&&(n.stop(),t=void 0,n=void 0)};return(...o)=>(r+=1,t||(n=Ge(!0),t=n.run(()=>e(...o))),Z(a),t)}function ft(e,r=200,t=!1,n=!0,a=!1){return Me(st(r,t,n,a),e)}function br(e,r=200,t=!0,n=!0){if(r<=0)return e;const a=N(e.value),o=ft(()=>{a.value=e.value},r,t,n);return q(e,()=>o()),a}function pt(e,r=!0){nt()?ot(e):r?e():Ce(e)}function se(e,r=!1){function t(c,{flush:p="sync",deep:y=!1,timeout:d,throwOnTimeout:m}={}){let v=null;const h=[new Promise(w=>{v=q(e,O=>{c(O)!==r&&(v==null||v(),w(O))},{flush:p,deep:y,immediate:!0})})];return d!=null&&h.push(we(d,m).then(()=>T(e)).finally(()=>v==null?void 0:v())),Promise.race(h)}function n(c,p){if(!ke(c))return t(O=>O===c,p);const{flush:y="sync",deep:d=!1,timeout:m,throwOnTimeout:v}=p??{};let g=null;const w=[new Promise(O=>{g=q([e,c],([E,D])=>{r!==(E===D)&&(g==null||g(),O(E))},{flush:y,deep:d,immediate:!0})})];return m!=null&&w.push(we(m,v).then(()=>T(e)).finally(()=>(g==null||g(),T(e)))),Promise.race(w)}function a(c){return t(p=>Boolean(p),c)}function o(c){return n(null,c)}function i(c){return n(void 0,c)}function l(c){return t(Number.isNaN,c)}function s(c,p){return t(y=>{const d=Array.from(y);return d.includes(c)||d.includes(T(c))},p)}function u(c){return f(1,c)}function f(c=1,p){let y=-1;return t(()=>(y+=1,y>=c),p)}return Array.isArray(T(e))?{toMatch:t,toContains:s,changed:u,changedTimes:f,get not(){return se(e,!r)}}:{toMatch:t,toBe:n,toBeTruthy:a,toBeNull:o,toBeNaN:l,toBeUndefined:i,changed:u,changedTimes:f,get not(){return se(e,!r)}}}function Oe(e){return se(e)}function dt(e,r=1e3,t={}){const{immediate:n=!0,immediateCallback:a=!1}=t;let o=null;const i=N(!1);function l(){o&&(clearInterval(o),o=null)}function s(){i.value=!1,l()}function u(){const f=T(r);f<=0||(i.value=!0,a&&e(),l(),o=setInterval(e,f))}if(n&&J&&u(),ke(r)||Be(r)){const f=q(r,()=>{i.value&&J&&u()});Z(f)}return Z(s),{isActive:i,pause:s,resume:u}}var _e=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,ht=(e,r)=>{var t={};for(var n in e)mt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&_e)for(var n of _e(e))r.indexOf(n)<0&&yt.call(e,n)&&(t[n]=e[n]);return t};function vt(e,r,t={}){const n=t,{eventFilter:a=He}=n,o=ht(n,["eventFilter"]);return q(e,Me(a,r),o)}var gt=Object.defineProperty,bt=Object.defineProperties,wt=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,Pe=(e,r,t)=>r in e?gt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ot=(e,r)=>{for(var t in r||(r={}))Qe.call(r,t)&&Pe(e,t,r[t]);if(G)for(var t of G(r))Ve.call(r,t)&&Pe(e,t,r[t]);return e},_t=(e,r)=>bt(e,wt(r)),Pt=(e,r)=>{var t={};for(var n in e)Qe.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&G)for(var n of G(e))r.indexOf(n)<0&&Ve.call(e,n)&&(t[n]=e[n]);return t};function jt(e,r,t={}){const n=t,{eventFilter:a}=n,o=Pt(n,["eventFilter"]),{eventFilter:i,pause:l,resume:s,isActive:u}=lt(a);return{stop:vt(e,r,_t(Ot({},o),{eventFilter:i})),pause:l,resume:s,isActive:u}}function le(e){var r;const t=T(e);return(r=t==null?void 0:t.$el)!=null?r:t}const U=J?window:void 0,St=J?window.document:void 0;function L(...e){let r,t,n,a;if(ut(e[0])||Array.isArray(e[0])?([t,n,a]=e,r=U):[r,t,n,a]=e,!r)return ue;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const o=[],i=()=>{o.forEach(f=>f()),o.length=0},l=(f,c,p)=>(f.addEventListener(c,p,a),()=>f.removeEventListener(c,p,a)),s=q(()=>le(r),f=>{i(),f&&o.push(...t.flatMap(c=>n.map(p=>l(f,c,p))))},{immediate:!0,flush:"post"}),u=()=>{s(),i()};return Z(u),u}function Et(e,r=!1){const t=N(),n=()=>t.value=Boolean(e());return n(),pt(n,r),t}const ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe="__vueuse_ssr_handlers__";ce[fe]=ce[fe]||{};const xt=ce[fe];function Nt(e,r){return xt[e]||r}function $t(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var At=Object.defineProperty,je=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Se=(e,r,t)=>r in e?At(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ee=(e,r)=>{for(var t in r||(r={}))Dt.call(r,t)&&Se(e,t,r[t]);if(je)for(var t of je(r))It.call(r,t)&&Se(e,t,r[t]);return e};const Ft={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Rt(e,r,t,n={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:s=!0,mergeDefaults:u=!1,shallow:f,window:c=U,eventFilter:p,onError:y=b=>{console.error(b)}}=n,d=(f?it:N)(r);if(!t)try{t=Nt("getDefaultStorage",()=>{var b;return(b=U)==null?void 0:b.localStorage})()}catch(b){y(b)}if(!t)return d;const m=T(r),v=$t(m),g=(a=n.serializer)!=null?a:Ft[v],{pause:h,resume:w}=jt(d,()=>O(d.value),{flush:o,deep:i,eventFilter:p});return c&&l&&L(c,"storage",D),D(),d;function O(b){try{if(b==null)t.removeItem(e);else{const _=g.write(b),S=t.getItem(e);S!==_&&(t.setItem(e,_),c&&(c==null||c.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:S,newValue:_,storageArea:t}))))}}catch(_){y(_)}}function E(b){const _=b?b.newValue:t.getItem(e);if(_==null)return s&&m!==null&&t.setItem(e,g.write(m)),m;if(!b&&u){const S=g.read(_);return Be(u)?u(S,m):v==="object"&&!Array.isArray(S)?Ee(Ee({},m),S):S}else return typeof _!="string"?_:g.read(_)}function D(b){if(!(b&&b.storageArea!==t)){if(b&&b.key==null){d.value=m;return}if(!(b&&b.key!==e)){h();try{d.value=E(b)}catch(_){y(_)}finally{b?Ce(w):w()}}}}}function Tt(e,r={}){const{immediate:t=!0,window:n=U}=r,a=N(!1);let o=0,i=null;function l(f){if(!a.value||!n)return;const c=f-o;e({delta:c,timestamp:f}),o=f,i=n.requestAnimationFrame(l)}function s(){!a.value&&n&&(a.value=!0,i=n.requestAnimationFrame(l))}function u(){a.value=!1,i!=null&&n&&(n.cancelAnimationFrame(i),i=null)}return t&&s(),Z(u),{isActive:Le(a),pause:u,resume:s}}function he(e,r,t={}){const{window:n=U}=t;return Rt(e,r,n==null?void 0:n.localStorage,t)}function wr(e={}){const{type:r="page",touch:t=!0,resetOnTouchEnds:n=!1,initialValue:a={x:0,y:0},window:o=U,eventFilter:i}=e,l=N(a.x),s=N(a.y),u=N(null),f=m=>{r==="page"?(l.value=m.pageX,s.value=m.pageY):r==="client"?(l.value=m.clientX,s.value=m.clientY):r==="movement"&&(l.value=m.movementX,s.value=m.movementY),u.value="mouse"},c=()=>{l.value=a.x,s.value=a.y},p=m=>{if(m.touches.length>0){const v=m.touches[0];r==="page"?(l.value=v.pageX,s.value=v.pageY):r==="client"&&(l.value=v.clientX,s.value=v.clientY),u.value="touch"}},y=m=>i===void 0?f(m):i(()=>f(m),{}),d=m=>i===void 0?p(m):i(()=>p(m),{});return o&&(L(o,"mousemove",y,{passive:!0}),L(o,"dragover",y,{passive:!0}),t&&r!=="movement"&&(L(o,"touchstart",d,{passive:!0}),L(o,"touchmove",d,{passive:!0}),n&&L(o,"touchend",c,{passive:!0}))),{x:l,y:s,sourceType:u}}function Or(e,r={}){const{document:t=St,pointerLockOptions:n}=r,a=Et(()=>t&&"pointerLockElement"in t),o=N(),i=N();let l;a.value&&(L(t,"pointerlockchange",()=>{var f;const c=(f=t.pointerLockElement)!=null?f:o.value;l&&c===l&&(o.value=t.pointerLockElement,o.value||(l=i.value=null))}),L(t,"pointerlockerror",()=>{var f;const c=(f=t.pointerLockElement)!=null?f:o.value;if(l&&c===l){const p=t.pointerLockElement?"release":"acquire";throw new Error(`Failed to ${p} pointer lock.`)}}));async function s(f,c){var p;if(!a.value)throw new Error("Pointer Lock API is not supported by your browser.");if(i.value=f instanceof Event?f.currentTarget:null,l=f instanceof Event?(p=le(e))!=null?p:i.value:le(f),!l)throw new Error("Target element undefined.");return l.requestPointerLock(c??n),await Oe(o).toBe(l)}async function u(){return o.value?(t.exitPointerLock(),await Oe(o).toBeNull(),!0):!1}return{isSupported:a,element:o,triggerElement:i,lock:s,unlock:u}}var xe;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(xe||(xe={}));var Ct=Object.defineProperty,Ne=Object.getOwnPropertySymbols,kt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable,$e=(e,r,t)=>r in e?Ct(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Bt=(e,r)=>{for(var t in r||(r={}))kt.call(r,t)&&$e(e,t,r[t]);if(Ne)for(var t of Ne(r))Lt.call(r,t)&&$e(e,t,r[t]);return e};function Mt(e={}){const{controls:r=!1,offset:t=0,immediate:n=!0,interval:a="requestAnimationFrame",callback:o}=e,i=N(be()+t),l=()=>i.value=be()+t,s=o?()=>{l(),o(i.value)}:l,u=a==="requestAnimationFrame"?Tt(s,{immediate:n}):dt(s,a,{immediate:n});return r?Bt({timestamp:i},u):i}var Ht=Object.defineProperty,Ae=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,De=(e,r,t)=>r in e?Ht(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,qt=(e,r)=>{for(var t in r||(r={}))Qt.call(r,t)&&De(e,t,r[t]);if(Ae)for(var t of Ae(r))Vt.call(r,t)&&De(e,t,r[t]);return e};const Ut={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};qt({linear:ct},Ut);const _r=te(()=>{const e=he("ticket-allocator.options",[]),r=oe(()=>e.value.includes("hide-empty")),t=oe(()=>e.value.includes("alt-info")),n=oe(()=>e.value.includes("unlocked"));return at({all:e,hideEmpty:r,altInfo:t,unlocked:n})}),Pr=te(()=>he("ticket-allocator.display-mode","weight")),jr=te(()=>he("ticket-allocator.operator-sorting","asc")),Wt=te(()=>Mt({interval:1e3}));function re(e){return(r,t)=>{const n=r.$self();n.setRegistry(t,()=>n.attr(e))}}function X(e,r={}){return(t,n)=>{const a=t.$self();a.setRegistry(n,()=>{const o=a.string(e);return r.notNullable&&o.notNullable(),o})}}function z(e,r={}){return(t,n)=>{const a=t.$self();a.setRegistry(n,()=>{const o=a.number(e);return r.notNullable&&o.notNullable(),o})}}function qe(e,r={}){return(t,n)=>{const a=t.$self();a.setRegistry(n,()=>{const o=a.boolean(e);return r.notNullable&&o.notNullable(),o})}}function Y(){return(e,r)=>{const t=e.$self();t.setRegistry(r,()=>t.uid())}}function zt(e,r,t){return(n,a)=>{const o=n.$self();o.setRegistry(a,()=>o.belongsTo(e(),r,t))}}function Ue(e,r,t,n,a,o){return(i,l)=>{const s=i.$self();s.setRegistry(l,()=>s.belongsToMany(e(),r(),t,n,a,o))}}function Jt(e,r,t){return(n,a)=>{const o=n.$self();o.setRegistry(a,()=>o.hasMany(e(),r,t))}}function Zt(e){return(r,t)=>{r.$self().setFieldDeleteMode(t,e)}}var Kt=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,We=(e,r,t,n)=>{for(var a=n>1?void 0:n?Xt(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&Kt(r,t,a),a};class W extends ee{}R(W,"entity","teamOperator"),R(W,"primaryKey",["team_uuid","operator_uuid"]);We([Y()],W.prototype,"team_uuid",2);We([Y()],W.prototype,"operator_uuid",2);var Yt=Object.defineProperty,Gt=Object.getOwnPropertyDescriptor,Q=(e,r,t,n)=>{for(var a=n>1?void 0:n?Gt(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&Yt(r,t,a),a};class F extends ee{}R(F,"entity","operatorTeams"),R(F,"primaryKey","uuid");Q([Y()],F.prototype,"uuid",2);Q([X("")],F.prototype,"name",2);Q([X("")],F.prototype,"description",2);Q([re()],F.prototype,"created_at",2);Q([re()],F.prototype,"updated_at",2);Q([re()],F.prototype,"deleted_at",2);Q([Ue(()=>$,()=>W,"team_uuid","operator_uuid")],F.prototype,"operators",2);var er=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,B=(e,r,t,n)=>{for(var a=n>1?void 0:n?tr(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&er(r,t,a),a};class $ extends ee{get ticket_count(){return this.tickets.length}get free_slots(){return this.ticket_limit!==null?Math.max(0,this.ticket_limit-this.ticket_count):null}get total_complexity(){return this.tickets.reduce((r,{complexity:t})=>r+t,0)}get free_complexity(){return this.complexity_limit!==null?Math.max(0,this.complexity_limit-this.total_complexity):null}}R($,"entity","operators"),R($,"primaryKey","uuid");B([Y()],$.prototype,"uuid",2);B([X("")],$.prototype,"name",2);B([qe(!1)],$.prototype,"online",2);B([qe(!1)],$.prototype,"ready",2);B([z(null)],$.prototype,"ticket_limit",2);B([z(null)],$.prototype,"complexity_limit",2);B([Ue(()=>F,()=>W,"operator_uuid","team_uuid")],$.prototype,"teams",2);B([Jt(()=>A,"handler_uuid"),Zt("set null")],$.prototype,"tickets",2);var rr=Object.defineProperty,nr=Object.getOwnPropertyDescriptor,k=(e,r,t,n)=>{for(var a=n>1?void 0:n?nr(r,t):r,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(n?i(r,t,a):i(a))||a);return n&&a&&rr(r,t,a),a};class A extends ee{get duration(){return Math.round((Wt().value-new Date(this.created_at).getTime())/1e3)}get weight(){return this.initial_weight+this.weight_increment*this.duration}}R(A,"entity","tickets"),R(A,"primaryKey","uuid");k([Y()],A.prototype,"uuid",2);k([X("")],A.prototype,"category_uuid",2);k([X(null)],A.prototype,"handler_uuid",2);k([z(0)],A.prototype,"initial_weight",2);k([z(0)],A.prototype,"weight_increment",2);k([z(0)],A.prototype,"complexity",2);k([z(0)],A.prototype,"delay",2);k([re()],A.prototype,"created_at",2);k([zt(()=>$,"handler_uuid")],A.prototype,"handler",2);function Ie(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ze(e,r,t){return r&&Ie(e.prototype,r),t&&Ie(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},x.apply(this,arguments)}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pe(e)}function K(e,r){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},K(e,r)}function or(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function de(e,r,t){return de=or()?Reflect.construct.bind():function(n,a,o){var i=[null];i.push.apply(i,a);var l=new(Function.bind.apply(n,i));return o&&K(l,o.prototype),l},de.apply(null,arguments)}function me(e){var r=typeof Map=="function"?new Map:void 0;return me=function(t){if(t===null||Function.toString.call(t).indexOf("[native code]")===-1)return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return de(t,arguments,pe(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),K(n,t)},me(e)}var ir=String.prototype.replace,ar=/%20/g,V={default:"RFC3986",formatters:{RFC1738:function(e){return ir.call(e,ar,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"},ie=Object.prototype.hasOwnProperty,M=Array.isArray,I=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),Fe=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)e[n]!==void 0&&(t[n]=e[n]);return t},C={arrayToObject:Fe,assign:function(e,r){return Object.keys(r).reduce(function(t,n){return t[n]=r[n],t},e)},combine:function(e,r){return[].concat(e,r)},compact:function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],n=0;n<r.length;++n)for(var a=r[n],o=a.obj[a.prop],i=Object.keys(o),l=0;l<i.length;++l){var s=i[l],u=o[s];typeof u=="object"&&u!==null&&t.indexOf(u)===-1&&(r.push({obj:o,prop:s}),t.push(u))}return function(f){for(;f.length>1;){var c=f.pop(),p=c.obj[c.prop];if(M(p)){for(var y=[],d=0;d<p.length;++d)p[d]!==void 0&&y.push(p[d]);c.obj[c.prop]=y}}}(r),e},decode:function(e,r,t){var n=e.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},encode:function(e,r,t,n,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var i="",l=0;l<o.length;++l){var s=o.charCodeAt(l);s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||a===V.RFC1738&&(s===40||s===41)?i+=o.charAt(l):s<128?i+=I[s]:s<2048?i+=I[192|s>>6]+I[128|63&s]:s<55296||s>=57344?i+=I[224|s>>12]+I[128|s>>6&63]+I[128|63&s]:(s=65536+((1023&s)<<10|1023&o.charCodeAt(l+=1)),i+=I[240|s>>18]+I[128|s>>12&63]+I[128|s>>6&63]+I[128|63&s])}return i},isBuffer:function(e){return!(!e||typeof e!="object"||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},maybeMap:function(e,r){if(M(e)){for(var t=[],n=0;n<e.length;n+=1)t.push(r(e[n]));return t}return r(e)},merge:function e(r,t,n){if(!t)return r;if(typeof t!="object"){if(M(r))r.push(t);else{if(!r||typeof r!="object")return[r,t];(n&&(n.plainObjects||n.allowPrototypes)||!ie.call(Object.prototype,t))&&(r[t]=!0)}return r}if(!r||typeof r!="object")return[r].concat(t);var a=r;return M(r)&&!M(t)&&(a=Fe(r,n)),M(r)&&M(t)?(t.forEach(function(o,i){if(ie.call(r,i)){var l=r[i];l&&typeof l=="object"&&o&&typeof o=="object"?r[i]=e(l,o,n):r.push(o)}else r[i]=o}),r):Object.keys(t).reduce(function(o,i){var l=t[i];return o[i]=ie.call(o,i)?e(o[i],l,n):l,o},a)}},ur=Object.prototype.hasOwnProperty,Re={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},H=Array.isArray,sr=String.prototype.split,lr=Array.prototype.push,Je=function(e,r){lr.apply(e,H(r)?r:[r])},cr=Date.prototype.toISOString,Te=V.default,j={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:C.encode,encodeValuesOnly:!1,format:Te,formatter:V.formatters[Te],indices:!1,serializeDate:function(e){return cr.call(e)},skipNulls:!1,strictNullHandling:!1},fr=function e(r,t,n,a,o,i,l,s,u,f,c,p,y,d){var m,v=r;if(typeof l=="function"?v=l(t,v):v instanceof Date?v=f(v):n==="comma"&&H(v)&&(v=C.maybeMap(v,function(ne){return ne instanceof Date?f(ne):ne})),v===null){if(a)return i&&!y?i(t,j.encoder,d,"key",c):t;v=""}if(typeof(m=v)=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"||C.isBuffer(v)){if(i){var g=y?t:i(t,j.encoder,d,"key",c);if(n==="comma"&&y){for(var h=sr.call(String(v),","),w="",O=0;O<h.length;++O)w+=(O===0?"":",")+p(i(h[O],j.encoder,d,"value",c));return[p(g)+"="+w]}return[p(g)+"="+p(i(v,j.encoder,d,"value",c))]}return[p(t)+"="+p(String(v))]}var E,D=[];if(v===void 0)return D;if(n==="comma"&&H(v))E=[{value:v.length>0?v.join(",")||null:void 0}];else if(H(l))E=l;else{var b=Object.keys(v);E=s?b.sort(s):b}for(var _=0;_<E.length;++_){var S=E[_],ve=typeof S=="object"&&S.value!==void 0?S.value:v[S];if(!o||ve!==null){var Ke=H(v)?typeof n=="function"?n(t,S):t:t+(u?"."+S:"["+S+"]");Je(D,e(ve,Ke,n,a,o,i,l,s,u,f,c,p,y,d))}}return D},ye=Object.prototype.hasOwnProperty,pr=Array.isArray,P={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:C.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},dr=function(e){return e.replace(/&#(\d+);/g,function(r,t){return String.fromCharCode(parseInt(t,10))})},Ze=function(e,r){return e&&typeof e=="string"&&r.comma&&e.indexOf(",")>-1?e.split(","):e},mr=function(e,r,t,n){if(e){var a=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=t.depth>0&&/(\[[^[\]]*])/.exec(a),l=i?a.slice(0,i.index):a,s=[];if(l){if(!t.plainObjects&&ye.call(Object.prototype,l)&&!t.allowPrototypes)return;s.push(l)}for(var u=0;t.depth>0&&(i=o.exec(a))!==null&&u<t.depth;){if(u+=1,!t.plainObjects&&ye.call(Object.prototype,i[1].slice(1,-1))&&!t.allowPrototypes)return;s.push(i[1])}return i&&s.push("["+a.slice(i.index)+"]"),function(f,c,p,y){for(var d=y?c:Ze(c,p),m=f.length-1;m>=0;--m){var v,g=f[m];if(g==="[]"&&p.parseArrays)v=[].concat(d);else{v=p.plainObjects?Object.create(null):{};var h=g.charAt(0)==="["&&g.charAt(g.length-1)==="]"?g.slice(1,-1):g,w=parseInt(h,10);p.parseArrays||h!==""?!isNaN(w)&&g!==h&&String(w)===h&&w>=0&&p.parseArrays&&w<=p.arrayLimit?(v=[])[w]=d:h!=="__proto__"&&(v[h]=d):v={0:d}}d=v}return d}(s,r,t,n)}},yr=function(e,r){var t=function(u){if(!u)return P;if(u.decoder!=null&&typeof u.decoder!="function")throw new TypeError("Decoder has to be a function.");if(u.charset!==void 0&&u.charset!=="utf-8"&&u.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:u.allowDots===void 0?P.allowDots:!!u.allowDots,allowPrototypes:typeof u.allowPrototypes=="boolean"?u.allowPrototypes:P.allowPrototypes,arrayLimit:typeof u.arrayLimit=="number"?u.arrayLimit:P.arrayLimit,charset:u.charset===void 0?P.charset:u.charset,charsetSentinel:typeof u.charsetSentinel=="boolean"?u.charsetSentinel:P.charsetSentinel,comma:typeof u.comma=="boolean"?u.comma:P.comma,decoder:typeof u.decoder=="function"?u.decoder:P.decoder,delimiter:typeof u.delimiter=="string"||C.isRegExp(u.delimiter)?u.delimiter:P.delimiter,depth:typeof u.depth=="number"||u.depth===!1?+u.depth:P.depth,ignoreQueryPrefix:u.ignoreQueryPrefix===!0,interpretNumericEntities:typeof u.interpretNumericEntities=="boolean"?u.interpretNumericEntities:P.interpretNumericEntities,parameterLimit:typeof u.parameterLimit=="number"?u.parameterLimit:P.parameterLimit,parseArrays:u.parseArrays!==!1,plainObjects:typeof u.plainObjects=="boolean"?u.plainObjects:P.plainObjects,strictNullHandling:typeof u.strictNullHandling=="boolean"?u.strictNullHandling:P.strictNullHandling}}(r);if(e===""||e==null)return t.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?function(u,f){var c,p={},y=(f.ignoreQueryPrefix?u.replace(/^\?/,""):u).split(f.delimiter,f.parameterLimit===1/0?void 0:f.parameterLimit),d=-1,m=f.charset;if(f.charsetSentinel)for(c=0;c<y.length;++c)y[c].indexOf("utf8=")===0&&(y[c]==="utf8=%E2%9C%93"?m="utf-8":y[c]==="utf8=%26%2310003%3B"&&(m="iso-8859-1"),d=c,c=y.length);for(c=0;c<y.length;++c)if(c!==d){var v,g,h=y[c],w=h.indexOf("]="),O=w===-1?h.indexOf("="):w+1;O===-1?(v=f.decoder(h,P.decoder,m,"key"),g=f.strictNullHandling?null:""):(v=f.decoder(h.slice(0,O),P.decoder,m,"key"),g=C.maybeMap(Ze(h.slice(O+1),f),function(E){return f.decoder(E,P.decoder,m,"value")})),g&&f.interpretNumericEntities&&m==="iso-8859-1"&&(g=dr(g)),h.indexOf("[]=")>-1&&(g=pr(g)?[g]:g),p[v]=ye.call(p,v)?C.combine(p[v],g):g}return p}(e,t):e,a=t.plainObjects?Object.create(null):{},o=Object.keys(n),i=0;i<o.length;++i){var l=o[i],s=mr(l,n[l],t,typeof e=="string");a=C.merge(a,s,t)}return C.compact(a)},ae=function(){function e(t,n,a){var o,i;this.name=t,this.definition=n,this.bindings=(o=n.bindings)!=null?o:{},this.wheres=(i=n.wheres)!=null?i:{},this.config=a}var r=e.prototype;return r.matchesUrl=function(t){var n=this;if(!this.definition.methods.includes("GET"))return!1;var a=this.template.replace(/(\/?){([^}?]*)(\??)}/g,function(u,f,c,p){var y,d="(?<"+c+">"+(((y=n.wheres[c])==null?void 0:y.replace(/(^\^)|(\$$)/g,""))||"[^/?]+")+")";return p?"("+f+d+")?":""+f+d}).replace(/^\w+:\/\//,""),o=t.replace(/^\w+:\/\//,"").split("?"),i=o[0],l=o[1],s=new RegExp("^"+a+"/?$").exec(i);return!!s&&{params:s.groups,query:yr(l)}},r.compile=function(t){var n=this,a=this.parameterSegments;return a.length?this.template.replace(/{([^}?]+)(\??)}/g,function(o,i,l){var s,u,f;if(!l&&[null,void 0].includes(t[i]))throw new Error("Ziggy error: '"+i+"' parameter is required for route '"+n.name+"'.");if(a[a.length-1].name===i&&n.wheres[i]===".*")return encodeURIComponent((f=t[i])!=null?f:"").replace(/%2F/g,"/");if(n.wheres[i]&&!new RegExp("^"+(l?"("+n.wheres[i]+")?":n.wheres[i])+"$").test((s=t[i])!=null?s:""))throw new Error("Ziggy error: '"+i+"' parameter does not match required format '"+n.wheres[i]+"' for route '"+n.name+"'.");return encodeURIComponent((u=t[i])!=null?u:"")}).replace(/\/+$/,""):this.template},ze(e,[{key:"template",get:function(){return((this.config.absolute?this.definition.domain?""+this.config.url.match(/^\w+:\/\//)[0]+this.definition.domain+(this.config.port?":"+this.config.port:""):this.config.url:"")+"/"+this.definition.uri).replace(/\/+$/,"")}},{key:"parameterSegments",get:function(){var t,n;return(t=(n=this.template.match(/{[^}?]+\??}/g))==null?void 0:n.map(function(a){return{name:a.replace(/{|\??}/g,""),required:!/\?}$/.test(a)}}))!=null?t:[]}}]),e}(),hr=function(e){var r,t;function n(o,i,l,s){var u;if(l===void 0&&(l=!0),(u=e.call(this)||this).t=s??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),u.t=x({},u.t,{absolute:l}),o){if(!u.t.routes[o])throw new Error("Ziggy error: route '"+o+"' is not in the route list.");u.i=new ae(o,u.t.routes[o],u.t),u.u=u.l(i)}return u}t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,K(r,t);var a=n.prototype;return a.toString=function(){var o=this,i=Object.keys(this.u).filter(function(l){return!o.i.parameterSegments.some(function(s){return s.name===l})}).filter(function(l){return l!=="_query"}).reduce(function(l,s){var u;return x({},l,((u={})[s]=o.u[s],u))},{});return this.i.compile(this.u)+function(l,s){var u,f=l,c=function(h){if(!h)return j;if(h.encoder!=null&&typeof h.encoder!="function")throw new TypeError("Encoder has to be a function.");var w=h.charset||j.charset;if(h.charset!==void 0&&h.charset!=="utf-8"&&h.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=V.default;if(h.format!==void 0){if(!ur.call(V.formatters,h.format))throw new TypeError("Unknown format option provided.");O=h.format}var E=V.formatters[O],D=j.filter;return(typeof h.filter=="function"||H(h.filter))&&(D=h.filter),{addQueryPrefix:typeof h.addQueryPrefix=="boolean"?h.addQueryPrefix:j.addQueryPrefix,allowDots:h.allowDots===void 0?j.allowDots:!!h.allowDots,charset:w,charsetSentinel:typeof h.charsetSentinel=="boolean"?h.charsetSentinel:j.charsetSentinel,delimiter:h.delimiter===void 0?j.delimiter:h.delimiter,encode:typeof h.encode=="boolean"?h.encode:j.encode,encoder:typeof h.encoder=="function"?h.encoder:j.encoder,encodeValuesOnly:typeof h.encodeValuesOnly=="boolean"?h.encodeValuesOnly:j.encodeValuesOnly,filter:D,format:O,formatter:E,serializeDate:typeof h.serializeDate=="function"?h.serializeDate:j.serializeDate,skipNulls:typeof h.skipNulls=="boolean"?h.skipNulls:j.skipNulls,sort:typeof h.sort=="function"?h.sort:null,strictNullHandling:typeof h.strictNullHandling=="boolean"?h.strictNullHandling:j.strictNullHandling}}(s);typeof c.filter=="function"?f=(0,c.filter)("",f):H(c.filter)&&(u=c.filter);var p=[];if(typeof f!="object"||f===null)return"";var y=Re[s&&s.arrayFormat in Re?s.arrayFormat:s&&"indices"in s?s.indices?"indices":"repeat":"indices"];u||(u=Object.keys(f)),c.sort&&u.sort(c.sort);for(var d=0;d<u.length;++d){var m=u[d];c.skipNulls&&f[m]===null||Je(p,fr(f[m],m,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset))}var v=p.join(c.delimiter),g=c.addQueryPrefix===!0?"?":"";return c.charsetSentinel&&(g+=c.charset==="iso-8859-1"?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),v.length>0?g+v:""}(x({},i,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:function(l,s){return typeof l=="boolean"?Number(l):s(l)}})},a.v=function(o){var i=this;o?this.t.absolute&&o.startsWith("/")&&(o=this.p().host+o):o=this.h();var l={},s=Object.entries(this.t.routes).find(function(u){return l=new ae(u[0],u[1],i.t).matchesUrl(o)})||[void 0,void 0];return x({name:s[0]},l,{route:s[1]})},a.h=function(){var o=this.p(),i=o.pathname,l=o.search;return(this.t.absolute?o.host+i:i.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+l},a.current=function(o,i){var l=this.v(),s=l.name,u=l.params,f=l.query,c=l.route;if(!o)return s;var p=new RegExp("^"+o.replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(s);if([null,void 0].includes(i)||!p)return p;var y=new ae(s,c,this.t);i=this.l(i,y);var d=x({},u,f);return!(!Object.values(i).every(function(m){return!m})||Object.values(d).some(function(m){return m!==void 0}))||Object.entries(i).every(function(m){return d[m[0]]==m[1]})},a.p=function(){var o,i,l,s,u,f,c=typeof window<"u"?window.location:{},p=c.host,y=c.pathname,d=c.search;return{host:(o=(i=this.t.location)==null?void 0:i.host)!=null?o:p===void 0?"":p,pathname:(l=(s=this.t.location)==null?void 0:s.pathname)!=null?l:y===void 0?"":y,search:(u=(f=this.t.location)==null?void 0:f.search)!=null?u:d===void 0?"":d}},a.has=function(o){return Object.keys(this.t.routes).includes(o)},a.l=function(o,i){var l=this;o===void 0&&(o={}),i===void 0&&(i=this.i),o!=null||(o={}),o=["string","number"].includes(typeof o)?[o]:o;var s=i.parameterSegments.filter(function(f){return!l.t.defaults[f.name]});if(Array.isArray(o))o=o.reduce(function(f,c,p){var y,d;return x({},f,s[p]?((y={})[s[p].name]=c,y):typeof c=="object"?c:((d={})[c]="",d))},{});else if(s.length===1&&!o[s[0].name]&&(o.hasOwnProperty(Object.values(i.bindings)[0])||o.hasOwnProperty("id"))){var u;(u={})[s[0].name]=o,o=u}return x({},this.m(i),this.g(o,i))},a.m=function(o){var i=this;return o.parameterSegments.filter(function(l){return i.t.defaults[l.name]}).reduce(function(l,s,u){var f,c=s.name;return x({},l,((f={})[c]=i.t.defaults[c],f))},{})},a.g=function(o,i){var l=i.bindings,s=i.parameterSegments;return Object.entries(o).reduce(function(u,f){var c,p,y=f[0],d=f[1];if(!d||typeof d!="object"||Array.isArray(d)||!s.some(function(m){return m.name===y}))return x({},u,((p={})[y]=d,p));if(!d.hasOwnProperty(l[y])){if(!d.hasOwnProperty("id"))throw new Error("Ziggy error: object passed as '"+y+"' parameter is missing route model binding key '"+l[y]+"'.");l[y]="id"}return x({},u,((c={})[y]=d[l[y]],c))},{})},a.valueOf=function(){return this.toString()},a.check=function(o){return this.has(o)},ze(n,[{key:"params",get:function(){var o=this.v();return x({},o.params,o.query)}}]),n}(me(String));function Sr(e,r,t,n){var a=new hr(e,r,t,n);return e?a.toString():a}export{$ as O,Sr as P,A as T,Pr as a,Or as b,wr as c,_r as d,jr as e,F as f,J as i,br as r,L as u};
//# sourceMappingURL=index.m-eb214e7d.js.map
