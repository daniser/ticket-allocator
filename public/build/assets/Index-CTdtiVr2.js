import{_ as x,T as V}from"./Default.vue_vue_type_script_setup_true_lang-BKRqE0Nn.js";import{p as S,g as z,z as F,r as C,aB as I,w,y as A,j as R,D as E,i as a,E as N,aC as L,a3 as O,a5 as U,f as W,a9 as j,W as c,aw as M,aa as t,F as Z,aD as q,a8 as D,ad as h,ae as u,af as k,V as _,ab as G,aE as H,ah as P}from"./app-CGIjSsQg.js";import{V as J,a as K,b as Q,c as T}from"./VSpacer-D1BHSPMc.js";import{a as X,V as Y}from"./scopeId-BEprfwwV.js";import{c as ee,d as ae,b as $,e as te}from"./filter-Dnf4NzhC.js";import{f as le}from"./VTextField-Cb8mWS9Z.js";import{V as oe,b as re,a as se,c as ne}from"./VCard-B2P6bpR5.js";import{V as ie}from"./VContainer-CGWcKZnk.js";import{V as ce,a as ue}from"./VRow-B1hUjuvv.js";import{a as de}from"./VCheckboxBtn-wFfuyUYv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VGrid-BP2fPEQJ.js";import"./VTable-8cuHRUD4.js";const fe=S({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ee({origin:"center center",scrollStrategy:"block",transition:{component:ae},zIndex:2400})},"VDialog"),me=z()({name:"VDialog",props:fe(),emits:{"click:outside":s=>!0,"update:modelValue":s=>!0,afterLeave:()=>!0},setup(s,d){let{slots:p}=d;const n=F(s,"modelValue"),{scopeId:f}=X(),r=C();function l(o){var m,g;const e=o.relatedTarget,y=o.target;if(e!==y&&((m=r.value)!=null&&m.contentEl)&&((g=r.value)!=null&&g.globalTop)&&![document,r.value.contentEl].includes(y)&&!r.value.contentEl.contains(y)){const i=L(r.value.contentEl);if(!i.length)return;const b=i[0],B=i[i.length-1];e===b?B.focus():b.focus()}}I&&w(()=>n.value&&s.retainFocus,o=>{o?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0});function v(){var o;(o=r.value)!=null&&o.contentEl&&!r.value.contentEl.contains(document.activeElement)&&r.value.contentEl.focus({preventScroll:!0})}return w(n,async o=>{var e;o||(await A(),(e=r.value.activatorEl)==null||e.focus({preventScroll:!0}))}),R(()=>{const o=$.filterProps(s),e=E({"aria-haspopup":"dialog","aria-expanded":String(n.value)},s.activatorProps),y=E({tabindex:-1},s.contentProps);return a($,E({ref:r,class:["v-dialog",{"v-dialog--fullscreen":s.fullscreen,"v-dialog--scrollable":s.scrollable},s.class],style:s.style},o,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,"aria-modal":"true",activatorProps:e,contentProps:y,role:"dialog",onAfterEnter:v},f),{activator:p.activator,default:function(){for(var m=arguments.length,g=new Array(m),i=0;i<m;i++)g[i]=arguments[i];return a(N,{root:"VDialog"},{default:()=>{var b;return[(b=p.default)==null?void 0:b.call(p,...g)]}})}})}),le({},r)}}),pe={class:"font-semibold text-xl text-gray-800 leading-tight"},ve={class:"text-h5"},$e=O({__name:"Index",props:{factors:{},factorDictionary:{}},setup(s){const{t:d}=U(),p=W(()=>[{title:d("active"),key:"active",sortable:!1},{title:d("type"),key:"type.name",sortable:!1},{title:d("name"),key:"name",sortable:!1},{title:d("description"),key:"description",sortable:!1},{title:d("actions"),key:"actions",sortable:!1}]),n=C(),f=C();function r(){n.value=null}return(l,v)=>{const o=q("v-btn-ex");return D(),j(Z,null,[a(c(M),{title:l.$t("factors")},null,8,["title"]),a(x,null,{header:t(()=>[h("h2",pe,u(l.$t("factors")),1)]),default:t(()=>[h("div",null,[a(J,{headers:p.value,items:l.factors},{top:t(()=>[a(K,{flat:""},{default:t(()=>[a(Q,null,{default:t(()=>[k(u(l.$t("factors")),1)]),_:1}),a(Y,{class:"mx-4",inset:"",vertical:""}),a(T),a(me,{modelValue:n.value,"onUpdate:modelValue":v[1]||(v[1]=e=>n.value=e),"max-width":"500px"},{activator:t(({props:e})=>[a(_,E({color:"primary",dark:""},e),{default:t(()=>[k(u(l.$t("new_factor")),1)]),_:2},1040)]),default:t(()=>[a(oe,null,{default:t(()=>[a(re,null,{default:t(()=>[h("span",ve,u(l.$t("choose_factor_type")),1)]),_:1}),a(se,null,{default:t(()=>[a(ie,null,{default:t(()=>[a(ce,null,{default:t(()=>[a(ue,{cols:"12",md:"12"},{default:t(()=>[a(te,{modelValue:f.value,"onUpdate:modelValue":v[0]||(v[0]=e=>f.value=e),label:l.$t("factor_type"),items:l.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ne,null,{default:t(()=>[a(T),a(_,{color:"primary",dark:"",onClick:r},{default:t(()=>[k(u(l.$t("cancel")),1)]),_:1}),(D(),G(_,{key:f.value,to:c(V)("ticket-allocator.factors.create",{type:f.value}),disabled:!f.value,color:"primary",dark:"",onClick:r},{default:t(()=>[k(u(l.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":t(({item:e})=>[a(c(H),{as:"span",href:c(V)("ticket-allocator.factors.update",e.uuid),method:"patch",data:{active:!!e.deleted_at}},{default:t(()=>[a(de,{"model-value":!e.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":t(({item:e})=>[h("span",{class:P({italic:e.type.excluded})},u(e.type.name),3)]),"item.name":t(({item:e})=>[h("span",{class:P({italic:e.type.excluded&&!e.display_name})},u(e.name),3)]),"item.actions":t(({item:e})=>[a(_,{to:c(V)("ticket-allocator.factors.edit",e.uuid),icon:"mdi-pencil",title:l.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),a(o,{to:c(V)("ticket-allocator.factors.raise-priority",e.uuid),method:"put",icon:"mdi-arrow-up-thick",title:l.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(o,{to:c(V)("ticket-allocator.factors.lower-priority",e.uuid),method:"put",icon:"mdi-arrow-down-thick",title:l.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(o,{to:c(V)("ticket-allocator.factors.destroy",e.uuid),method:"delete",icon:"mdi-delete",title:l.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{$e as default};
//# sourceMappingURL=Index-CTdtiVr2.js.map
