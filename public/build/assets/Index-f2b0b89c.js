import{a as S,P as h}from"./Default.vue_vue_type_script_setup_true_lang-4d3dad17.js";import{q as x,aO as z,aP as I,O as R,aQ as N,r as B,z as O,w as E,n as A,c as F,K as C,A as L,ai as T,B as a,aR as U,aS as M,D as j,a8 as q,aI as _,ac as J,u as s,ad as e,ak as K,ab as Q,aE as W,ag as k,ah as v,aj as y,aL as Z,J as m,aT as G,aM as V,aU as H,aN as X}from"./app-cce71c2a.js";import{V as Y,a as aa,b as P}from"./VToolbar-cf2e4e62.js";import{V as ea,b as ta,a as la,c as oa}from"./VCard-6291c566.js";import{V as ra,a as sa,b as na}from"./VRow-1b6e25f9.js";const ia=x()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...z({origin:"center center",scrollStrategy:"block",transition:{component:I},zIndex:2400})},emits:{"update:modelValue":o=>!0},setup(o,w){let{slots:c}=w;const u=R(o,"modelValue"),{scopeId:t}=N(),r=B();function g(d){var f,p;const n=d.relatedTarget,i=d.target;if(n!==i&&((f=r.value)!=null&&f.contentEl)&&((p=r.value)!=null&&p.globalTop)&&![document,r.value.contentEl].includes(i)&&!r.value.contentEl.contains(i)){const b=j(r.value.contentEl);if(!b.length)return;const $=b[0],D=b[b.length-1];n===$?D.focus():$.focus()}}O&&E(()=>u.value&&o.retainFocus,d=>{d?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)},{immediate:!0}),E(u,async d=>{var n,i;await A(),d?(n=r.value.contentEl)==null||n.focus({preventScroll:!0}):(i=r.value.activatorEl)==null||i.focus({preventScroll:!0})});const l=F(()=>C({"aria-haspopup":"dialog","aria-expanded":String(u.value)},o.activatorProps));return L(()=>{const[d]=T.filterProps(o);return a(T,C({ref:r,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},d,{modelValue:u.value,"onUpdate:modelValue":n=>u.value=n,"aria-modal":"true",activatorProps:l.value,role:"dialog"},t),{activator:c.activator,default:function(){for(var n=arguments.length,i=new Array(n),f=0;f<n;f++)i[f]=arguments[f];return a(U,{root:!0},{default:()=>{var p;return[(p=c.default)==null?void 0:p.call(c,...i)]}})}})}),M({},r)}}),ca={class:"font-semibold text-xl text-gray-800 leading-tight"},ua={class:"text-h5"},ha=q({__name:"Index",props:{factors:null,factorDictionary:null},setup(o){const w=[{title:_("active"),key:"active",sortable:!1},{title:_("name"),key:"name",sortable:!1},{title:_("description"),key:"description",sortable:!1},{title:_("actions"),key:"actions",sortable:!1}],c=B();function u(){c.value=null}return(t,r)=>{const g=X("v-data-table");return Q(),J(K,null,[a(s(W),{title:t.$t("factors")},null,8,["title"]),a(S,null,{header:e(()=>[k("h2",ca,v(t.$t("factors")),1)]),default:e(()=>[k("div",null,[a(g,{headers:w,items:o.factors},{top:e(()=>[a(Y,{flat:""},{default:e(()=>[a(aa,null,{default:e(()=>[y(v(t.$t("factors")),1)]),_:1}),a(Z,{class:"mx-4",inset:"",vertical:""}),a(P),a(ia,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=l=>c.value=l),"max-width":"500px"},{activator:e(({props:l})=>[a(m,C({color:"primary",dark:""},l),{default:e(()=>[y(v(t.$t("new_factor")),1)]),_:2},1040)]),default:e(()=>[a(ea,null,{default:e(()=>[a(ta,null,{default:e(()=>[k("span",ua,v(t.$t("choose_factor_type")),1)]),_:1}),a(la,null,{default:e(()=>[a(ra,null,{default:e(()=>[a(sa,null,{default:e(()=>[a(na,{cols:"12",md:"12"},{default:e(()=>[a(G,{label:t.$t("factor_type"),items:o.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(oa,null,{default:e(()=>[a(P),a(m,{color:"blue-darken-1",variant:"text",onClick:u},{default:e(()=>[y(v(t.$t("cancel")),1)]),_:1}),a(m,{color:"blue-darken-1",variant:"text",onClick:u},{default:e(()=>[y(v(t.$t("create")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),["item.active"]:e(({item:l})=>[a(s(V),{as:"span",href:s(h)("ticket-allocator.factors.update",l.raw.uuid),method:"patch",data:{active:!!l.raw.deleted_at}},{default:e(()=>[a(H,{"model-value":!l.raw.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),["item.actions"]:e(({item:l})=>[a(s(V),{href:s(h)("ticket-allocator.factors.edit",l.raw.uuid)},{default:e(()=>[a(m,{icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(s(V),{as:"span",href:s(h)("ticket-allocator.factors.raise-priority",l.raw.uuid),method:"put"},{default:e(()=>[a(m,{icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(s(V),{as:"span",href:s(h)("ticket-allocator.factors.lower-priority",l.raw.uuid),method:"put"},{default:e(()=>[a(m,{icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(s(V),{as:"span",href:s(h)("ticket-allocator.factors.destroy",l.raw.uuid),method:"delete"},{default:e(()=>[a(m,{icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"])]),_:2},1032,["items"])])]),_:1})],64)}}});export{ha as default};
//# sourceMappingURL=Index-f2b0b89c.js.map
