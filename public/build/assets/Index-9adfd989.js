import{a as I,P as v}from"./Default.vue_vue_type_script_setup_true_lang-bd1fcc36.js";import{q as R,aP as x,aQ as N,O,aR as A,r as C,z as F,w as B,n as U,c as L,K as E,A as M,ai as P,B as e,aS as j,aT as q,D as J,a8 as K,aI as h,ac as Q,u as o,ad as a,ak as W,ab as w,aE as Z,ag as $,ah as m,aj as y,aM as G,J as c,aU as H,ae as D,aN as p,aV as X,aO as Y}from"./app-7163fadb.js";import{V as ee,a as ae,b as S}from"./VToolbar-96cce66c.js";import{V as te,b as le,a as oe,c as re}from"./VCard-f08789d3.js";import{V as se,a as ne,b as ie}from"./VRow-a069c1b1.js";const ue=R()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...x({origin:"center center",scrollStrategy:"block",transition:{component:N},zIndex:2400})},emits:{"update:modelValue":r=>!0},setup(r,k){let{slots:u}=k;const s=O(r,"modelValue"),{scopeId:g}=A(),t=C();function d(l){var f,V;const n=l.relatedTarget,i=l.target;if(n!==i&&((f=t.value)!=null&&f.contentEl)&&((V=t.value)!=null&&V.globalTop)&&![document,t.value.contentEl].includes(i)&&!t.value.contentEl.contains(i)){const b=J(t.value.contentEl);if(!b.length)return;const T=b[0],z=b[b.length-1];n===T?z.focus():T.focus()}}F&&B(()=>s.value&&r.retainFocus,l=>{l?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),B(s,async l=>{var n,i;await U(),l?(n=t.value.contentEl)==null||n.focus({preventScroll:!0}):(i=t.value.activatorEl)==null||i.focus({preventScroll:!0})});const _=L(()=>E({"aria-haspopup":"dialog","aria-expanded":String(s.value)},r.activatorProps));return M(()=>{const[l]=P.filterProps(r);return e(P,E({ref:t,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},l,{modelValue:s.value,"onUpdate:modelValue":n=>s.value=n,"aria-modal":"true",activatorProps:_.value,role:"dialog"},g),{activator:u.activator,default:function(){for(var n=arguments.length,i=new Array(n),f=0;f<n;f++)i[f]=arguments[f];return e(j,{root:!0},{default:()=>{var V;return[(V=u.default)==null?void 0:V.call(u,...i)]}})}})}),q({},t)}}),ce={class:"font-semibold text-xl text-gray-800 leading-tight"},de={class:"text-h5"},he=K({__name:"Index",props:{factors:null,factorDictionary:null},setup(r){const k=[{title:h("active"),key:"active",sortable:!1},{title:h("type"),key:"type.name",sortable:!1},{title:h("name"),key:"name",sortable:!1},{title:h("description"),key:"description",sortable:!1},{title:h("actions"),key:"actions",sortable:!1}],u=C(),s=C();function g(){u.value=null}return(t,d)=>{const _=Y("v-data-table");return w(),Q(W,null,[e(o(Z),{title:t.$t("factors")},null,8,["title"]),e(I,null,{header:a(()=>[$("h2",ce,m(t.$t("factors")),1)]),default:a(()=>[$("div",null,[e(_,{headers:k,items:r.factors},{top:a(()=>[e(ee,{flat:""},{default:a(()=>[e(ae,null,{default:a(()=>[y(m(t.$t("factors")),1)]),_:1}),e(G,{class:"mx-4",inset:"",vertical:""}),e(S),e(ue,{modelValue:u.value,"onUpdate:modelValue":d[1]||(d[1]=l=>u.value=l),"max-width":"500px"},{activator:a(({props:l})=>[e(c,E({color:"primary",dark:""},l),{default:a(()=>[y(m(t.$t("new_factor")),1)]),_:2},1040)]),default:a(()=>[e(te,null,{default:a(()=>[e(le,null,{default:a(()=>[$("span",de,m(t.$t("choose_factor_type")),1)]),_:1}),e(oe,null,{default:a(()=>[e(se,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(ie,{cols:"12",md:"12"},{default:a(()=>[e(H,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=l=>s.value=l),label:t.$t("factor_type"),items:r.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(re,null,{default:a(()=>[e(S),e(c,{color:"primary",dark:"",onClick:g},{default:a(()=>[y(m(t.$t("cancel")),1)]),_:1}),s.value?(w(),D(o(p),{key:0,href:o(v)("ticket-allocator.factors.create",{type:s.value})},{default:a(()=>[e(c,{color:"primary",dark:"",onClick:g},{default:a(()=>[y(m(t.$t("create")),1)]),_:1})]),_:1},8,["href"])):(w(),D(c,{key:1,color:"primary",dark:"",disabled:""},{default:a(()=>[y(m(t.$t("create")),1)]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),["item.active"]:a(({item:l})=>[e(o(p),{as:"span",href:o(v)("ticket-allocator.factors.update",l.raw.uuid),method:"patch",data:{active:!!l.raw.deleted_at}},{default:a(()=>[e(X,{"model-value":!l.raw.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),["item.actions"]:a(({item:l})=>[e(o(p),{href:o(v)("ticket-allocator.factors.edit",l.raw.uuid)},{default:a(()=>[e(c,{icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),e(o(p),{as:"span",href:o(v)("ticket-allocator.factors.raise-priority",l.raw.uuid),method:"put"},{default:a(()=>[e(c,{icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),e(o(p),{as:"span",href:o(v)("ticket-allocator.factors.lower-priority",l.raw.uuid),method:"put"},{default:a(()=>[e(c,{icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),e(o(p),{as:"span",href:o(v)("ticket-allocator.factors.destroy",l.raw.uuid),method:"delete"},{default:a(()=>[e(c,{icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"])]),_:2},1032,["items"])])]),_:1})],64)}}});export{he as default};
//# sourceMappingURL=Index-9adfd989.js.map
