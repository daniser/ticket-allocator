import{ax as S,b7 as M,c as N,aB as T,m as l,u as e,aC as a,aK as A,aA as f,aJ as m,b2 as D,aF as h,aG as b,aS as E,aD as v,b8 as c,ae as B,aI as C,ba as I}from"./app-baeee0f0.js";import{a as G,P as V}from"./Default.vue_vue_type_script_setup_true_lang-11bcaa8c.js";import{V as J}from"./VForm-a95ecf71.js";import{V as K,a as d,b as u}from"./VRow-2d5c59e8.js";import{V as w}from"./VAutocomplete-3991ad3d.js";const P={class:"font-semibold text-xl text-gray-800 leading-tight"},z=S({__name:"CreateEdit",props:{users:null,operator:null,teams:null,errors:null},setup(s){var g,y,k,_;const i=s,t=M({user:null,name:((g=i.operator)==null?void 0:g.display_name)??"",ticket_limit:((y=i.operator)==null?void 0:y.ticket_limit)??null,complexity_limit:((k=i.operator)==null?void 0:k.complexity_limit)??null,teams:((_=i.operator)==null?void 0:_.teams.map(n=>n.uuid))??[]}),x=N(()=>{var o,p;const n=(p=(o=i.operator)==null?void 0:o.user)==null?void 0:p.name;if(n)return n;const r=i.users.findIndex(F=>F.id===t.user);return r<0?"":i.users[r].name});function U(){i.operator?t.put(V("ticket-allocator.operators.update",i.operator.uuid)):t.post(V("ticket-allocator.operators.store"))}return(n,r)=>(f(),T(A,null,[l(e(D),{title:e(m)(s.operator?"edit_operator":"new_operator")},null,8,["title"]),l(G,null,{header:a(()=>[h("h2",P,b(e(m)(s.operator?"edit_operator":"new_operator")),1)]),default:a(()=>[h("div",null,[l(J,{onSubmit:E(U,["prevent"])},{default:a(()=>[l(K,null,{default:a(()=>[l(d,null,{default:a(()=>[l(u,{cols:"12",md:"12"},{default:a(()=>{var o;return[s.operator?(f(),v(c,{key:0,"model-value":(o=s.operator.user)==null?void 0:o.name,label:e(m)("user"),readonly:""},null,8,["model-value","label"])):(f(),v(w,{key:1,modelValue:e(t).user,"onUpdate:modelValue":r[0]||(r[0]=p=>e(t).user=p),label:e(m)("user"),items:s.users,"item-title":"name","item-value":"id","error-messages":s.errors.user},null,8,["modelValue","label","items","error-messages"]))]}),_:1})]),_:1}),l(d,null,{default:a(()=>[l(u,{cols:"12",md:"12"},{default:a(()=>[l(c,{modelValue:e(t).name,"onUpdate:modelValue":r[1]||(r[1]=o=>e(t).name=o),maxlength:"255",label:e(m)("display_name"),placeholder:e(x),"persistent-placeholder":!!e(x).length,"error-messages":s.errors.name},null,8,["modelValue","label","placeholder","persistent-placeholder","error-messages"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(u,{cols:"12",md:"6"},{default:a(()=>[l(c,{modelValue:e(t).ticket_limit,"onUpdate:modelValue":r[2]||(r[2]=o=>e(t).ticket_limit=o),modelModifiers:{number:!0},type:"number",min:"1",max:"100",label:e(m)("ticket_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":s.errors.ticket_limit},null,8,["modelValue","label","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:a(()=>[l(c,{modelValue:e(t).complexity_limit,"onUpdate:modelValue":r[3]||(r[3]=o=>e(t).complexity_limit=o),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",label:e(m)("complexity_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":s.errors.complexity_limit},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(u,{cols:"12",md:"12"},{default:a(()=>[l(w,{modelValue:e(t).teams,"onUpdate:modelValue":r[4]||(r[4]=o=>e(t).teams=o),multiple:"",clearable:"",chips:"","closable-chips":"",label:e(m)("teams"),items:s.teams,"item-title":"name","item-value":"uuid","error-messages":s.errors.teams},null,8,["modelValue","label","items","error-messages"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(u,{cols:"12",md:"12"},{default:a(()=>[l(B,{type:"submit",color:"primary",class:"mr-3",disabled:e(t).processing},{default:a(()=>[C(b(e(m)("save")),1)]),_:1},8,["disabled"]),l(e(I),{href:e(V)("ticket-allocator.operators.index"),class:"mr-3"},{default:a(()=>[l(B,null,{default:a(()=>[C(b(e(m)("cancel")),1)]),_:1})]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{z as default};
//# sourceMappingURL=CreateEdit-ed7e0e6c.js.map
