import{ax as F,b6 as M,c as N,aB as S,q as e,u as a,aC as l,aJ as T,aA as c,b1 as _,aF as x,aG as f,aR as A,aD as $,b7 as p,ae as v,aI as B,b9 as D}from"./app-4c1d864a.js";import{a as E,P as b}from"./Default.vue_vue_type_script_setup_true_lang-a00589a3.js";import{V as I}from"./VForm-2aad79d1.js";import{V as R,a as n,b as u}from"./VRow-3db55a50.js";import{V as C}from"./VAutocomplete-56455b92.js";const q={class:"font-semibold text-xl text-gray-800 leading-tight"},z=F({__name:"CreateEdit",props:{users:null,operator:null,teams:null,errors:null},setup(m){var g,y,k,h;const i=m,r=M({user:null,name:((g=i.operator)==null?void 0:g.display_name)??"",ticket_limit:((y=i.operator)==null?void 0:y.ticket_limit)??null,complexity_limit:((k=i.operator)==null?void 0:k.complexity_limit)??null,teams:((h=i.operator)==null?void 0:h.teams.map(t=>t.uuid))??[]}),V=N(()=>{var s,d;const t=(d=(s=i.operator)==null?void 0:s.user)==null?void 0:d.name;if(t)return t;const o=i.users.findIndex(U=>U.id===r.user);return o<0?"":i.users[o].name});function w(){i.operator?r.put(b("ticket-allocator.operators.update",i.operator.uuid)):r.post(b("ticket-allocator.operators.store"))}return(t,o)=>(c(),S(T,null,[e(a(_),{title:t.$t(m.operator?"edit_operator":"new_operator")},null,8,["title"]),e(E,null,{header:l(()=>[x("h2",q,f(t.$t(m.operator?"edit_operator":"new_operator")),1)]),default:l(()=>[x("div",null,[e(I,{onSubmit:A(w,["prevent"])},{default:l(()=>[e(R,null,{default:l(()=>[e(n,null,{default:l(()=>[e(u,{cols:"12",md:"12"},{default:l(()=>{var s;return[m.operator?(c(),$(p,{key:0,"model-value":(s=m.operator.user)==null?void 0:s.name,label:t.$t("user"),readonly:""},null,8,["model-value","label"])):(c(),$(C,{key:1,modelValue:a(r).user,"onUpdate:modelValue":o[0]||(o[0]=d=>a(r).user=d),label:t.$t("user"),items:m.users,"item-title":"name","item-value":"id","error-messages":m.errors.user},null,8,["modelValue","label","items","error-messages"]))]}),_:1})]),_:1}),e(n,null,{default:l(()=>[e(u,{cols:"12",md:"12"},{default:l(()=>[e(p,{modelValue:a(r).name,"onUpdate:modelValue":o[1]||(o[1]=s=>a(r).name=s),maxlength:"255",label:t.$t("display_name"),placeholder:a(V),"persistent-placeholder":!!a(V).length,"error-messages":m.errors.name},null,8,["modelValue","label","placeholder","persistent-placeholder","error-messages"])]),_:1})]),_:1}),e(n,null,{default:l(()=>[e(u,{cols:"12",md:"6"},{default:l(()=>[e(p,{modelValue:a(r).ticket_limit,"onUpdate:modelValue":o[2]||(o[2]=s=>a(r).ticket_limit=s),modelModifiers:{number:!0},type:"number",min:"1",max:"100",label:t.$t("ticket_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":m.errors.ticket_limit},null,8,["modelValue","label","error-messages"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(p,{modelValue:a(r).complexity_limit,"onUpdate:modelValue":o[3]||(o[3]=s=>a(r).complexity_limit=s),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",label:t.$t("complexity_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":m.errors.complexity_limit},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1}),e(n,null,{default:l(()=>[e(u,{cols:"12",md:"12"},{default:l(()=>[e(C,{modelValue:a(r).teams,"onUpdate:modelValue":o[4]||(o[4]=s=>a(r).teams=s),multiple:"",clearable:"",chips:"","closable-chips":"",label:t.$t("teams"),items:m.teams,"item-title":"name","item-value":"uuid","error-messages":m.errors.teams},null,8,["modelValue","label","items","error-messages"])]),_:1})]),_:1}),e(n,null,{default:l(()=>[e(u,{cols:"12",md:"12"},{default:l(()=>[e(v,{type:"submit",color:"primary",class:"mr-3",disabled:a(r).processing},{default:l(()=>[B(f(t.$t("save")),1)]),_:1},8,["disabled"]),e(a(D),{href:a(b)("ticket-allocator.operators.index"),class:"mr-3"},{default:l(()=>[e(v,null,{default:l(()=>[B(f(t.$t("cancel")),1)]),_:1})]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{z as default};
//# sourceMappingURL=CreateEdit-6fba2e17.js.map
