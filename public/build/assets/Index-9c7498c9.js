import{_ as F}from"./Default.vue_vue_type_script_setup_true_lang-4855ce09.js";import{p as R,aY as I,aZ as A,g as N,O,a_ as x,r as k,F as U,w as $,B as L,f as S,W as _,j as W,az as w,i as t,a$ as Z,b0 as j,J,an as M,ar as p,b1 as D,at as X,ad as E,au as l,X as Y,as as B,aR as q,ax as v,ay as u,aA as b,b2 as G,V as g,b3 as H,av as K,b4 as Q,b5 as ee,aC as T}from"./app-4fd643e0.js";import{V as ae,a as te,b as P}from"./VSpacer-669ff9ba.js";import{V as le,b as oe,a as re,c as se}from"./VCard-37b01a64.js";import{V as ne}from"./VContainer-fbe62fc1.js";import{V as ie,a as ue}from"./VRow-308fa30b.js";import"./_plugin-vue_export-helper-c27b6911.js";const ce=R({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...I({origin:"center center",scrollStrategy:"block",transition:{component:A},zIndex:2400})},"VDialog"),de=N()({name:"VDialog",props:ce(),emits:{"update:modelValue":r=>!0},setup(r,h){let{slots:i}=h;const o=O(r,"modelValue"),{scopeId:V}=x(),a=k();function c(s){var d,m;const e=s.relatedTarget,n=s.target;if(e!==n&&((d=a.value)!=null&&d.contentEl)&&((m=a.value)!=null&&m.globalTop)&&![document,a.value.contentEl].includes(n)&&!a.value.contentEl.contains(n)){const y=J(a.value.contentEl);if(!y.length)return;const C=y[0],z=y[y.length-1];e===C?z.focus():C.focus()}}U&&$(()=>o.value&&r.retainFocus,s=>{s?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0}),$(o,async s=>{var e,n;await L(),s?(e=a.value.contentEl)==null||e.focus({preventScroll:!0}):(n=a.value.activatorEl)==null||n.focus({preventScroll:!0})});const f=S(()=>_({"aria-haspopup":"dialog","aria-expanded":String(o.value)},r.activatorProps));return W(()=>{const[s]=w.filterProps(r);return t(w,_({ref:a,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},s,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,"aria-modal":"true",activatorProps:f.value,role:"dialog"},V),{activator:i.activator,default:function(){for(var e=arguments.length,n=new Array(e),d=0;d<e;d++)n[d]=arguments[d];return t(Z,{root:"VDialog"},{default:()=>{var m;return[(m=i.default)==null?void 0:m.call(i,...n)]}})}})}),j({},a)}}),fe={class:"font-semibold text-xl text-gray-800 leading-tight"},me={class:"text-h5"},ke=M({__name:"Index",props:{factors:{},factorDictionary:{}},setup(r){const h=S(()=>[{title:p("active"),key:"active",sortable:!1},{title:p("type"),key:"type.name",sortable:!1},{title:p("name"),key:"name",sortable:!1},{title:p("description"),key:"description",sortable:!1},{title:p("actions"),key:"actions",sortable:!1}]),i=k(),o=k();function V(){i.value=null}return(a,c)=>{const f=D("v-btn-ex"),s=D("v-data-table");return B(),X(Y,null,[t(E(q),{title:a.$t("factors")},null,8,["title"]),t(F,null,{header:l(()=>[v("h2",fe,u(a.$t("factors")),1)]),default:l(()=>[v("div",null,[t(s,{headers:h.value,items:a.factors},{top:l(()=>[t(ae,{flat:""},{default:l(()=>[t(te,null,{default:l(()=>[b(u(a.$t("factors")),1)]),_:1}),t(G,{class:"mx-4",inset:"",vertical:""}),t(P),t(de,{modelValue:i.value,"onUpdate:modelValue":c[1]||(c[1]=e=>i.value=e),"max-width":"500px"},{activator:l(({props:e})=>[t(g,_({color:"primary",dark:""},e),{default:l(()=>[b(u(a.$t("new_factor")),1)]),_:2},1040)]),default:l(()=>[t(le,null,{default:l(()=>[t(oe,null,{default:l(()=>[v("span",me,u(a.$t("choose_factor_type")),1)]),_:1}),t(re,null,{default:l(()=>[t(ne,null,{default:l(()=>[t(ie,null,{default:l(()=>[t(ue,{cols:"12",md:"12"},{default:l(()=>[t(H,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=e=>o.value=e),label:a.$t("factor_type"),items:a.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),t(se,null,{default:l(()=>[t(P),t(g,{color:"primary",dark:"",onClick:V},{default:l(()=>[b(u(a.$t("cancel")),1)]),_:1}),(B(),K(g,{key:o.value,to:a.route("ticket-allocator.factors.create",{type:o.value}),disabled:!o.value,color:"primary",dark:"",onClick:V},{default:l(()=>[b(u(a.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":l(({item:e})=>[t(E(Q),{as:"span",href:a.route("ticket-allocator.factors.update",e.uuid),method:"patch",data:{active:!!e.deleted_at}},{default:l(()=>[t(ee,{"model-value":!e.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":l(({item:e})=>[v("span",{class:T({italic:e.type.excluded})},u(e.type.name),3)]),"item.name":l(({item:e})=>[v("span",{class:T({italic:e.type.excluded&&!e.display_name})},u(e.name),3)]),"item.actions":l(({item:e})=>[t(g,{to:a.route("ticket-allocator.factors.edit",e.uuid),icon:"mdi-pencil",title:a.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),t(f,{to:a.route("ticket-allocator.factors.raise-priority",e.uuid),method:"put",icon:"mdi-arrow-up-thick",title:a.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),t(f,{to:a.route("ticket-allocator.factors.lower-priority",e.uuid),method:"put",icon:"mdi-arrow-down-thick",title:a.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),t(f,{to:a.route("ticket-allocator.factors.destroy",e.uuid),method:"delete",icon:"mdi-delete",title:a.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{ke as default};
//# sourceMappingURL=Index-9c7498c9.js.map
