import{a as R,A as p}from"./Default.vue_vue_type_script_setup_true_lang-a9f06ee0.js";import{p as A,aQ as F,aR as I,q as N,O,aS as U,r as C,z as x,w as B,n as L,c as W,K as T,A as Z,ai as D,B as a,aT as j,aU as q,D as G,a8 as J,aV as h,aW as K,ab as w,ac as M,u as o,ad as e,ak as Q,aG as X,ag as $,ah as m,aj as y,aX as Y,J as u,aY as H,ae as P,aP as v,aZ as aa}from"./app-75dacd75.js";import{V as ea,a as ta,b as S}from"./VToolbar-36ff77c0.js";import{V as la,b as oa,a as ra,c as sa}from"./VCard-7bfdfd7d.js";import{V as ia,a as na,b as ca}from"./VRow-e147193e.js";const ua=A({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...F({origin:"center center",scrollStrategy:"block",transition:{component:I},zIndex:2400})},"v-dialog"),da=N()({name:"VDialog",props:ua(),emits:{"update:modelValue":r=>!0},setup(r,b){let{slots:c}=b;const s=O(r,"modelValue"),{scopeId:g}=U(),t=C();function d(l){var f,V;const i=l.relatedTarget,n=l.target;if(i!==n&&((f=t.value)!=null&&f.contentEl)&&((V=t.value)!=null&&V.globalTop)&&![document,t.value.contentEl].includes(n)&&!t.value.contentEl.contains(n)){const k=G(t.value.contentEl);if(!k.length)return;const E=k[0],z=k[k.length-1];i===E?z.focus():E.focus()}}x&&B(()=>s.value&&r.retainFocus,l=>{l?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),B(s,async l=>{var i,n;await L(),l?(i=t.value.contentEl)==null||i.focus({preventScroll:!0}):(n=t.value.activatorEl)==null||n.focus({preventScroll:!0})});const _=W(()=>T({"aria-haspopup":"dialog","aria-expanded":String(s.value)},r.activatorProps));return Z(()=>{const[l]=D.filterProps(r);return a(D,T({ref:t,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},l,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,"aria-modal":"true",activatorProps:_.value,role:"dialog"},g),{activator:c.activator,default:function(){for(var i=arguments.length,n=new Array(i),f=0;f<i;f++)n[f]=arguments[f];return a(j,{root:!0},{default:()=>{var V;return[(V=c.default)==null?void 0:V.call(c,...n)]}})}})}),q({},t)}}),fa={class:"font-semibold text-xl text-gray-800 leading-tight"},ma={class:"text-h5"},ga=J({__name:"Index",props:{factors:{},factorDictionary:{}},setup(r){const b=[{title:h("active"),key:"active",sortable:!1},{title:h("type"),key:"type.name",sortable:!1},{title:h("name"),key:"name",sortable:!1},{title:h("description"),key:"description",sortable:!1},{title:h("actions"),key:"actions",sortable:!1}],c=C(),s=C();function g(){c.value=null}return(t,d)=>{const _=K("v-data-table");return w(),M(Q,null,[a(o(X),{title:t.$t("factors")},null,8,["title"]),a(R,null,{header:e(()=>[$("h2",fa,m(t.$t("factors")),1)]),default:e(()=>[$("div",null,[a(_,{headers:b,items:t.factors},{top:e(()=>[a(ea,{flat:""},{default:e(()=>[a(ta,null,{default:e(()=>[y(m(t.$t("factors")),1)]),_:1}),a(Y,{class:"mx-4",inset:"",vertical:""}),a(S),a(da,{modelValue:c.value,"onUpdate:modelValue":d[1]||(d[1]=l=>c.value=l),"max-width":"500px"},{activator:e(({props:l})=>[a(u,T({color:"primary",dark:""},l),{default:e(()=>[y(m(t.$t("new_factor")),1)]),_:2},1040)]),default:e(()=>[a(la,null,{default:e(()=>[a(oa,null,{default:e(()=>[$("span",ma,m(t.$t("choose_factor_type")),1)]),_:1}),a(ra,null,{default:e(()=>[a(ia,null,{default:e(()=>[a(na,null,{default:e(()=>[a(ca,{cols:"12",md:"12"},{default:e(()=>[a(H,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=l=>s.value=l),label:t.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(sa,null,{default:e(()=>[a(S),a(u,{color:"primary",dark:"",onClick:g},{default:e(()=>[y(m(t.$t("cancel")),1)]),_:1}),s.value?(w(),P(o(v),{key:0,href:o(p)("ticket-allocator.factors.create",{type:s.value})},{default:e(()=>[a(u,{color:"primary",dark:"",onClick:g},{default:e(()=>[y(m(t.$t("create")),1)]),_:1})]),_:1},8,["href"])):(w(),P(u,{key:1,color:"primary",dark:"",disabled:""},{default:e(()=>[y(m(t.$t("create")),1)]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),["item.active"]:e(({item:l})=>[a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.update",l.raw.uuid),method:"patch",data:{active:!!l.raw.deleted_at}},{default:e(()=>[a(aa,{"model-value":!l.raw.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),["item.actions"]:e(({item:l})=>[a(o(v),{href:o(p)("ticket-allocator.factors.edit",l.raw.uuid)},{default:e(()=>[a(u,{icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.raise-priority",l.raw.uuid),method:"put"},{default:e(()=>[a(u,{icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.lower-priority",l.raw.uuid),method:"put"},{default:e(()=>[a(u,{icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"]),a(o(v),{as:"span",href:o(p)("ticket-allocator.factors.destroy",l.raw.uuid),method:"delete"},{default:e(()=>[a(u,{icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["title"])]),_:2},1032,["href"])]),_:2},1032,["items"])])]),_:1})],64)}}});export{ga as default};
//# sourceMappingURL=Index-f11c65d3.js.map
