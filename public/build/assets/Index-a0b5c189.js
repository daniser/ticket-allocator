import{_ as F,A as m}from"./Default.vue_vue_type_script_setup_true_lang-2b4abbce.js";import{p as I,b2 as A,b3 as R,g as N,O,b4 as L,r as k,F as U,w as D,B as J,f as x,W as C,j as W,aI as E,i as e,b5 as j,b6 as G,J as H,aw as M,aA as V,b7 as B,aC as X,an as c,aD as l,af as Z,aB as T,aX as q,aG as b,aH as u,aJ as w,b8 as K,V as _,b9 as Q,aE as Y,ba as aa,bb as ea,aL as P}from"./app-5fb56d98.js";import{V as ta,a as la,b as S}from"./VSpacer-ef60d1cf.js";import{V as oa,b as ra,a as sa,c as na}from"./VCard-694484c6.js";import{V as ia}from"./VContainer-23f95128.js";import{V as ca,a as ua}from"./VRow-abda7674.js";import"./_plugin-vue_export-helper-c27b6911.js";const da=I({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...A({origin:"center center",scrollStrategy:"block",transition:{component:R},zIndex:2400})},"VDialog"),fa=N()({name:"VDialog",props:da(),emits:{"update:modelValue":r=>!0},setup(r,h){let{slots:i}=h;const o=O(r,"modelValue"),{scopeId:y}=L(),t=k();function d(s){var f,v;const a=s.relatedTarget,n=s.target;if(a!==n&&((f=t.value)!=null&&f.contentEl)&&((v=t.value)!=null&&v.globalTop)&&![document,t.value.contentEl].includes(n)&&!t.value.contentEl.contains(n)){const g=H(t.value.contentEl);if(!g.length)return;const $=g[0],z=g[g.length-1];a===$?z.focus():$.focus()}}U&&D(()=>o.value&&r.retainFocus,s=>{s?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),D(o,async s=>{var a,n;await J(),s?(a=t.value.contentEl)==null||a.focus({preventScroll:!0}):(n=t.value.activatorEl)==null||n.focus({preventScroll:!0})});const p=x(()=>C({"aria-haspopup":"dialog","aria-expanded":String(o.value)},r.activatorProps));return W(()=>{const[s]=E.filterProps(r);return e(E,C({ref:t,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},s,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,"aria-modal":"true",activatorProps:p.value,role:"dialog"},y),{activator:i.activator,default:function(){for(var a=arguments.length,n=new Array(a),f=0;f<a;f++)n[f]=arguments[f];return e(j,{root:"VDialog"},{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,...n)]}})}})}),G({},t)}}),ma={class:"font-semibold text-xl text-gray-800 leading-tight"},pa={class:"text-h5"},ha=M({__name:"Index",props:{factors:{},factorDictionary:{}},setup(r){const h=x(()=>[{title:V("active"),key:"active",sortable:!1},{title:V("type"),key:"type.name",sortable:!1},{title:V("name"),key:"name",sortable:!1},{title:V("description"),key:"description",sortable:!1},{title:V("actions"),key:"actions",sortable:!1}]),i=k(),o=k();function y(){i.value=null}return(t,d)=>{const p=B("v-btn-ex"),s=B("v-data-table");return T(),X(Z,null,[e(c(q),{title:t.$t("factors")},null,8,["title"]),e(F,null,{header:l(()=>[b("h2",ma,u(t.$t("factors")),1)]),default:l(()=>[b("div",null,[e(s,{headers:h.value,items:t.factors},{top:l(()=>[e(ta,{flat:""},{default:l(()=>[e(la,null,{default:l(()=>[w(u(t.$t("factors")),1)]),_:1}),e(K,{class:"mx-4",inset:"",vertical:""}),e(S),e(fa,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=a=>i.value=a),"max-width":"500px"},{activator:l(({props:a})=>[e(_,C({color:"primary",dark:""},a),{default:l(()=>[w(u(t.$t("new_factor")),1)]),_:2},1040)]),default:l(()=>[e(oa,null,{default:l(()=>[e(ra,null,{default:l(()=>[b("span",pa,u(t.$t("choose_factor_type")),1)]),_:1}),e(sa,null,{default:l(()=>[e(ia,null,{default:l(()=>[e(ca,null,{default:l(()=>[e(ua,{cols:"12",md:"12"},{default:l(()=>[e(Q,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=a=>o.value=a),label:t.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(na,null,{default:l(()=>[e(S),e(_,{color:"primary",dark:"",onClick:y},{default:l(()=>[w(u(t.$t("cancel")),1)]),_:1}),(T(),Y(_,{key:o.value,to:c(m)("ticket-allocator.factors.create",{type:o.value}),disabled:!o.value,color:"primary",dark:"",onClick:y},{default:l(()=>[w(u(t.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":l(({item:a})=>[e(c(aa),{as:"span",href:c(m)("ticket-allocator.factors.update",a.raw.uuid),method:"patch",data:{active:!!a.raw.deleted_at}},{default:l(()=>[e(ea,{"model-value":!a.raw.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":l(({item:a})=>[b("span",{class:P({italic:a.raw.type.excluded})},u(a.raw.type.name),3)]),"item.name":l(({item:a})=>[b("span",{class:P({italic:a.raw.type.excluded&&!a.raw.display_name})},u(a.raw.name),3)]),"item.actions":l(({item:a})=>[e(_,{to:c(m)("ticket-allocator.factors.edit",a.raw.uuid),icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),e(p,{to:c(m)("ticket-allocator.factors.raise-priority",a.raw.uuid),method:"put",icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(p,{to:c(m)("ticket-allocator.factors.lower-priority",a.raw.uuid),method:"put",icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(p,{to:c(m)("ticket-allocator.factors.destroy",a.raw.uuid),method:"delete",icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{ha as default};
//# sourceMappingURL=Index-a0b5c189.js.map
