import{M as F,ah as M,f as T,S as N,i as l,$ as s,ad as S,T as t,F as E,R as p,Y as k,Z as f,a4 as R,U as $,V as h,_ as v}from"./app-B1f1bFw0.js";import{_ as Z,s as V}from"./Default.vue_vue_type_script_setup_true_lang-Okx2-m_Y.js";import{V as A}from"./VForm-h-YjwPdV.js";import{V as D}from"./VContainer-fWn-P9e9.js";import{V as u,a as i}from"./VRow-D-mtfput.js";import{V as n}from"./VTextField-DPaiEmWA.js";import{V as U}from"./VAutocomplete-B0-7bJh3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./scopeId-aikUiShh.js";import"./VGrid-Bl4yvoMa.js";import"./filter-JyeK-0A9.js";import"./VCheckboxBtn-X5lKH70F.js";const I={class:"font-semibold text-xl text-gray-800 leading-tight"},W=F({__name:"CreateEdit",props:{users:{},operator:{},teams:{},errors:{}},setup(w){var b,g,y,_;const m=w,r=M({user:null,name:((b=m.operator)==null?void 0:b.display_name)??"",ticket_limit:((g=m.operator)==null?void 0:g.ticket_limit)??null,complexity_limit:((y=m.operator)==null?void 0:y.complexity_limit)??null,teams:((_=m.operator)==null?void 0:_.teams.map(e=>e.uuid))??[]}),c=T(()=>{var o,d;const e=(d=(o=m.operator)==null?void 0:o.user)==null?void 0:d.name;if(e)return e;const a=m.users.findIndex(C=>C.id===r.user);return a<0?"":m.users[a].name});function B(){m.operator?r.put(V("ticket-allocator.operators.update",m.operator.uuid)):r.post(V("ticket-allocator.operators.store"))}return(e,a)=>(p(),N(E,null,[l(s(S),{title:e.$t(e.operator?"edit_operator":"new_operator")},null,8,["title"]),l(Z,null,{header:t(()=>[k("h2",I,f(e.$t(e.operator?"edit_operator":"new_operator")),1)]),default:t(()=>[k("div",null,[l(A,{onSubmit:R(B,["prevent"])},{default:t(()=>[l(D,null,{default:t(()=>[l(u,null,{default:t(()=>[l(i,{cols:"12",md:"12"},{default:t(()=>{var o;return[e.operator?(p(),$(n,{key:0,"model-value":(o=e.operator.user)==null?void 0:o.name,label:e.$t("user"),readonly:""},null,8,["model-value","label"])):(p(),$(U,{key:1,modelValue:s(r).user,"onUpdate:modelValue":a[0]||(a[0]=d=>s(r).user=d),label:e.$t("user"),items:e.users,"item-title":"name","item-value":"id","error-messages":e.errors.user},null,8,["modelValue","label","items","error-messages"]))]}),_:1})]),_:1}),l(u,null,{default:t(()=>[l(i,{cols:"12",md:"12"},{default:t(()=>[l(n,{modelValue:s(r).name,"onUpdate:modelValue":a[1]||(a[1]=o=>s(r).name=o),maxlength:"255",label:e.$t("display_name"),placeholder:c.value,"persistent-placeholder":!!c.value.length,"error-messages":e.errors.name},null,8,["modelValue","label","placeholder","persistent-placeholder","error-messages"])]),_:1})]),_:1}),l(u,null,{default:t(()=>[l(i,{cols:"12",md:"6"},{default:t(()=>[l(n,{modelValue:s(r).ticket_limit,"onUpdate:modelValue":a[2]||(a[2]=o=>s(r).ticket_limit=o),modelModifiers:{number:!0},type:"number",min:"1",max:"100",label:e.$t("ticket_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":e.errors.ticket_limit},null,8,["modelValue","label","error-messages"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(n,{modelValue:s(r).complexity_limit,"onUpdate:modelValue":a[3]||(a[3]=o=>s(r).complexity_limit=o),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",label:e.$t("complexity_limit"),placeholder:"∞","persistent-placeholder":"","error-messages":e.errors.complexity_limit},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1}),l(u,null,{default:t(()=>[l(i,{cols:"12",md:"12"},{default:t(()=>[l(U,{modelValue:s(r).teams,"onUpdate:modelValue":a[4]||(a[4]=o=>s(r).teams=o),multiple:"",clearable:"",chips:"","closable-chips":"",label:e.$t("teams"),items:e.teams,"item-title":"name","item-value":"uuid","error-messages":e.errors.teams},null,8,["modelValue","label","items","error-messages"])]),_:1})]),_:1}),l(u,null,{default:t(()=>[l(i,{cols:"12",md:"12"},{default:t(()=>[l(h,{type:"submit",color:"primary",class:"mr-3",disabled:s(r).processing},{default:t(()=>[v(f(e.$t("save")),1)]),_:1},8,["disabled"]),l(h,{to:s(V)("ticket-allocator.operators.index"),class:"mr-3"},{default:t(()=>[v(f(e.$t("cancel")),1)]),_:1},8,["to"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})],64))}});export{W as default};
//# sourceMappingURL=CreateEdit--8qd2hvr.js.map
