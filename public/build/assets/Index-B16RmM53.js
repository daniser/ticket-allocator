import{_ as x,T as V}from"./Default.vue_vue_type_script_setup_true_lang-BjVgIA07.js";import{p as z,g as F,z as I,r as _,aB as R,w as D,y as N,f as P,D as C,j as A,i as a,E as O,aC as U,a3 as L,a5 as W,a9 as j,W as c,aa as t,F as M,aD as Z,a8 as E,aw as q,ad as g,ae as u,af as h,V as k,ab as G,aE as H,ah as T}from"./app-CJHMcv5G.js";import{V as J,a as K,b as Q,c as $}from"./VSpacer-CSczmwcX.js";import{a as X,V as Y}from"./scopeId-DafXg-Mg.js";import{c as ee,d as ae,b as B,e as te}from"./filter-C7w3uQly.js";import{f as le}from"./VTextField-C7-p2n5M.js";import{V as oe,b as re,a as se,c as ie}from"./VCard-BrFsovwM.js";import{V as ne}from"./VContainer-fqfbxEyj.js";import{V as ce,a as ue}from"./VRow-B_XCeESv.js";import{a as de}from"./VCheckboxBtn-D7HDczSP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VGrid-oKuROzUL.js";import"./VTable-Bkj50pSX.js";const me=z({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ee({origin:"center center",scrollStrategy:"block",transition:{component:ae},zIndex:2400})},"VDialog"),fe=F()({name:"VDialog",props:me(),emits:{"update:modelValue":s=>!0},setup(s,d){let{slots:p}=d;const i=I(s,"modelValue"),{scopeId:m}=X(),o=_();function l(r){var f,y;const e=r.relatedTarget,n=r.target;if(e!==n&&((f=o.value)!=null&&f.contentEl)&&((y=o.value)!=null&&y.globalTop)&&![document,o.value.contentEl].includes(n)&&!o.value.contentEl.contains(n)){const b=U(o.value.contentEl);if(!b.length)return;const w=b[0],S=b[b.length-1];e===w?S.focus():w.focus()}}R&&D(()=>i.value&&s.retainFocus,r=>{r?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0}),D(i,async r=>{var e,n;await N(),r?(e=o.value.contentEl)==null||e.focus({preventScroll:!0}):(n=o.value.activatorEl)==null||n.focus({preventScroll:!0})});const v=P(()=>C({"aria-haspopup":"dialog","aria-expanded":String(i.value)},s.activatorProps));return A(()=>{const r=B.filterProps(s);return a(B,C({ref:o,class:["v-dialog",{"v-dialog--fullscreen":s.fullscreen,"v-dialog--scrollable":s.scrollable},s.class],style:s.style},r,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,"aria-modal":"true",activatorProps:v.value,role:"dialog"},m),{activator:p.activator,default:function(){for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];return a(O,{root:"VDialog"},{default:()=>{var y;return[(y=p.default)==null?void 0:y.call(p,...n)]}})}})}),le({},o)}}),pe={class:"font-semibold text-xl text-gray-800 leading-tight"},ve={class:"text-h5"},Be=L({__name:"Index",props:{factors:{},factorDictionary:{}},setup(s){const{t:d}=W(),p=P(()=>[{title:d("active"),key:"active",sortable:!1},{title:d("type"),key:"type.name",sortable:!1},{title:d("name"),key:"name",sortable:!1},{title:d("description"),key:"description",sortable:!1},{title:d("actions"),key:"actions",sortable:!1}]),i=_(),m=_();function o(){i.value=null}return(l,v)=>{const r=Z("v-btn-ex");return E(),j(M,null,[a(c(q),{title:l.$t("factors")},null,8,["title"]),a(x,null,{header:t(()=>[g("h2",pe,u(l.$t("factors")),1)]),default:t(()=>[g("div",null,[a(J,{headers:p.value,items:l.factors},{top:t(()=>[a(K,{flat:""},{default:t(()=>[a(Q,null,{default:t(()=>[h(u(l.$t("factors")),1)]),_:1}),a(Y,{class:"mx-4",inset:"",vertical:""}),a($),a(fe,{modelValue:i.value,"onUpdate:modelValue":v[1]||(v[1]=e=>i.value=e),"max-width":"500px"},{activator:t(({props:e})=>[a(k,C({color:"primary",dark:""},e),{default:t(()=>[h(u(l.$t("new_factor")),1)]),_:2},1040)]),default:t(()=>[a(oe,null,{default:t(()=>[a(re,null,{default:t(()=>[g("span",ve,u(l.$t("choose_factor_type")),1)]),_:1}),a(se,null,{default:t(()=>[a(ne,null,{default:t(()=>[a(ce,null,{default:t(()=>[a(ue,{cols:"12",md:"12"},{default:t(()=>[a(te,{modelValue:m.value,"onUpdate:modelValue":v[0]||(v[0]=e=>m.value=e),label:l.$t("factor_type"),items:l.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ie,null,{default:t(()=>[a($),a(k,{color:"primary",dark:"",onClick:o},{default:t(()=>[h(u(l.$t("cancel")),1)]),_:1}),(E(),G(k,{key:m.value,to:c(V)("ticket-allocator.factors.create",{type:m.value}),disabled:!m.value,color:"primary",dark:"",onClick:o},{default:t(()=>[h(u(l.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":t(({item:e})=>[a(c(H),{as:"span",href:c(V)("ticket-allocator.factors.update",e.uuid),method:"patch",data:{active:!!e.deleted_at}},{default:t(()=>[a(de,{"model-value":!e.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":t(({item:e})=>[g("span",{class:T({italic:e.type.excluded})},u(e.type.name),3)]),"item.name":t(({item:e})=>[g("span",{class:T({italic:e.type.excluded&&!e.display_name})},u(e.name),3)]),"item.actions":t(({item:e})=>[a(k,{to:c(V)("ticket-allocator.factors.edit",e.uuid),icon:"mdi-pencil",title:l.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),a(r,{to:c(V)("ticket-allocator.factors.raise-priority",e.uuid),method:"put",icon:"mdi-arrow-up-thick",title:l.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(r,{to:c(V)("ticket-allocator.factors.lower-priority",e.uuid),method:"put",icon:"mdi-arrow-down-thick",title:l.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),a(r,{to:c(V)("ticket-allocator.factors.destroy",e.uuid),method:"delete",icon:"mdi-delete",title:l.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{Be as default};
//# sourceMappingURL=Index-B16RmM53.js.map
