import{aQ as ue,aR as oe,aS as ie,aT as se,aU as re,aV as ce,aW as de,r as b,ah as q,aX as ve,aY as fe,aZ as me,a_ as pe,E as D,a1 as R,aN as Q,u as X,a$ as ge,c as l,a3 as M,b0 as he,ao as B,b1 as Ve,b2 as Y,b3 as xe,V as be,b4 as ke,a9 as ee,b5 as te,b6 as Z,d as ae,b7 as ye,b8 as Ce,b9 as Fe,af as we,ba as Ie,ai as _e,a2 as Pe,bb as Se,ak as De,al as Ae,bc as Te,bd as Re,F as j,G as Be,be as Ne,bf as Ue,aq as Ee,bg as $e,aC as He,bh as Me,K as Oe,aA as ze,P as Ge,W as Le,Q as K,O as Ke,ar as qe,T as le,a7 as Qe,Z as We}from"./app-42fe5a9d.js";import{a as Xe}from"./Default.vue_vue_type_script_setup_true_lang-cd3663f3.js";import{u as Ze}from"./useOperatorTeamApi-f005c82c.js";import"./index.m-3c027150.js";function Ye(e,c,t){if(c==null)return e;if(Array.isArray(c))throw new Error("Multiple matches is not implemented");return typeof c=="number"&&~c?l(M,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,c)]),l("span",{class:"v-autocomplete__mask"},[e.substr(c,t)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(c+t)])]):e}const J=ue()({name:"VAutocomplete",props:{search:String,...oe({filterKeys:["title"]}),...ie(),...se(re({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...ce({transition:!1})},emits:{"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:t}=c;const{t:A}=de(),d=b(),n=b(!1),o=b(!0),s=q(e,"menu"),{items:g,transformIn:k,transformOut:V}=ve(e),v=q(e,"search",""),f=q(e,"modelValue",[],a=>k(fe(a)),a=>{const i=V(a);return e.multiple?i:i[0]??null}),h=me(),{filteredItems:N,getMatches:U}=pe(e,g,D(()=>o.value?void 0:v.value)),I=D(()=>f.value.map(a=>g.value.find(i=>e.valueComparator(i.value,a.value))||a)),O=D(()=>e.hideSelected?N.value.filter(a=>!I.value.some(i=>i.value===a.value)):N.value),E=D(()=>I.value.map(a=>a.props.value)),z=b();function W(a){f.value=[],e.openOnClear&&(s.value=!0),v.value=""}function L(){e.hideNoData&&!g.value.length||e.readonly||h!=null&&h.isReadonly.value||(s.value=!0)}function _(a){if(!(e.readonly||h!=null&&h.isReadonly.value)){if(["Enter","ArrowDown"].includes(a.key)&&(s.value=!0),["Escape"].includes(a.key)&&(s.value=!1),["Enter","Escape","Tab"].includes(a.key)&&(o.value=!0),a.key==="ArrowDown"){var i;a.preventDefault(),(i=z.value)==null||i.focus("next")}else if(a.key==="ArrowUp"){var p;a.preventDefault(),(p=z.value)==null||p.focus("prev")}}}function P(a){v.value=a.target.value}function $(){n.value&&(o.value=!0)}function u(a){n.value=!0}function y(a){if(a.relatedTarget==null){var i;(i=d.value)==null||i.focus()}}const m=b(!1);function x(a){if(e.multiple){const i=E.value.findIndex(p=>e.valueComparator(p,a.value));if(i===-1)f.value=[...f.value,a],v.value="";else{const p=[...f.value];p.splice(i,1),f.value=p}}else f.value=[a],m.value=!0,t.selection||(v.value=a.title),s.value=!1,o.value=!0,Q(()=>m.value=!1)}return R(n,a=>{if(a){var i;m.value=!0,v.value=e.multiple||t.selection?"":String(((i=I.value.at(-1))==null?void 0:i.props.title)??""),o.value=!0,Q(()=>m.value=!1)}else s.value=!1,v.value=""}),R(v,a=>{!n.value||m.value||(a&&(s.value=!0),o.value=!a)}),X(()=>{const a=!!(e.chips||t.chip),i=!!(!e.hideNoData||O.value.length||t.prepend||t.append||t["no-data"]),[p]=ge(e);return l(te,B({ref:d},p,{modelValue:v.value,"onUpdate:modelValue":C=>{C==null&&(f.value=[])},validationValue:f.externalValue,dirty:f.value.length>0,onInput:P,class:["v-autocomplete",{"v-autocomplete--active-menu":s.value,"v-autocomplete--chips":!!e.chips,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!t.selection}],appendInnerIcon:e.menuIcon,readonly:e.readonly,"onClick:clear":W,"onClick:control":L,"onClick:input":L,onFocus:()=>n.value=!0,onBlur:()=>n.value=!1,onKeydown:_}),{...t,default:()=>{var C,T,G;return l(M,null,[l(he,B({modelValue:s.value,"onUpdate:modelValue":r=>s.value=r,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:$},e.menuProps),{default:()=>[i&&l(Ve,{ref:z,selected:E.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:r=>r.preventDefault(),onFocusin:u,onFocusout:y},{default:()=>[!O.value.length&&!e.hideNoData&&(((C=t["no-data"])==null?void 0:C.call(t))??l(Y,{title:A(e.noDataText)},null)),(T=t["prepend-item"])==null?void 0:T.call(t),O.value.map((r,S)=>{var H;return((H=t.item)==null?void 0:H.call(t,{item:r,index:S,props:B(r.props,{onClick:()=>x(r)})}))??l(Y,B({key:S},r.props,{onClick:()=>x(r)}),{prepend:F=>{let{isSelected:w}=F;return e.multiple&&!e.hideSelected?l(xe,{modelValue:w,ripple:!1},null):void 0},title:()=>{var F,w;return o.value?r.title:Ye(r.title,(F=U(r))==null?void 0:F.title,((w=v.value)==null?void 0:w.length)??0)}})}),(G=t["append-item"])==null?void 0:G.call(t)]})]}),I.value.map((r,S)=>{function H(w){w.stopPropagation(),w.preventDefault(),x(r)}const F={"onClick:close":H,modelValue:!0,"onUpdate:modelValue":void 0};return l("div",{key:r.value,class:"v-autocomplete__selection"},[a?l(be,{defaults:{VChip:{closable:e.closableChips,size:"small",text:r.title}}},{default:()=>[t.chip?t.chip({item:r,index:S,props:F}):l(ke,F,null)]}):t.selection?t.selection({item:r,index:S}):l("span",{class:"v-autocomplete__selection-text"},[r.title,e.multiple&&S<I.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[ee(",")])])])})])}})}),Z({isFocused:n,isPristine:o,menu:s,search:v,filteredItems:N,select:x},d)}}),je=ae({name:"VForm",props:{...ye()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,c){let{slots:t,emit:A}=c;const d=Ce(e),n=b();function o(g){g.preventDefault(),d.reset()}function s(g){const k=g,V=d.validate();k.then=V.then.bind(V),k.catch=V.catch.bind(V),k.finally=V.finally.bind(V),A("submit",k),k.defaultPrevented||V.then(v=>{let{valid:f}=v;if(f){var h;(h=n.value)==null||h.submit()}}),k.preventDefault()}return X(()=>{var g;return l("form",{ref:n,class:"v-form",novalidate:!0,onReset:o,onSubmit:s},[(g=t.default)==null?void 0:g.call(t,d)])}),Z(d,n)}});const Je=ae({name:"VTextarea",directives:{Intersect:Fe},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...we(),...Ie()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:t,emit:A,slots:d}=c;const n=q(e,"modelValue"),{isFocused:o,focus:s,blur:g}=_e(e),k=D(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),V=D(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function v(u,y){var m,x;!e.autofocus||!u||(m=y[0].target)==null||(x=m.focus)==null||x.call(m)}const f=b(),h=b(),N=b(""),U=b(),I=D(()=>o.value||e.persistentPlaceholder),O=D(()=>e.messages.length?e.messages:I.value||e.persistentHint?e.hint:"");function E(){if(U.value!==document.activeElement){var u;(u=U.value)==null||u.focus()}o.value||s()}function z(u){E(),A("click:control",u)}function W(u){u.stopPropagation(),E(),Q(()=>{n.value="",$e(e["onClick:clear"],u)})}function L(u){n.value=u.target.value}const _=b();function P(){e.autoGrow&&Q(()=>{if(!_.value||!h.value)return;const u=getComputedStyle(_.value),y=getComputedStyle(h.value.$el),m=parseFloat(u.getPropertyValue("--v-field-padding-top"))+parseFloat(u.getPropertyValue("--v-input-padding-top"))+parseFloat(u.getPropertyValue("--v-field-padding-bottom")),x=_.value.scrollHeight,a=parseFloat(u.lineHeight),i=Math.max(parseFloat(e.rows)*a+m,parseFloat(y.getPropertyValue("--v-input-control-height"))),p=parseFloat(e.maxRows)*a+m||1/0;N.value=He(Me(x??0,i,p))})}Pe(P),R(n,P),R(()=>e.rows,P),R(()=>e.maxRows,P),R(()=>e.density,P);let $;return R(_,u=>{if(u)$=new ResizeObserver(P),$.observe(_.value);else{var y;(y=$)==null||y.disconnect()}}),Se(()=>{var u;(u=$)==null||u.disconnect()}),X(()=>{const u=!!(d.counter||e.counter||e.counterValue),y=!!(u||d.details),[m,x]=De(t),[{modelValue:a,...i}]=Ae(e),[p]=Te(e);return l(Ee,B({ref:f,modelValue:n.value,"onUpdate:modelValue":C=>n.value=C,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},m,i,{focused:o.value,messages:O.value}),{...d,default:C=>{let{isDisabled:T,isDirty:G,isReadonly:r,isValid:S}=C;return l(Re,B({ref:h,style:{"--v-textarea-control-height":N.value},"onClick:control":z,"onClick:clear":W,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},p,{active:I.value||G.value,dirty:G.value||e.dirty,focused:o.value,error:S.value===!1}),{...d,default:H=>{let{props:{class:F,...w}}=H;return l(M,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),j(l("textarea",B({ref:U,class:F,value:n.value,onInput:L,autofocus:e.autofocus,readonly:r.value,disabled:T.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:E,onBlur:g},w,x),null),[[Be("intersect"),{handler:v},null,{once:!0}]]),e.autoGrow&&j(l("textarea",{class:[F,"v-textarea__sizer"],"onUpdate:modelValue":ne=>n.value=ne,ref:_,readonly:!0,"aria-hidden":"true"},null),[[Ne,n.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:y?C=>{var T;return l(M,null,[(T=d.details)==null?void 0:T.call(d,C),u&&l(M,null,[l("span",null,null),l(Ue,{active:e.persistentCounter||o.value,value:k.value,max:V.value},d.counter)])])}:void 0})}),Z({},f,h,U)}}),et=le("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit team",-1),ut=Oe({__name:"Edit",props:{team:null,operators:null,ticketCategories:null},setup(e){const c=e,t=ze({name:c.team.name,description:c.team.description,operators:c.team.operators.map(n=>n.uuid),ticket_categories:c.team.ticket_categories.map(n=>n.uuid)}),A=Ze();async function d(){const n=await A.update(c.team.uuid,t);console.log(n)}return(n,o)=>(Ke(),Ge(M,null,[l(Le(qe),{title:"Edit team"}),l(Xe,null,{header:K(()=>[et]),default:K(()=>[le("div",null,[l(je,{onSubmit:Qe(d,["prevent"])},{default:K(()=>[l(te,{modelValue:t.name,"onUpdate:modelValue":o[0]||(o[0]=s=>t.name=s),label:"Name"},null,8,["modelValue"]),l(Je,{modelValue:t.description,"onUpdate:modelValue":o[1]||(o[1]=s=>t.description=s),label:"Description"},null,8,["modelValue"]),l(J,{modelValue:t.operators,"onUpdate:modelValue":o[2]||(o[2]=s=>t.operators=s),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Operators",items:e.operators,"item-title":"name","item-value":"uuid"},null,8,["modelValue","items"]),l(J,{modelValue:t.ticket_categories,"onUpdate:modelValue":o[3]||(o[3]=s=>t.ticket_categories=s),multiple:"",clearable:"",chips:"","closable-chips":"",label:"Ticket categories",items:e.ticketCategories,"item-title":"name","item-value":"uuid"},null,8,["modelValue","items"]),l(We,{type:"submit"},{default:K(()=>[ee("Save")]),_:1})]),_:1},8,["onSubmit"])])]),_:1})],64))}});export{ut as default};
//# sourceMappingURL=Edit-d580dd08.js.map
