var Ht=Object.defineProperty;var Jt=(e,n,t)=>n in e?Ht(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var m=(e,n,t)=>(Jt(e,typeof n!="symbol"?n+"":n,t),t);import{r as O,w as Z,e as Kt,g as Xt,o as Yt,u as _,a as Zt,b as Te,n as mt,i as ce,c as vt,s as en,d as k,f as tn,h as nn,p as an,j as fe,k as d,l as Be,m as se,I as ge,q as yt,V as Ae,t as Qe,R as rn,v as on,x as ln,y as sn,z as un,A as cn,B as dn,C as fn,D as pn,E as mn,F as Oe,G as vn,H as yn,J as hn,K as gn,L as _n,M as wn,N as bn,O as ht,P as kn,Q as On,S as Cn,T as Pn,U as xn,W as In,X as Sn,Y as gt,Z as $n,_ as pe,$ as An,a0 as Vn,a1 as D,a2 as z,a3 as b,a4 as _t,a5 as V,a6 as Q,a7 as Dn,a8 as wt,a9 as _e,aa as Le,ab as we,ac as Y,ad as bt,ae as En,af as ue,ag as Ve,ah as kt,ai as be,aj as jn,ak as ae,al as F,am as Nn,an as Rn,ao as Fe,ap as Ot,aq as Tn,ar as Bn,as as He,at as Ln,au as Fn,av as Mn,aw as Wn,ax as Un,ay as qn,az as Je,aA as Gn,aB as zn,aC as Qn,aD as Hn,aE as Jn,aF as Kn,aG as Xn,aH as Yn}from"./app-74d161ce.js";import{_ as me,P as ve,a as Zn}from"./index.m-b9394302.js";var Ke;const re=typeof window<"u",Ct=e=>typeof e=="function",ea=e=>typeof e=="string",Xe=()=>+Date.now(),De=()=>{};re&&((Ke=window==null?void 0:window.navigator)!=null&&Ke.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function q(e){return typeof e=="function"?e():_(e)}function Pt(e,n){function t(...a){return new Promise((r,i)=>{Promise.resolve(e(()=>n.apply(this,a),{fn:n,thisArg:this,args:a})).then(r).catch(i)})}return t}const xt=e=>e();function ta(e,n=!0,t=!0,a=!1){let r=0,i,o=!0,s=De,l;const f=()=>{i&&(clearTimeout(i),i=void 0,s(),s=De)};return u=>{const p=q(e),y=Date.now()-r,h=()=>l=u();if(f(),p<=0)return r=Date.now(),h();if(y>p&&(t||!o))r=Date.now(),h();else if(n)return new Promise((v,w)=>{s=a?w:v,i=setTimeout(()=>{r=Date.now(),o=!0,v(h()),f()},p-y)});return!t&&!i&&(i=setTimeout(()=>o=!0,p)),o=!1,l}}function na(e=xt){const n=O(!0);function t(){n.value=!1}function a(){n.value=!0}const r=(...i)=>{n.value&&e(...i)};return{isActive:vt(n),pause:t,resume:a,eventFilter:r}}function Ye(e,n=!1,t="Timeout"){return new Promise((a,r)=>{setTimeout(n?()=>r(t):a,e)})}function aa(e){return e}function de(e){return Xt()?(Yt(e),!0):!1}function Ce(e){let n=0,t,a;const r=()=>{n-=1,a&&n<=0&&(a.stop(),t=void 0,a=void 0)};return(...i)=>(n+=1,t||(a=Kt(!0),t=a.run(()=>e(...i))),de(r),t)}function ra(e,n=200,t=!1,a=!0,r=!1){return Pt(ta(n,t,a,r),e)}function Ze(e,n=200,t=!0,a=!0){if(n<=0)return e;const r=O(e.value),i=ra(()=>{r.value=e.value},n,t,a);return Z(e,()=>i()),r}function ia(e,n=!0){Zt()?Te(e):n?e():mt(e)}function Ee(e,n=!1){function t(u,{flush:p="sync",deep:y=!1,timeout:h,throwOnTimeout:v}={}){let w=null;const A=[new Promise(B=>{w=Z(e,S=>{u(S)!==n&&(w==null||w(),B(S))},{flush:p,deep:y,immediate:!0})})];return h!=null&&A.push(Ye(h,v).then(()=>q(e)).finally(()=>w==null?void 0:w())),Promise.race(A)}function a(u,p){if(!ce(u))return t(S=>S===u,p);const{flush:y="sync",deep:h=!1,timeout:v,throwOnTimeout:w}=p??{};let x=null;const B=[new Promise(S=>{x=Z([e,u],([G,N])=>{n!==(G===N)&&(x==null||x(),S(G))},{flush:y,deep:h,immediate:!0})})];return v!=null&&B.push(Ye(v,w).then(()=>q(e)).finally(()=>(x==null||x(),q(e)))),Promise.race(B)}function r(u){return t(p=>Boolean(p),u)}function i(u){return a(null,u)}function o(u){return a(void 0,u)}function s(u){return t(Number.isNaN,u)}function l(u,p){return t(y=>{const h=Array.from(y);return h.includes(u)||h.includes(q(u))},p)}function f(u){return c(1,u)}function c(u=1,p){let y=-1;return t(()=>(y+=1,y>=u),p)}return Array.isArray(q(e))?{toMatch:t,toContains:l,changed:f,changedTimes:c,get not(){return Ee(e,!n)}}:{toMatch:t,toBe:a,toBeTruthy:r,toBeNull:i,toBeNaN:s,toBeUndefined:o,changed:f,changedTimes:c,get not(){return Ee(e,!n)}}}function et(e){return Ee(e)}function oa(e,n=1e3,t={}){const{immediate:a=!0,immediateCallback:r=!1}=t;let i=null;const o=O(!1);function s(){i&&(clearInterval(i),i=null)}function l(){o.value=!1,s()}function f(){const c=q(n);c<=0||(o.value=!0,r&&e(),s(),i=setInterval(e,c))}if(a&&re&&f(),ce(n)||Ct(n)){const c=Z(n,()=>{o.value&&re&&f()});de(c)}return de(l),{isActive:o,pause:l,resume:f}}var tt=Object.getOwnPropertySymbols,la=Object.prototype.hasOwnProperty,sa=Object.prototype.propertyIsEnumerable,ua=(e,n)=>{var t={};for(var a in e)la.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&tt)for(var a of tt(e))n.indexOf(a)<0&&sa.call(e,a)&&(t[a]=e[a]);return t};function ca(e,n,t={}){const a=t,{eventFilter:r=xt}=a,i=ua(a,["eventFilter"]);return Z(e,Pt(r,n),i)}var da=Object.defineProperty,fa=Object.defineProperties,pa=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,nt=(e,n,t)=>n in e?da(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ma=(e,n)=>{for(var t in n||(n={}))It.call(n,t)&&nt(e,t,n[t]);if(ke)for(var t of ke(n))St.call(n,t)&&nt(e,t,n[t]);return e},va=(e,n)=>fa(e,pa(n)),ya=(e,n)=>{var t={};for(var a in e)It.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&ke)for(var a of ke(e))n.indexOf(a)<0&&St.call(e,a)&&(t[a]=e[a]);return t};function ha(e,n,t={}){const a=t,{eventFilter:r}=a,i=ya(a,["eventFilter"]),{eventFilter:o,pause:s,resume:l,isActive:f}=na(r);return{stop:ca(e,n,va(ma({},i),{eventFilter:o})),pause:s,resume:l,isActive:f}}function je(e){var n;const t=q(e);return(n=t==null?void 0:t.$el)!=null?n:t}const ie=re?window:void 0,ga=re?window.document:void 0;function I(...e){let n,t,a,r;if(ea(e[0])||Array.isArray(e[0])?([t,a,r]=e,n=ie):[n,t,a,r]=e,!n)return De;Array.isArray(t)||(t=[t]),Array.isArray(a)||(a=[a]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},s=(c,u,p)=>(c.addEventListener(u,p,r),()=>c.removeEventListener(u,p,r)),l=Z(()=>je(n),c=>{o(),c&&i.push(...t.flatMap(u=>a.map(p=>s(c,u,p))))},{immediate:!0,flush:"post"}),f=()=>{l(),o()};return de(f),f}function _a(e,n=!1){const t=O(),a=()=>t.value=Boolean(e());return a(),ia(a,n),t}const Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Re="__vueuse_ssr_handlers__";Ne[Re]=Ne[Re]||{};const wa=Ne[Re];function ba(e,n){return wa[e]||n}function ka(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var Oa=Object.defineProperty,at=Object.getOwnPropertySymbols,Ca=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,rt=(e,n,t)=>n in e?Oa(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,it=(e,n)=>{for(var t in n||(n={}))Ca.call(n,t)&&rt(e,t,n[t]);if(at)for(var t of at(n))Pa.call(n,t)&&rt(e,t,n[t]);return e};const xa={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Ia(e,n,t,a={}){var r;const{flush:i="pre",deep:o=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:f=!1,shallow:c,window:u=ie,eventFilter:p,onError:y=g=>{console.error(g)}}=a,h=(c?en:O)(n);if(!t)try{t=ba("getDefaultStorage",()=>{var g;return(g=ie)==null?void 0:g.localStorage})()}catch(g){y(g)}if(!t)return h;const v=q(n),w=ka(v),x=(r=a.serializer)!=null?r:xa[w],{pause:A,resume:B}=ha(h,()=>S(h.value),{flush:i,deep:o,eventFilter:p});return u&&s&&I(u,"storage",N),N(),h;function S(g){try{if(g==null)t.removeItem(e);else{const C=x.write(g),R=t.getItem(e);R!==C&&(t.setItem(e,C),u&&(u==null||u.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:R,newValue:C,storageArea:t}))))}}catch(C){y(C)}}function G(g){const C=g?g.newValue:t.getItem(e);if(C==null)return l&&v!==null&&t.setItem(e,x.write(v)),v;if(!g&&f){const R=x.read(C);return Ct(f)?f(R,v):w==="object"&&!Array.isArray(R)?it(it({},v),R):R}else return typeof C!="string"?C:x.read(C)}function N(g){if(!(g&&g.storageArea!==t)){if(g&&g.key==null){h.value=v;return}if(!(g&&g.key!==e)){A();try{h.value=G(g)}catch(C){y(C)}finally{g?mt(B):B()}}}}}function Sa(e,n={}){const{immediate:t=!0,window:a=ie}=n,r=O(!1);let i=0,o=null;function s(c){if(!r.value||!a)return;const u=c-i;e({delta:u,timestamp:c}),i=c,o=a.requestAnimationFrame(s)}function l(){!r.value&&a&&(r.value=!0,o=a.requestAnimationFrame(s))}function f(){r.value=!1,o!=null&&a&&(a.cancelAnimationFrame(o),o=null)}return t&&l(),de(f),{isActive:vt(r),pause:f,resume:l}}function Me(e,n,t={}){const{window:a=ie}=t;return Ia(e,n,a==null?void 0:a.localStorage,t)}function $a(e={}){const{type:n="page",touch:t=!0,resetOnTouchEnds:a=!1,initialValue:r={x:0,y:0},window:i=ie,eventFilter:o}=e,s=O(r.x),l=O(r.y),f=O(null),c=v=>{n==="page"?(s.value=v.pageX,l.value=v.pageY):n==="client"?(s.value=v.clientX,l.value=v.clientY):n==="movement"&&(s.value=v.movementX,l.value=v.movementY),f.value="mouse"},u=()=>{s.value=r.x,l.value=r.y},p=v=>{if(v.touches.length>0){const w=v.touches[0];n==="page"?(s.value=w.pageX,l.value=w.pageY):n==="client"&&(s.value=w.clientX,l.value=w.clientY),f.value="touch"}},y=v=>o===void 0?c(v):o(()=>c(v),{}),h=v=>o===void 0?p(v):o(()=>p(v),{});return i&&(I(i,"mousemove",y,{passive:!0}),I(i,"dragover",y,{passive:!0}),t&&n!=="movement"&&(I(i,"touchstart",h,{passive:!0}),I(i,"touchmove",h,{passive:!0}),a&&I(i,"touchend",u,{passive:!0}))),{x:s,y:l,sourceType:f}}function Aa(e,n={}){const{document:t=ga,pointerLockOptions:a}=n,r=_a(()=>t&&"pointerLockElement"in t),i=O(),o=O();let s;r.value&&(I(t,"pointerlockchange",()=>{var c;const u=(c=t.pointerLockElement)!=null?c:i.value;s&&u===s&&(i.value=t.pointerLockElement,i.value||(s=o.value=null))}),I(t,"pointerlockerror",()=>{var c;const u=(c=t.pointerLockElement)!=null?c:i.value;if(s&&u===s){const p=t.pointerLockElement?"release":"acquire";throw new Error(`Failed to ${p} pointer lock.`)}}));async function l(c,u){var p;if(!r.value)throw new Error("Pointer Lock API is not supported by your browser.");if(o.value=c instanceof Event?c.currentTarget:null,s=c instanceof Event?(p=je(e))!=null?p:o.value:je(c),!s)throw new Error("Target element undefined.");return s.requestPointerLock(u??a),await et(i).toBe(s)}async function f(){return i.value?(t.exitPointerLock(),await et(i).toBeNull(),!0):!1}return{isSupported:r,element:i,triggerElement:o,lock:l,unlock:f}}var ot;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ot||(ot={}));var Va=Object.defineProperty,lt=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Ea=Object.prototype.propertyIsEnumerable,st=(e,n,t)=>n in e?Va(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ja=(e,n)=>{for(var t in n||(n={}))Da.call(n,t)&&st(e,t,n[t]);if(lt)for(var t of lt(n))Ea.call(n,t)&&st(e,t,n[t]);return e};function Na(e={}){const{controls:n=!1,offset:t=0,immediate:a=!0,interval:r="requestAnimationFrame",callback:i}=e,o=O(Xe()+t),s=()=>o.value=Xe()+t,l=i?()=>{s(),i(o.value)}:s,f=r==="requestAnimationFrame"?Sa(l,{immediate:a}):oa(l,r,{immediate:a});return n?ja({timestamp:o},f):o}var Ra=Object.defineProperty,ut=Object.getOwnPropertySymbols,Ta=Object.prototype.hasOwnProperty,Ba=Object.prototype.propertyIsEnumerable,ct=(e,n,t)=>n in e?Ra(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,La=(e,n)=>{for(var t in n||(n={}))Ta.call(n,t)&&ct(e,t,n[t]);if(ut)for(var t of ut(n))Ba.call(n,t)&&ct(e,t,n[t]);return e};const Fa={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};La({linear:aa},Fa);function Ma(e,n){const t=O();return I(e,"dragstart",a=>{if(t.value=a.target,typeof n=="string"){const r=n;n=(i,o)=>{o==null||o.setData("text/plain",i.dataset[r]??"")}}n==null||n(t.value,a.dataTransfer)}),I(e,"dragend",()=>{t.value=null}),{element:t}}function $t(e,n,t=!0){const a=O(!1);let r=0;return re&&(I(e,"dragenter",i=>{i.preventDefault(),r++,a.value=!0}),I(e,"dragover",i=>{i.preventDefault()}),I(e,"dragleave",i=>{i.preventDefault(),r--,r===0&&(a.value=!1)}),I(e,"drop",i=>{var o;if(i.preventDefault(),r=0,a.value=!1,n)if(t){const s=Array.from(((o=i.dataTransfer)==null?void 0:o.files)??[]);n(s.length===0?null:s)}else n(i.dataTransfer)})),{isOverDropZone:a}}const Wa=Ce(()=>{const e=Me("ticket-allocator.options",[]),n=k(()=>e.value.includes("hide-empty")),t=k(()=>e.value.includes("alt-info")),a=k(()=>e.value.includes("unlocked"));return tn({all:e,hideEmpty:n,altInfo:t,unlocked:a})}),At=Ce(()=>Me("ticket-allocator.display-mode","weight")),Ua=Ce(()=>Me("ticket-allocator.operator-sorting","asc")),qa=Ce(()=>Na({interval:1e3}));const Ga=nn({name:"VCardActions",setup(e,n){let{slots:t}=n;return an({VBtn:{variant:"text"}}),fe(()=>{var a;return d("div",{class:"v-card-actions"},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),za=Be("v-card-subtitle"),Qa=Be("v-card-title"),Ha=se()({name:"VCardItem",props:{appendAvatar:String,appendIcon:ge,prependAvatar:String,prependIcon:ge,subtitle:String,title:String,...yt()},setup(e,n){let{slots:t}=n;return fe(()=>{var s;const a=!!(e.prependAvatar||e.prependIcon||t.prepend),r=!!(e.appendAvatar||e.appendIcon||t.append),i=!!(e.title||t.title),o=!!(e.subtitle||t.subtitle);return d("div",{class:"v-card-item"},[a&&d(Ae,{key:"prepend",defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},{default:()=>{var l;return[d("div",{class:"v-card-item__prepend"},[((l=t.prepend)==null?void 0:l.call(t))??d(Qe,null,null)])]}}),d("div",{class:"v-card-item__content"},[i&&d(Qa,{key:"title"},{default:()=>{var l;return[((l=t.title)==null?void 0:l.call(t))??e.title]}}),o&&d(za,{key:"subtitle"},{default:()=>{var l;return[((l=t.subtitle)==null?void 0:l.call(t))??e.subtitle]}}),(s=t.default)==null?void 0:s.call(t)]),r&&d(Ae,{key:"append",defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},{default:()=>{var l;return[d("div",{class:"v-card-item__append"},[((l=t.append)==null?void 0:l.call(t))??d(Qe,null,null)])]}})])}),{}}}),Vt=Be("v-card-text"),Ja=se()({name:"VCard",directives:{Ripple:rn},props:{appendAvatar:String,appendIcon:ge,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:ge,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...on(),...ln(),...yt(),...sn(),...un(),...cn(),...dn(),...fn(),...pn(),...mn(),...Oe(),...vn({variant:"elevated"})},setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:r}=yn(e),{borderClasses:i}=hn(e),{colorClasses:o,colorStyles:s,variantClasses:l}=gn(e),{densityClasses:f}=_n(e),{dimensionStyles:c}=wn(e),{elevationClasses:u}=bn(e),{loaderClasses:p}=ht(e),{locationStyles:y}=kn(e),{positionClasses:h}=On(e),{roundedClasses:v}=Cn(e),w=Pn(e,t),x=k(()=>e.link!==!1&&w.isLink.value),A=k(()=>!e.disabled&&e.link!==!1&&(e.link||w.isClickable.value));return fe(()=>{const B=x.value?"a":e.tag,S=!!(a.title||e.title),G=!!(a.subtitle||e.subtitle),N=S||G,g=!!(a.append||e.appendAvatar||e.appendIcon),C=!!(a.prepend||e.prependAvatar||e.prependIcon),R=!!(a.image||e.image),xe=N||C||g,Ie=!!(a.text||e.text);return xn(d(B,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":A.value},r.value,i.value,o.value,f.value,u.value,p.value,h.value,v.value,l.value],style:[s.value,c.value,y.value],href:w.href.value,onClick:A.value&&w.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var ne;return[R&&d(Ae,{key:"image",defaults:{VImg:{cover:!0,src:e.image}}},{default:()=>{var X;return[d("div",{class:"v-card__image"},[((X=a.image)==null?void 0:X.call(a))??d(Sn,null,null)])]}}),d(gt,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),xe&&d(Ha,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),Ie&&d(Vt,{key:"text"},{default:()=>{var X;return[((X=a.text)==null?void 0:X.call(a))??e.text]}}),(ne=a.default)==null?void 0:ne.call(a),a.actions&&d(Ga,null,{default:a.actions}),$n(A.value,"v-card")]}}),[[In("ripple"),A.value&&e.ripple]])}),{}}}),Ka={class:"d-inline-block"},Xa={class:"text-white"},Ya={class:"text-left"},Za=pe({__name:"Ticket",props:{ticket:null},setup(e){const n=e;An(l=>({"6dde3a3a":_(s).delay,c699af98:_(s).duration}));const t=At(),a=k(()=>{var l;return(l=Vn().props)==null?void 0:l[`${t.value}Threshold`]}),r=k(()=>n.ticket[t.value]),i=k(()=>r.value<1e5?r.value:r.value.toExponential(1)),o=k(()=>r.value>a.value),s=k(()=>({delay:-r.value+"s",duration:a.value+"s"}));return(l,f)=>(D(),z("div",Ka,[d(Y,{size:"small",class:we(["ticket",{overflow:_(o)}]),flat:"",width:"100"},{default:b(()=>[d(_t,{color:"white",icon:"mdi-airplane",start:""}),V("span",Xa,Q(_(i)),1),d(Dn,{"open-on-click":"",activator:"parent","location-strategy":"connected",location:"bottom center",origin:"auto"},{default:b(()=>[d(Ja,{width:"400",title:"aaa",subtitle:"bbb"},{default:b(()=>[d(Vt,null,{default:b(()=>[d(wt,null,{default:b(()=>[(D(!0),z(_e,null,Le(e.ticket.meta,(c,u)=>(D(),z("tr",{key:u},[V("th",Ya,Q(u),1),V("td",null,Q(c),1)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]))}});const er=me(Za,[["__scopeId","data-v-d456c3cb"]]);class tr extends En{increment(n){return this.incrementOrDecrement(n,!0)}decrement(n){return this.incrementOrDecrement(n,!1)}incrementOrDecrement(n,t){const a=this.get(!1);if(a.length===0)return[];const r=a.map(i=>{const o=i.$getAttributes();for(const l in n)Object.prototype.hasOwnProperty.call(o,l)&&typeof o[l]=="number"&&(t?o[l]+=n[l]:o[l]-=n[l]);const s=this.hydrate(o,{action:"update",operation:"set"});return i.$self().updating(i,n)===!1?i:(s.$self().updated(s),s)});return this.commit("update",this.compile(r)),r}}class nr extends bt{query(){return new tr(this.database,this.getModel(),this.queryCache,this.hydratedDataCache,this.pinia)}}function ee(e){return(n,t)=>{const a=n.$self();a.setRegistry(t,()=>a.attr(e))}}function te(e,n={}){return(t,a)=>{const r=t.$self();r.setRegistry(a,()=>{const i=r.string(e);return n.notNullable&&i.notNullable(),i})}}function M(e,n={}){return(t,a)=>{const r=t.$self();r.setRegistry(a,()=>{const i=r.number(e);return n.notNullable&&i.notNullable(),i})}}function Dt(e,n={}){return(t,a)=>{const r=t.$self();r.setRegistry(a,()=>{const i=r.boolean(e);return n.notNullable&&i.notNullable(),i})}}function H(){return(e,n)=>{const t=e.$self();t.setRegistry(n,()=>t.uid())}}function ar(e,n,t){return(a,r)=>{const i=a.$self();i.setRegistry(r,()=>i.belongsTo(e(),n,t))}}function Pe(e,n,t,a,r,i){return(o,s)=>{const l=o.$self();l.setRegistry(s,()=>l.belongsToMany(e(),n(),t,a,r,i))}}function rr(e,n,t){return(a,r)=>{const i=a.$self();i.setRegistry(r,()=>i.hasMany(e(),n,t))}}function ir(e){return(n,t)=>{n.$self().setFieldDeleteMode(t,e)}}var or=Object.defineProperty,lr=Object.getOwnPropertyDescriptor,Et=(e,n,t,a)=>{for(var r=a>1?void 0:a?lr(n,t):n,i=e.length-1,o;i>=0;i--)(o=e[i])&&(r=(a?o(n,t,r):o(r))||r);return a&&r&&or(n,t,r),r};class oe extends ue{}m(oe,"entity","teamOperator"),m(oe,"primaryKey",["team_uuid","operator_uuid"]);Et([H()],oe.prototype,"team_uuid",2);Et([H()],oe.prototype,"operator_uuid",2);var sr=Object.defineProperty,ur=Object.getOwnPropertyDescriptor,jt=(e,n,t,a)=>{for(var r=a>1?void 0:a?ur(n,t):n,i=e.length-1,o;i>=0;i--)(o=e[i])&&(r=(a?o(n,t,r):o(r))||r);return a&&r&&sr(n,t,r),r};class le extends ue{}m(le,"entity","teamCategory"),m(le,"primaryKey",["team_uuid","category_uuid"]);jt([H()],le.prototype,"team_uuid",2);jt([H()],le.prototype,"category_uuid",2);var cr=Object.defineProperty,dr=Object.getOwnPropertyDescriptor,W=(e,n,t,a)=>{for(var r=a>1?void 0:a?dr(n,t):n,i=e.length-1,o;i>=0;i--)(o=e[i])&&(r=(a?o(n,t,r):o(r))||r);return a&&r&&cr(n,t,r),r};class $ extends ue{}m($,"entity","ticketCategories"),m($,"primaryKey","uuid");W([H()],$.prototype,"uuid",2);W([te("")],$.prototype,"name",2);W([te("")],$.prototype,"short",2);W([M(0)],$.prototype,"initial_weight",2);W([M(0)],$.prototype,"weight_increment",2);W([M(0)],$.prototype,"complexity",2);W([M(0)],$.prototype,"delay",2);W([ee()],$.prototype,"created_at",2);W([ee()],$.prototype,"updated_at",2);W([Pe(()=>E,()=>le,"category_uuid","team_uuid")],$.prototype,"teams",2);var fr=Object.defineProperty,pr=Object.getOwnPropertyDescriptor,J=(e,n,t,a)=>{for(var r=a>1?void 0:a?pr(n,t):n,i=e.length-1,o;i>=0;i--)(o=e[i])&&(r=(a?o(n,t,r):o(r))||r);return a&&r&&fr(n,t,r),r};class E extends ue{}m(E,"entity","operatorTeams"),m(E,"primaryKey","uuid");J([H()],E.prototype,"uuid",2);J([te("")],E.prototype,"name",2);J([te("")],E.prototype,"description",2);J([ee()],E.prototype,"created_at",2);J([ee()],E.prototype,"updated_at",2);J([ee()],E.prototype,"deleted_at",2);J([Pe(()=>T,()=>oe,"team_uuid","operator_uuid")],E.prototype,"operators",2);J([Pe(()=>$,()=>le,"team_uuid","category_uuid")],E.prototype,"ticketCategories",2);var mr=Object.defineProperty,vr=Object.getOwnPropertyDescriptor,K=(e,n,t,a)=>{for(var r=a>1?void 0:a?vr(n,t):n,i=e.length-1,o;i>=0;i--)(o=e[i])&&(r=(a?o(n,t,r):o(r))||r);return a&&r&&mr(n,t,r),r},ye;let T=(ye=class extends ue{get ticket_count(){return this.tickets.length}get free_slots(){return this.ticket_limit!==null?Math.max(0,this.ticket_limit-this.ticket_count):null}get total_complexity(){return this.tickets.reduce((n,{complexity:t})=>n+t,0)}get free_complexity(){return this.complexity_limit!==null?Math.max(0,this.complexity_limit-this.total_complexity):null}},m(ye,"entity","operators"),m(ye,"primaryKey","uuid"),ye);K([H()],T.prototype,"uuid",2);K([te("")],T.prototype,"name",2);K([Dt(!1)],T.prototype,"online",2);K([Dt(!1)],T.prototype,"ready",2);K([M(null)],T.prototype,"ticket_limit",2);K([M(null)],T.prototype,"complexity_limit",2);K([Pe(()=>E,()=>oe,"operator_uuid","team_uuid")],T.prototype,"teams",2);K([rr(()=>j,"handler_uuid"),ir("set null")],T.prototype,"tickets",2);var yr=Object.defineProperty,hr=Object.getOwnPropertyDescriptor,U=(e,n,t,a)=>{for(var r=a>1?void 0:a?hr(n,t):n,i=e.length-1,o;i>=0;i--)(o=e[i])&&(r=(a?o(n,t,r):o(r))||r);return a&&r&&yr(n,t,r),r},he;let j=(he=class extends ue{get duration(){return Math.round((qa().value-new Date(this.created_at).getTime())/1e3)}get weight(){return this.initial_weight+this.weight_increment*this.duration}},m(he,"entity","tickets"),m(he,"primaryKey","uuid"),he);U([H()],j.prototype,"uuid",2);U([te("")],j.prototype,"category_uuid",2);U([te(null)],j.prototype,"handler_uuid",2);U([ee()],j.prototype,"meta",2);U([M(0)],j.prototype,"initial_weight",2);U([M(0)],j.prototype,"weight_increment",2);U([M(0)],j.prototype,"complexity",2);U([M(0)],j.prototype,"delay",2);U([ee()],j.prototype,"created_at",2);U([ar(()=>T,"handler_uuid")],j.prototype,"handler",2);class Nt extends nr{constructor(){super(...arguments);m(this,"use",j);m(this,"create",({uuid:t,categoryUuid:a})=>{this.save({uuid:t,category_uuid:a,created_at:new Date().toISOString()})});m(this,"close",({uuid:t})=>{this.destroy(t)});m(this,"bind",({uuid:t,operatorUuid:a})=>{this.where("uuid",t).update({handler_uuid:a})});m(this,"unbind",({uuid:t})=>{this.where("uuid",t).update({handler_uuid:null})});m(this,"changeCategory",({uuid:t,categoryUuid:a})=>{this.where("uuid",t).update({category_uuid:a})});m(this,"setMetaValue",({uuid:t,key:a,value:r})=>{var o;const i=((o=this.find(t))==null?void 0:o.meta)??{};i[a]=r,this.where("uuid",t).update({meta:i})});m(this,"incrementInitialWeight",({uuid:t,weightPoints:a})=>{this.query().where("uuid",t).increment({initial_weight:a})});m(this,"decrementInitialWeight",({uuid:t,weightPoints:a})=>{this.query().where("uuid",t).decrement({initial_weight:a})});m(this,"incrementWeightIncrement",({uuid:t,weightPoints:a})=>{this.query().where("uuid",t).increment({weight_increment:a})});m(this,"decrementWeightIncrement",({uuid:t,weightPoints:a})=>{this.query().where("uuid",t).decrement({weight_increment:a})});m(this,"incrementComplexity",({uuid:t,complexityPoints:a})=>{this.query().where("uuid",t).increment({complexity:a})});m(this,"decrementComplexity",({uuid:t,complexityPoints:a})=>{this.query().where("uuid",t).decrement({complexity:a})});m(this,"incrementDelay",({uuid:t,delaySeconds:a})=>{this.query().where("uuid",t).increment({delay:a})});m(this,"decrementDelay",({uuid:t,delaySeconds:a})=>{this.query().where("uuid",t).decrement({delay:a})})}unbound(){return this.where("handler_uuid",null)}bound(t){return this.where("handler_uuid",t)}}const gr=pe({__name:"TicketPool",props:{tickets:null},setup(e){const n=O(null);Ma(n,"uuid");const{lock:t,unlock:a,element:r,triggerElement:i}=Aa(n),{x:o}=$a({type:"movement"}),s=k(()=>Ve(Nt));Z([r,o],([f,c])=>{if(!f||!i.value)return;const u=i.value.dataset.uuid;c<0?s.value.incrementInitialWeight({uuid:u,weightPoints:-c*10}):c>0&&s.value.decrementInitialWeight({uuid:u,weightPoints:c*10})});const l=O(!1);return Te(()=>{setTimeout(()=>l.value=!0,500)}),(f,c)=>(D(),z("div",{ref_key:"ticketPool",ref:n,onMouseup:c[0]||(c[0]=(...u)=>_(a)&&_(a)(...u))},[d(kt,{name:"ticket-pool",css:l.value},{default:b(()=>[(D(!0),z(_e,null,Le(e.tickets,u=>(D(),be(er,{key:u.uuid,"data-uuid":u.uuid,ticket:u,draggable:"true",class:"mr-1 mb-1",onMousedown:jn(_(t),["ctrl"])},null,8,["data-uuid","ticket","onMousedown"]))),128))]),_:1},8,["css"])],544))}});const _r=me(gr,[["__scopeId","data-v-17e8baeb"]]);function We(){async function e(r,i){return await window.axios.patch(ve("ticket-allocator.api.ready",r),{ready:i})}async function n(r,i){return await window.axios.patch(ve("ticket-allocator.api.weight",r),{weight_points:i})}async function t(r,i){return await window.axios.patch(ve("ticket-allocator.api.handler",r),{operator_uuid:i??null})}async function a(r){return await window.axios.delete(ve("ticket-allocator.api.close",r))}return{ready:e,weight:n,handler:t,close:a}}const wr={class:"status"},br={class:"name font-weight-bold"},kr={class:"load text-center"},Or={class:"complexity text-center"},Cr={class:"more text-center"},Pr=pe({__name:"TicketRow",props:{tickets:null},setup(e){const n=e;let t=O(!1);const a=k(()=>n.tickets.reduce((l,{complexity:f})=>l+f,0)),r=k(()=>t.value?"mdi-chevron-down":"mdi-chevron-up"),i=We(),o=O(null),{isOverDropZone:s}=$t(o,async l=>{var u;const f=l==null?void 0:l.getData("text/plain");if(!f)throw new Error("Ticket UUID undefined.");const c=(u=o.value)==null?void 0:u.dataset.uuid;return await i.handler(f,c)},!1);return(l,f)=>(D(),z("tr",{ref_key:"ticketRow",ref:o,class:we(["ticket-row",{dragover:_(s)}])},[V("td",wr,[ae(l.$slots,"status",{},void 0,!0)]),V("td",br,[ae(l.$slots,"name",{},void 0,!0)]),V("td",kr,[ae(l.$slots,"load",{},()=>[F(Q(e.tickets.length),1)],!0),F("/"),ae(l.$slots,"load-max",{},()=>[F("∞")],!0)]),V("td",Or,[ae(l.$slots,"complexity",{},()=>[F(Q(_(a)),1)],!0),F("/"),ae(l.$slots,"complexity-max",{},()=>[F("∞")],!0)]),V("td",{class:we(["tickets pt-1",{collapsed:_(t)}])},[d(_r,{tickets:e.tickets},null,8,["tickets"])],2),V("td",Cr,[d(Y,{size:"x-small",variant:"tonal",icon:_(r),onClick:f[0]||(f[0]=c=>ce(t)?t.value=!_(t):t=!_(t))},null,8,["icon"])])],2))}});const Rt=me(Pr,[["__scopeId","data-v-f80d4517"]]),xr=pe({__name:"OperatorRow",props:{operator:null},setup(e){const n=e,t=k(()=>{var i,o;return{online:n.operator.online,ready:n.operator.ready,busy:!!((i=n.operator.tickets)!=null&&i.length),full:n.operator.ticket_limit!==null&&((o=n.operator.tickets)==null?void 0:o.length)>=n.operator.ticket_limit}}),a=We(),r=async()=>await a.ready(n.operator.uuid,!n.operator.ready);return(i,o)=>(D(),be(Rt,{tickets:e.operator.tickets,"data-uuid":e.operator.uuid,class:we(["operator",_(t)])},{status:b(()=>[d(_t,{icon:"mdi-account",onClick:r})]),"load-max":b(()=>[F(Q(e.operator.ticket_limit??"∞"),1)]),"complexity-max":b(()=>[F(Q(e.operator.complexity_limit??"∞"),1)]),name:b(()=>[F(Q(e.operator.name),1)]),_:1},8,["tickets","data-uuid","class"]))}});const Ir=me(xr,[["__scopeId","data-v-95e8bd34"]]),Sr="ticket-allocator";var L=(e=>(e.Commented=".operator.commented",e.ComplexityLimitAdjusted=".operator.complexity-limit-adjusted",e.Enrolled=".operator.enrolled",e.JoinedTeam=".operator.joined-team",e.LeftTeam=".operator.left-team",e.NameChanged=".operator.name-changed",e.NotReady=".operator.not-ready",e.Offline=".operator.offline",e.Online=".operator.online",e.Ready=".operator.ready",e.Resigned=".operator.resigned",e.TicketCategoryAttached=".operator.ticket-category-attached",e.TicketCategoryDetached=".operator.ticket-category-detached",e.TicketLimitAdjusted=".operator.ticket-limit-adjusted",e))(L||{}),P=(e=>(e.Bound=".ticket.bound",e.CategoryChanged=".ticket.category-changed",e.MetaValueSet=".ticket.meta-value-set",e.Closed=".ticket.closed",e.ComplexityDecremented=".ticket.complexity-decremented",e.ComplexityIncremented=".ticket.complexity-incremented",e.Created=".ticket.created",e.DelayDecremented=".ticket.delay-decremented",e.DelayIncremented=".ticket.delay-incremented",e.InitialWeightDecremented=".ticket.initial-weight-decremented",e.InitialWeightIncremented=".ticket.initial-weight-incremented",e.Tagged=".ticket.tagged",e.Unbound=".ticket.unbound",e.WeightIncrementDecremented=".ticket.weight-increment-decremented",e.WeightIncrementIncremented=".ticket.weight-increment-incremented",e))(P||{});function $r(e,n){return e.reduce((t,a)=>(typeof a[n]=="number"&&(t+=a[n]),t),0)}function Ue(e,n){return e.map(t=>Nn(t,n)).filter(t=>t)}function Ar(e,n){const t=Ue(e,n).filter(a=>typeof a=="number");return t.length===0?0:Math.max(...t)}function Vr(e,n){const t=Ue(e,n).filter(a=>typeof a=="number");return t.length===0?0:Math.min(...t)}function Dr(e){return e.map(n=>n[n.$getLocalKey()])}function Er(e,n){const t={},a=Array.isArray(n)?n:[n];return e.forEach(r=>{const i=a.length===1?r[a[0]]:`[${a.map(o=>r[o]).toString()}]`;t[i]=(t[i]||[]).concat(r)}),t}function jr(e,n,t){const a=[],r=[];return typeof n=="function"&&r.push(n)&&a.push("asc"),Array.isArray(n)&&n.forEach(i=>r.push(i[0])&&a.push(i[1])),r.length===0&&r.push(n),Rn(e,r,a,t)}function Nr(e){return{sum:n=>$r(e,n),min:n=>Vr(e,n),max:n=>Ar(e,n),pluck:n=>Ue(e,n),groupBy:n=>Er(e,n),sortBy:(n,t="SORT_REGULAR")=>jr(e,n,t),keys:()=>Dr(e)}}class Rr extends bt{constructor(){super(...arguments);m(this,"use",T);m(this,"enroll",({uuid:t})=>{this.save({uuid:t})});m(this,"resign",({uuid:t})=>{this.destroy(t)});m(this,"changeName",({uuid:t,name:a})=>{this.where("uuid",t).update({name:a})});m(this,"setOnline",({uuid:t})=>{this.where("uuid",t).update({online:!0})});m(this,"setOffline",({uuid:t})=>{this.where("uuid",t).update({online:!1})});m(this,"setReady",({uuid:t})=>{this.where("uuid",t).update({ready:!0})});m(this,"setNotReady",({uuid:t})=>{this.where("uuid",t).update({ready:!1})});m(this,"adjustTicketLimit",({uuid:t,ticketLimit:a})=>{this.where("uuid",t).update({ticket_limit:a})});m(this,"adjustComplexityLimit",({uuid:t,complexityLimit:a})=>{this.where("uuid",t).update({complexity_limit:a})})}}const Tr=se()({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...Oe()},setup(e,n){let{slots:t}=n;return fe(()=>d(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},t)),{}}}),qe=["sm","md","lg","xl","xxl"],Tt=(()=>qe.reduce((e,n)=>(e[n]={type:[Boolean,String,Number],default:!1},e),{}))(),Bt=(()=>qe.reduce((e,n)=>(e["offset"+Fe(n)]={type:[String,Number],default:null},e),{}))(),Lt=(()=>qe.reduce((e,n)=>(e["order"+Fe(n)]={type:[String,Number],default:null},e),{}))(),dt={col:Object.keys(Tt),offset:Object.keys(Bt),order:Object.keys(Lt)};function Br(e,n,t){let a=e;if(!(t==null||t===!1)){if(n){const r=n.replace(e,"");a+=`-${r}`}return e==="col"&&(a="v-"+a),e==="col"&&(t===""||t===!0)||(a+=`-${t}`),a.toLowerCase()}}const Lr=["auto","start","end","center","baseline","stretch"],$e=se()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...Tt,offset:{type:[String,Number],default:null},...Bt,order:{type:[String,Number],default:null},...Lt,alignSelf:{type:String,default:null,validator:e=>Lr.includes(e)},...Oe()},setup(e,n){let{slots:t}=n;const a=k(()=>{const r=[];let i;for(i in dt)dt[i].forEach(s=>{const l=e[s],f=Br(i,s,l);f&&r.push(f)});const o=r.some(s=>s.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return Ot(e.tag,{class:a.value},(r=t.default)==null?void 0:r.call(t))}}}),Fr=["sm","md","lg","xl","xxl"],Ge=["start","end","center"],Ft=["space-between","space-around","space-evenly"];function ze(e,n){return Fr.reduce((t,a)=>(t[e+Fe(a)]=n(),t),{})}const Mr=[...Ge,"baseline","stretch"],Mt=e=>Mr.includes(e),Wt=ze("align",()=>({type:String,default:null,validator:Mt})),Wr=[...Ge,...Ft],Ut=e=>Wr.includes(e),qt=ze("justify",()=>({type:String,default:null,validator:Ut})),Ur=[...Ge,...Ft,"stretch"],Gt=e=>Ur.includes(e),zt=ze("alignContent",()=>({type:String,default:null,validator:Gt})),ft={align:Object.keys(Wt),justify:Object.keys(qt),alignContent:Object.keys(zt)},qr={align:"align",justify:"justify",alignContent:"align-content"};function Gr(e,n,t){let a=qr[e];if(t!=null){if(n){const r=n.replace(e,"");a+=`-${r}`}return a+=`-${t}`,a.toLowerCase()}}const zr=se()({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Mt},...Wt,justify:{type:String,default:null,validator:Ut},...qt,alignContent:{type:String,default:null,validator:Gt},...zt,...Oe()},setup(e,n){let{slots:t}=n;const a=k(()=>{const r=[];let i;for(i in ft)ft[i].forEach(o=>{const s=e[o],l=Gr(i,o,s);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return Ot(e.tag,{class:["v-row",a.value]},(r=t.default)==null?void 0:r.call(t))}}});const pt=se()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Tn(),...Bn()},emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const r=He(e,"indeterminate"),i=He(e,"modelValue"),{loaderClasses:o}=ht(e),{isFocused:s,focus:l,blur:f}=Ln(e),c=k(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),u=Fn(),p=k(()=>e.id||`switch-${u}`);function y(){r.value&&(r.value=!1)}return fe(()=>{const[h,v]=Mn(t),[w,x]=Wn(e),[A,B]=Un(e),S=O();function G(){var N,g;(g=(N=S.value)==null?void 0:N.input)==null||g.click()}return d(zn,Je({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value]},h,w,{id:p.value,focused:s.value}),{...a,default:N=>{let{id:g,messagesId:C,isDisabled:R,isReadonly:xe,isValid:Ie}=N;return d(qn,Je({ref:S},A,{modelValue:i.value,"onUpdate:modelValue":[ne=>i.value=ne,y],id:g.value,"aria-describedby":C.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:R.value,readonly:xe.value,onFocus:l,onBlur:f},v),{...a,default:()=>d("div",{class:"v-switch__track",onClick:G},null),input:ne=>{let{textColorClasses:X,textColorStyles:Qt}=ne;return d("div",{class:["v-switch__thumb",X.value],style:Qt.value},[e.loading&&d(gt,{name:"v-switch",active:!0,color:Ie.value===!1?void 0:c.value},{default:Se=>a.loader?a.loader(Se):d(Gn,{active:Se.isActive,color:Se.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Qr=e=>(Xn("data-v-0eeaff63"),e=e(),Yn(),e),Hr=Qr(()=>V("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Dashboard",-1)),Jr={class:"align-text-top"},Kr=pe({__name:"Dashboard",props:{operators:null,tickets:null},setup(e){const n=e,t=Wa(),a=At(),r=Ua(),i=k(()=>Ve(Rr)),o=k(()=>Ve(Nt)),s=Ze(k(()=>Nr(i.value.with("tickets",p=>{p.orderBy(a.value,"desc")}).get()).sortBy([["online","desc"],["ready","desc"],["free_slots","desc"],["ticket_count","asc"],["name","asc"]])),750),l=Ze(k(()=>o.value.unbound().orderBy(a.value,"desc").get()),750),f=We(),c=O(null),{isOverDropZone:u}=$t(c,async p=>{const y=p==null?void 0:p.getData("text/plain");if(!y)throw new Error("Ticket UUID undefined.");return await f.close(y)},!1);return Te(()=>{i.value.fresh(n.operators),o.value.fresh(n.tickets),window.ticketAllocatorChannel=window.Echo.channel(Sr),window.ticketAllocatorChannel.listenToAll((p,y)=>{console.log(p,y)}),window.ticketAllocatorChannel.listen(L.Enrolled,i.value.enroll).listen(L.Resigned,i.value.resign).listen(L.NameChanged,i.value.changeName).listen(L.Online,i.value.setOnline).listen(L.Offline,i.value.setOffline).listen(L.Ready,i.value.setReady).listen(L.NotReady,i.value.setNotReady).listen(L.TicketLimitAdjusted,i.value.adjustTicketLimit).listen(L.ComplexityLimitAdjusted,i.value.adjustComplexityLimit).listen(P.Created,o.value.create).listen(P.Closed,o.value.close).listen(P.Bound,o.value.bind).listen(P.Unbound,o.value.unbind).listen(P.CategoryChanged,o.value.changeCategory).listen(P.MetaValueSet,o.value.setMetaValue).listen(P.InitialWeightIncremented,o.value.incrementInitialWeight).listen(P.InitialWeightDecremented,o.value.decrementInitialWeight).listen(P.WeightIncrementIncremented,o.value.incrementWeightIncrement).listen(P.WeightIncrementDecremented,o.value.decrementWeightIncrement).listen(P.ComplexityIncremented,o.value.incrementComplexity).listen(P.ComplexityDecremented,o.value.decrementComplexity).listen(P.DelayIncremented,o.value.incrementDelay).listen(P.DelayDecremented,o.value.decrementDelay)}),(p,y)=>(D(),z(_e,null,[d(_(Qn),{title:"Dashboard"}),d(Zn,null,{header:b(()=>[Hr]),default:b(()=>[V("div",null,[d(Tr,{fluid:""},{default:b(()=>[d(zr,null,{default:b(()=>[d($e,null,{default:b(()=>[d(Hn,{modelValue:_(t).all,"onUpdate:modelValue":y[0]||(y[0]=h=>_(t).all=h),variant:"plain",multiple:""},{default:b(()=>[d(Y,{value:"hide-empty",icon:_(t).hideEmpty?"mdi-eye-off-outline":"mdi-eye-outline"},null,8,["icon"]),d(Y,{value:"alt-info",icon:_(t).altInfo?"mdi-magnify-plus-outline":"mdi-magnify"},null,8,["icon"]),d(Y,{value:"unlocked",icon:_(t).unlocked?"mdi-lock-open-variant":"mdi-lock",color:"red",variant:_(t).unlocked?"text":"plain"},null,8,["icon","variant"])]),_:1},8,["modelValue"]),_(t).unlocked?(D(),be(Jn,{key:0,variant:"plain"},{default:b(()=>[d(Y,{ref_key:"closeTicket",ref:c,icon:_(u)?"mdi-delete-empty":"mdi-delete"},null,8,["icon"]),d(Y,{icon:"mdi-refresh"})]),_:1})):Kn("",!0)]),_:1}),d($e,{cols:"2"},{default:b(()=>[d(pt,{modelValue:_(r),"onUpdate:modelValue":y[1]||(y[1]=h=>ce(r)?r.value=h:null),"false-value":"asc","true-value":"desc","prepend-icon":"mdi-sort-ascending","append-icon":"mdi-sort-descending",class:"d-flex justify-end"},null,8,["modelValue"])]),_:1}),d($e,{cols:"2"},{default:b(()=>[d(pt,{modelValue:_(a),"onUpdate:modelValue":y[2]||(y[2]=h=>ce(a)?a.value=h:null),"false-value":"weight","true-value":"duration","prepend-icon":"mdi-weight","append-icon":"mdi-clock",class:"d-flex justify-end"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(wt,{class:"ticket-monitor"},{default:b(()=>[V("tbody",Jr,[d(Rt,{tickets:_(l)},{name:b(()=>[F("Очередь заявок")]),_:1},8,["tickets"]),d(kt,{name:"operator-pool"},{default:b(()=>[(D(!0),z(_e,null,Le(_(s),h=>(D(),be(Ir,{key:h.uuid,operator:h},null,8,["operator"]))),128))]),_:1})])]),_:1})])]),_:1})],64))}});const ni=me(Kr,[["__scopeId","data-v-0eeaff63"]]);export{ni as default};
//# sourceMappingURL=Dashboard-7122370a.js.map
