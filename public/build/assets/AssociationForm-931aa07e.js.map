{"version":3,"file":"AssociationForm-931aa07e.js","sources":["../../../resources/js/pages/Factor/Partials/AssociationForm.vue"],"sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" md=\"12\">\n            <v-data-table :headers=\"headers\" :items=\"config\" density=\"compact\">\n                <template #top>\n                    <v-toolbar flat>\n                        <v-toolbar-title>{{ $t(\"entries\") }}</v-toolbar-title>\n                        <v-divider class=\"mx-4\" inset vertical />\n                        <v-spacer />\n                        <v-btn color=\"primary\" dark :disabled=\"getEntries().length === 0\" @click=\"addEntry\">\n                            {{ $t(\"new_entry\") }}\n                        </v-btn>\n                    </v-toolbar>\n                </template>\n                <template #[`item.value`]=\"{ item }\">\n                    <v-autocomplete\n                        v-model=\"item.raw.value\"\n                        :items=\"getEntries(item.raw.value)\"\n                        item-title=\"name\"\n                        item-value=\"uuid\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.initial_weight`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.raw.initial_weight\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"9999999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.weight_increment`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.raw.weight_increment\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"99999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.complexity`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.raw.complexity\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"9999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.delay`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.raw.delay\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"99999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.reservation`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.raw.reservation\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"99999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.actions`]=\"{ item }\">\n                    <v-btn\n                        icon=\"mdi-delete\"\n                        :title=\"$t('remove')\"\n                        size=\"small\"\n                        variant=\"plain\"\n                        @click=\"removeEntry(item.raw.value)\"\n                    />\n                </template>\n            </v-data-table>\n        </v-col>\n    </v-row>\n</template>\n\n<script setup lang=\"ts\">\nimport type { AssociativeFactorConfig, Entry } from \"@/types\";\nimport { trans } from \"laravel-vue-i18n\";\nimport { computed } from \"vue\";\n\nconst props = defineProps<{\n    entries: Entry[];\n    modelValue: AssociativeFactorConfig;\n}>();\n\nconst emit = defineEmits<{\n    (e: \"update:modelValue\", value: AssociativeFactorConfig): void;\n}>();\n\nconst config = computed<AssociativeFactorConfig>({\n    get() {\n        return props.modelValue;\n    },\n    set(value) {\n        emit(\"update:modelValue\", value);\n    },\n});\n\nconst headers = computed(() => [\n    { title: trans(\"value\"), key: \"value\" },\n    { title: trans(\"initial_weight\"), key: \"initial_weight\" },\n    { title: trans(\"weight_increment\"), key: \"weight_increment\" },\n    { title: trans(\"complexity\"), key: \"complexity\" },\n    { title: trans(\"delay_sec\"), key: \"delay\" },\n    { title: trans(\"reservation_sec\"), key: \"reservation\" },\n    { title: trans(\"actions\"), key: \"actions\", sortable: false },\n]);\n\nfunction getEntries(uuid?: string) {\n    return props.entries.filter(\n        (entry) => entry.uuid === uuid || !config.value.map((item) => item.value).includes(entry.uuid)\n    );\n}\n\nfunction addEntry() {\n    config.value.push({\n        value: getEntries()[0]?.uuid ?? \"\",\n        initial_weight: null,\n        weight_increment: null,\n        complexity: null,\n        delay: null,\n        reservation: null,\n    });\n}\n\nfunction removeEntry(id: number | string) {\n    config.value = config.value.filter((entry) => entry.value !== id);\n}\n</script>\n"],"names":["config","computed","props","value","emit","headers","trans","getEntries","uuid","entry","item","addEntry","_a","removeEntry","id"],"mappings":"uZAiHMA,EAASC,EAAkC,CAC7C,KAAM,CACF,OAAOC,EAAM,UACjB,EACA,IAAIC,EAAO,CACPC,EAAK,oBAAqBD,CAAK,CACnC,CAAA,CACH,EAEKE,EAAUJ,EAAS,IAAM,CAC3B,CAAE,MAAOK,EAAM,OAAO,EAAG,IAAK,OAAQ,EACtC,CAAE,MAAOA,EAAM,gBAAgB,EAAG,IAAK,gBAAiB,EACxD,CAAE,MAAOA,EAAM,kBAAkB,EAAG,IAAK,kBAAmB,EAC5D,CAAE,MAAOA,EAAM,YAAY,EAAG,IAAK,YAAa,EAChD,CAAE,MAAOA,EAAM,WAAW,EAAG,IAAK,OAAQ,EAC1C,CAAE,MAAOA,EAAM,iBAAiB,EAAG,IAAK,aAAc,EACtD,CAAE,MAAOA,EAAM,SAAS,EAAG,IAAK,UAAW,SAAU,EAAM,CAAA,CAC9D,EAED,SAASC,EAAWC,EAAe,CAC/B,OAAON,EAAM,QAAQ,OAChBO,GAAUA,EAAM,OAASD,GAAQ,CAACR,EAAO,MAAM,IAAKU,GAASA,EAAK,KAAK,EAAE,SAASD,EAAM,IAAI,CAAA,CAErG,CAEA,SAASE,GAAW,OAChBX,EAAO,MAAM,KAAK,CACd,QAAOY,EAAAL,EAAa,EAAA,CAAC,IAAd,YAAAK,EAAiB,OAAQ,GAChC,eAAgB,KAChB,iBAAkB,KAClB,WAAY,KACZ,MAAO,KACP,YAAa,IAAA,CAChB,CACL,CAEA,SAASC,EAAYC,EAAqB,CAC/Bd,EAAA,MAAQA,EAAO,MAAM,OAAQS,GAAUA,EAAM,QAAUK,CAAE,CACpE"}